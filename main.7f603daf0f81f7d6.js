(self.webpackChunkWebRTCVideoCallAssistant_Client=self.webpackChunkWebRTCVideoCallAssistant_Client||[]).push([[179],{460:(Mr,zn,Ir)=>{"use strict";function H(e){return"function"==typeof e}function re(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const L=re(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function P(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class D{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(H(r))try{r()}catch(o){t=o instanceof L?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{k(o)}catch(s){t=null!=t?t:[],s instanceof L?t=[...t,...s.errors]:t.push(s)}}if(t)throw new L(t)}}add(t){var n;if(t&&t!==this)if(this.closed)k(t);else{if(t instanceof D){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&P(n,t)}remove(t){const{_finalizers:n}=this;n&&P(n,t),t instanceof D&&t._removeParent(this)}}D.EMPTY=(()=>{const e=new D;return e.closed=!0,e})();const S=D.EMPTY;function A(e){return e instanceof D||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function k(e){H(e)?e():e.unsubscribe()}const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I={setTimeout(e,t,...n){const{delegate:r}=I;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=I;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function h(e){I.setTimeout(()=>{const{onUnhandledError:t}=R;if(!t)throw e;t(e)})}function C(){}const _=m("C",void 0,void 0);function m(e,t,n){return{kind:e,value:t,error:n}}let v=null;function p(e){if(R.useDeprecatedSynchronousErrorHandling){const t=!v;if(t&&(v={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=v;if(v=null,n)throw r}}else e()}class l extends D{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,A(t)&&t.add(this)):this.destination=V}static create(t,n,r){return new x(t,n,r)}next(t){this.isStopped?B(function E(e){return m("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?B(function w(e){return m("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?B(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f=Function.prototype.bind;function b(e,t){return f.call(e,t)}class O{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){N(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){N(r)}else N(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){N(n)}}}class x extends l{constructor(t,n,r){let i;if(super(),H(t)||!t)i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&R.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&b(t.next,o),error:t.error&&b(t.error,o),complete:t.complete&&b(t.complete,o)}):i=t}this.destination=new O(i)}}function N(e){R.useDeprecatedSynchronousErrorHandling?function d(e){R.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=e)}(e):h(e)}function B(e,t){const{onStoppedNotification:n}=R;n&&I.setTimeout(()=>n(e,t))}const V={closed:!0,next:C,error:function j(e){throw e},complete:C},W="function"==typeof Symbol&&Symbol.observable||"@@observable";function K(e){return e}let ue=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Se(e){return e&&e instanceof l||function Ss(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}(e)&&A(e)}(n)?n:new x(n,r,i);return p(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=He(r))((i,o)=>{const s=new x({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[W](){return this}pipe(...n){return function ie(e){return 0===e.length?K:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=He(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function He(e){var t;return null!==(t=null!=e?e:R.Promise)&&void 0!==t?t:Promise}const Ms=re(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let We=(()=>{class e extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ti(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ms}next(n){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?S:(this.currentObservers=null,o.push(n),new D(()=>{this.currentObservers=null,P(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ue;return n.source=this,n}}return e.create=(t,n)=>new ti(t,n),e})();class ti extends We{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:S}}function tn(e){return H(null==e?void 0:e.lift)}function Xe(e){return t=>{if(tn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(e,t,n,r,i){return new Ar(e,t,n,r,i)}class Ar extends l{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(e,t){return Xe((n,r)=>{let i=0;n.subscribe(Qe(r,o=>{r.next(e.call(t,o,i++))}))})}function Or(e){return this instanceof Or?(this.v=e,this):new Or(e)}function aD(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(T){r[T]&&(i[T]=function(M){return new Promise(function(F,$){o.push([T,M,F,$])>1||a(T,M)})})}function a(T,M){try{!function c(T){T.value instanceof Or?Promise.resolve(T.value.v).then(u,g):y(o[0][2],T)}(r[T](M))}catch(F){y(o[0][3],F)}}function u(T){a("next",T)}function g(T){a("throw",T)}function y(T,M){T(M),o.shift(),o.length&&a(o[0][0],o[0][1])}}function cD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function oo(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}const Jf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Zf(e){return H(null==e?void 0:e.then)}function Kf(e){return H(e[W])}function Yf(e){return Symbol.asyncIterator&&H(null==e?void 0:e[Symbol.asyncIterator])}function Xf(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const eh=function lD(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function th(e){return H(null==e?void 0:e[eh])}function nh(e){return aD(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Or(n.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{n.releaseLock()}})}function rh(e){return H(null==e?void 0:e.getReader)}function In(e){if(e instanceof ue)return e;if(null!=e){if(Kf(e))return function dD(e){return new ue(t=>{const n=e[W]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Jf(e))return function fD(e){return new ue(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Zf(e))return function hD(e){return new ue(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,h)})}(e);if(Yf(e))return ih(e);if(th(e))return function pD(e){return new ue(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(rh(e))return function gD(e){return ih(nh(e))}(e)}throw Xf(e)}function ih(e){return new ue(t=>{(function mD(e,t){var n,r,i,o;return function io(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(g){try{u(r.next(g))}catch(y){s(y)}}function c(g){try{u(r.throw(g))}catch(y){s(y)}}function u(g){g.done?o(g.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(g.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=cD(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Wn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ft(e,t,n=1/0){return H(t)?ft((r,i)=>we((o,s)=>t(r,o,i,s))(In(e(r,i))),n):("number"==typeof t&&(n=t),Xe((r,i)=>function yD(e,t,n,r,i,o,s,a){const c=[];let u=0,g=0,y=!1;const T=()=>{y&&!c.length&&!u&&t.complete()},M=$=>u<r?F($):c.push($),F=$=>{o&&t.next($),u++;let Q=!1;In(n($,g++)).subscribe(Qe(t,q=>{null==i||i(q),o?M(q):t.next(q)},()=>{Q=!0},void 0,()=>{if(Q)try{for(u--;c.length&&u<r;){const q=c.shift();s?Wn(t,s,()=>F(q)):F(q)}T()}catch(q){t.error(q)}}))};return e.subscribe(Qe(t,M,()=>{y=!0,T()})),()=>{null==a||a()}}(r,i,e,n)))}function so(e=1/0){return ft(K,e)}const qn=new ue(e=>e.complete());function xc(e){return e[e.length-1]}function oh(e){return H(xc(e))?e.pop():void 0}function ao(e){return function _D(e){return e&&H(e.schedule)}(xc(e))?e.pop():void 0}function sh(e,t=0){return Xe((n,r)=>{n.subscribe(Qe(r,i=>Wn(r,e,()=>r.next(i),t),()=>Wn(r,e,()=>r.complete(),t),i=>Wn(r,e,()=>r.error(i),t)))})}function ah(e,t=0){return Xe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ch(e,t){if(!e)throw new Error("Iterable cannot be null");return new ue(n=>{Wn(n,t,()=>{const r=e[Symbol.asyncIterator]();Wn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ht(e,t){return t?function SD(e,t){if(null!=e){if(Kf(e))return function bD(e,t){return In(e).pipe(ah(t),sh(t))}(e,t);if(Jf(e))return function wD(e,t){return new ue(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Zf(e))return function DD(e,t){return In(e).pipe(ah(t),sh(t))}(e,t);if(Yf(e))return ch(e,t);if(th(e))return function ED(e,t){return new ue(n=>{let r;return Wn(n,t,()=>{r=e[eh](),Wn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>H(null==r?void 0:r.return)&&r.return()})}(e,t);if(rh(e))return function TD(e,t){return ch(nh(e),t)}(e,t)}throw Xf(e)}(e,t):In(e)}function Is(e){return e<=0?()=>qn:Xe((t,n)=>{let r=0;t.subscribe(Qe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function kc(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Is(1)).subscribe(()=>e())}function Fe(e){for(let t in e)if(e[t]===Fe)return t;throw Error("Could not find renamed property on target object.")}function Nc(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function xe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Fc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const AD=Fe({__forward_ref__:Fe});function je(e){return e.__forward_ref__=je,e.toString=function(){return xe(this())},e}function _e(e){return uh(e)?e():e}function uh(e){return"function"==typeof e&&e.hasOwnProperty(AD)&&e.__forward_ref__===je}class Ae extends Error{constructor(t,n){super(function Lc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function pe(e){return"string"==typeof e?e:null==e?"":String(e)}function St(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pe(e)}function As(e,t){const n=t?` in ${t}`:"";throw new Ae(-201,`No provider for ${St(e)} found${n}`)}function Ht(e,t){null==e&&function $e(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function se(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ft(e){return{providers:e.providers||[],imports:e.imports||[]}}function Vc(e){return lh(e,Ps)||lh(e,fh)}function lh(e,t){return e.hasOwnProperty(t)?e[t]:null}function dh(e){return e&&(e.hasOwnProperty(jc)||e.hasOwnProperty(FD))?e[jc]:null}const Ps=Fe({\u0275prov:Fe}),jc=Fe({\u0275inj:Fe}),fh=Fe({ngInjectableDef:Fe}),FD=Fe({ngInjectorDef:Fe});var he=(()=>((he=he||{})[he.Default=0]="Default",he[he.Host=1]="Host",he[he.Self=2]="Self",he[he.SkipSelf=4]="SkipSelf",he[he.Optional=8]="Optional",he))();let Bc;function lr(e){const t=Bc;return Bc=e,t}function hh(e,t,n){const r=Vc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&he.Optional?null:void 0!==t?t:void As(xe(e),"Injector")}function dr(e){return{toString:e}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),An=(()=>{return(e=An||(An={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",An;var e})();const VD="undefined"!=typeof globalThis&&globalThis,jD="undefined"!=typeof window&&window,BD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ne=VD||"undefined"!=typeof global&&global||jD||BD,ii={},Le=[],Rs=Fe({\u0275cmp:Fe}),Uc=Fe({\u0275dir:Fe}),Hc=Fe({\u0275pipe:Fe}),ph=Fe({\u0275mod:Fe}),Jn=Fe({\u0275fac:Fe}),co=Fe({__NG_ELEMENT_ID__:Fe});let UD=0;function Lt(e){return dr(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Le,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||An.Emulated,id:"c",styles:e.styles||Le,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,s=e.pipes;return r.id+=UD++,r.inputs=vh(e.inputs,n),r.outputs=vh(e.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(gh):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(mh):null,r})}function gh(e){return _t(e)||function fr(e){return e[Uc]||null}(e)}function mh(e){return function xr(e){return e[Hc]||null}(e)}const yh={};function $t(e){return dr(()=>{const t={type:e.type,bootstrap:e.bootstrap||Le,declarations:e.declarations||Le,imports:e.imports||Le,exports:e.exports||Le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(yh[e.id]=e.type),t})}function vh(e,t){if(null==e)return ii;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const le=Lt;function _t(e){return e[Rs]||null}function nn(e,t){const n=e[ph]||null;if(!n&&!0===t)throw new Error(`Type ${xe(e)} does not have '\u0275mod' property.`);return n}function Pn(e){return Array.isArray(e)&&"object"==typeof e[1]}function mn(e){return Array.isArray(e)&&!0===e[1]}function zc(e){return 0!=(8&e.flags)}function Ns(e){return 2==(2&e.flags)}function Fs(e){return 1==(1&e.flags)}function yn(e){return null!==e.template}function qD(e){return 0!=(512&e[2])}function Lr(e,t){return e.hasOwnProperty(Jn)?e[Jn]:null}class ZD{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function on(){return Ch}function Ch(e){return e.type.prototype.ngOnChanges&&(e.setInput=YD),KD}function KD(){const e=Dh(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ii)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function YD(e,t,n,r){const i=Dh(e)||function XD(e,t){return e[bh]=t}(e,{previous:ii,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new ZD(c&&c.currentValue,t,s===ii),e[r]=t}on.ngInherit=!0;const bh="__ngSimpleChanges__";function Dh(e){return e[bh]||null}let Zc;function Kc(){return void 0!==Zc?Zc:"undefined"!=typeof document?document:void 0}function Je(e){return!!e.listen}const wh={createRenderer:(e,t)=>Kc()};function nt(e){for(;Array.isArray(e);)e=e[0];return e}function Ls(e,t){return nt(t[e])}function an(e,t){return nt(t[e.index])}function Yc(e,t){return e.data[t]}function zt(e,t){const n=t[e];return Pn(n)?n:n[0]}function Eh(e){return 4==(4&e[2])}function Xc(e){return 128==(128&e[2])}function hr(e,t){return null==t?null:e[t]}function Th(e){e[18]=0}function eu(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const fe={lFrame:xh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sh(){return fe.bindingsEnabled}function z(){return fe.lFrame.lView}function Pe(){return fe.lFrame.tView}function ho(e){return fe.lFrame.contextLView=e,e[8]}function st(){let e=Mh();for(;null!==e&&64===e.type;)e=e.parent;return e}function Mh(){return fe.lFrame.currentTNode}function Rn(e,t){const n=fe.lFrame;n.currentTNode=e,n.isParent=t}function tu(){return fe.lFrame.isParent}function nu(){fe.lFrame.isParent=!1}function Vs(){return fe.isInCheckNoChangesMode}function js(e){fe.isInCheckNoChangesMode=e}function Mt(){const e=fe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function li(){return fe.lFrame.bindingIndex++}function Kn(e){const t=fe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function mw(e,t){const n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=e,ru(t)}function ru(e){fe.lFrame.currentDirectiveIndex=e}function iu(e){const t=fe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Ph(){return fe.lFrame.currentQueryIndex}function ou(e){fe.lFrame.currentQueryIndex=e}function vw(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Rh(e,t,n){if(n&he.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&he.Host||(i=vw(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=fe.lFrame=Oh();return r.currentTNode=t,r.lView=e,!0}function Bs(e){const t=Oh(),n=e[1];fe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Oh(){const e=fe.lFrame,t=null===e?null:e.child;return null===t?xh(e):t}function xh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function kh(){const e=fe.lFrame;return fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Nh=kh;function Us(){const e=kh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function It(){return fe.lFrame.selectedIndex}function pr(e){fe.lFrame.selectedIndex=e}function Ze(){const e=fe.lFrame;return Yc(e.tView,e.selectedIndex)}function Hs(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:g}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),c&&(e.viewHooks||(e.viewHooks=[])).push(-n,c),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=g&&(e.destroyHooks||(e.destroyHooks=[])).push(n,g)}}function $s(e,t,n){Fh(e,t,3,n)}function Gs(e,t,n,r){(3&e[2])===n&&Fh(e,t,n,r)}function su(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Fh(e,t,n,r){const o=null!=r?r:-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[18]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[18]+=65536),(a<o||-1==o)&&(Mw(e,n,t,c),e[18]=(4294901760&e[18])+c+2),c++}function Mw(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class go{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function zs(e,t,n){const r=Je(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];cu(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function Lh(e){return 3===e||4===e||6===e}function cu(e){return 64===e.charCodeAt(0)}function Ws(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Vh(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Vh(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function jh(e){return-1!==e}function di(e){return 32767&e}function fi(e,t){let n=function Ow(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let uu=!0;function qs(e){const t=uu;return uu=e,t}let xw=0;function yo(e,t){const n=du(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,lu(r.data,e),lu(t,null),lu(r.blueprint,null));const i=Qs(e,t),o=e.injectorIndex;if(jh(i)){const s=di(i),a=fi(i,t),c=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function lu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function du(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Qs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Js(e,t,n){!function kw(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(co)&&(r=n[co]),null==r&&(r=n[co]=xw++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Hh(e,t,n){if(n&he.Optional)return e;As(t,"NodeInjector")}function $h(e,t,n,r){if(n&he.Optional&&void 0===r&&(r=null),0==(n&(he.Self|he.Host))){const i=e[9],o=lr(void 0);try{return i?i.get(t,r,n&he.Optional):hh(t,r,n&he.Optional)}finally{lr(o)}}return Hh(r,t,n)}function Gh(e,t,n,r=he.Default,i){if(null!==e){const o=function Vw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(co)?e[co]:void 0;return"number"==typeof t?t>=0?255&t:Fw:t}(n);if("function"==typeof o){if(!Rh(t,e,r))return r&he.Host?Hh(i,n,r):$h(t,n,r,i);try{const s=o(r);if(null!=s||r&he.Optional)return s;As(n)}finally{Nh()}}else if("number"==typeof o){let s=null,a=du(e,t),c=-1,u=r&he.Host?t[16][6]:null;for((-1===a||r&he.SkipSelf)&&(c=-1===a?Qs(e,t):t[a+8],-1!==c&&qh(r,!1)?(s=t[1],a=di(c),t=fi(c,t)):a=-1);-1!==a;){const g=t[1];if(Wh(o,a,g.data)){const y=Lw(a,t,n,s,r,u);if(y!==zh)return y}c=t[a+8],-1!==c&&qh(r,t[1].data[a+8]===u)&&Wh(o,a,t)?(s=g,a=di(c),t=fi(c,t)):a=-1}}}return $h(t,n,r,i)}const zh={};function Fw(){return new hi(st(),z())}function Lw(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],g=Zs(a,s,n,null==r?Ns(a)&&uu:r!=s&&0!=(3&a.type),i&he.Host&&o===a);return null!==g?vo(t,s,g,a):zh}function Zs(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,g=o>>20,T=i?a+g:e.directiveEnd;for(let M=r?a:a+g;M<T;M++){const F=s[M];if(M<c&&n===F||M>=c&&F.type===n)return M}if(i){const M=s[c];if(M&&yn(M)&&M.type===n)return c}return null}function vo(e,t,n,r){let i=e[n];const o=t.data;if(function Iw(e){return e instanceof go}(i)){const s=i;s.resolving&&function PD(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${e}${n}`)}(St(o[n]));const a=qs(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?lr(s.injectImpl):null;Rh(e,r,he.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Sw(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Ch(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==c&&lr(c),qs(a),s.resolving=!1,Nh()}}return i}function Wh(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function qh(e,t){return!(e&he.Self||e&he.Host&&t)}class hi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Gh(this._tNode,this._lView,t,r,n)}}function bt(e){return dr(()=>{const t=e.prototype.constructor,n=t[Jn]||fu(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Jn]||fu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fu(e){return uh(e)?()=>{const t=fu(_e(e));return t&&t()}:Lr(e)}function _o(e){return function Nw(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Lh(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(st(),e)}const gi="__parameters__";function yi(e,t,n){return dr(()=>{const r=function hu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,g){const y=c.hasOwnProperty(gi)?c[gi]:Object.defineProperty(c,gi,{value:[]})[gi];for(;y.length<=g;)y.push(null);return(y[g]=y[g]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class be{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bw=new be("AnalyzeForEntryComponents");function cn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),cn(r,t)):t!==e&&t.push(r)}return t}function On(e,t){e.forEach(n=>Array.isArray(n)?On(n,t):t(n))}function Jh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ks(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Wt(e,t,n){let r=vi(e,t);return r>=0?e[1|r]=n:(r=~r,function $w(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function gu(e,t){const n=vi(e,t);if(n>=0)return e[1|n]}function vi(e,t){return function Yh(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const wo={},yu="__NG_DI_FLAG__",Xs="ngTempTokenPath",Zw=/\n/gm,ep="__source",Yw=Fe({provide:String,useValue:Fe});let Eo;function tp(e){const t=Eo;return Eo=e,t}function Xw(e,t=he.Default){if(void 0===Eo)throw new Ae(203,"");return null===Eo?hh(e,void 0,t):Eo.get(e,t&he.Optional?null:void 0,t)}function X(e,t=he.Default){return(function LD(){return Bc}()||Xw)(_e(e),t)}const e0=X;function vu(e){const t=[];for(let n=0;n<e.length;n++){const r=_e(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ae(900,"");let i,o=he.Default;for(let s=0;s<r.length;s++){const a=r[s],c=t0(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(X(i,o))}else t.push(X(r))}return t}function To(e,t){return e[yu]=t,e.prototype[yu]=t,e}function t0(e){return e[yu]}const ea=To(yi("Inject",e=>({token:e})),-1),mr=To(yi("Optional"),8),So=To(yi("SkipSelf"),4);let na,ra;function Ci(e){var t;return(null===(t=function Cu(){if(void 0===na&&(na=null,Ne.trustedTypes))try{na=Ne.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return na}())||void 0===t?void 0:t.createHTML(e))||e}function ap(e){var t;return(null===(t=function bu(){if(void 0===ra&&(ra=null,Ne.trustedTypes))try{ra=Ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return ra}())||void 0===t?void 0:t.createHTML(e))||e}class Vr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class g0 extends Vr{getTypeName(){return"HTML"}}class m0 extends Vr{getTypeName(){return"Style"}}class y0 extends Vr{getTypeName(){return"Script"}}class v0 extends Vr{getTypeName(){return"URL"}}class _0 extends Vr{getTypeName(){return"ResourceURL"}}function qt(e){return e instanceof Vr?e.changingThisBreaksApplicationSecurity:e}function xn(e,t){const n=lp(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function lp(e){return e instanceof Vr&&e.getTypeName()||null}class T0{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Ci(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class S0{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Ci(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=Ci(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let i=n.length-1;0<i;i--){const s=n.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const I0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,A0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Io(e){return(e=String(e)).match(I0)||e.match(A0)?e:"unsafe:"+e}function kn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ao(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const hp=kn("area,br,col,hr,img,wbr"),pp=kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gp=kn("rp,rt"),Du=Ao(hp,Ao(pp,kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ao(gp,kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ao(gp,pp)),wu=kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Eu=kn("srcset"),mp=Ao(wu,Eu,kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),P0=kn("script,style,template");class R0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Du.hasOwnProperty(n))return this.sanitizedSomething=!0,!P0.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!mp.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;wu[a]&&(c=Io(c)),Eu[a]&&(e=c,c=(e=String(e)).split(",").map(t=>Io(t.trim())).join(", ")),this.buf.push(" ",s,'="',yp(c),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Du.hasOwnProperty(n)&&!hp.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(yp(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const O0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x0=/([^\#-~ |!])/g;function yp(e){return e.replace(/&/g,"&amp;").replace(O0,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(x0,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ia;function vp(e,t){let n=null;try{ia=ia||function dp(e){const t=new S0(e);return function M0(){try{return!!(new window.DOMParser).parseFromString(Ci(""),"text/html")}catch(e){return!1}}()?new T0(t):t}(e);let r=t?String(t):"";n=ia.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ia.getInertBodyElement(r)}while(r!==o);return Ci((new R0).sanitizeChildren(Tu(n)||n))}finally{if(n){const r=Tu(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Tu(e){return"content"in e&&function k0(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ve=(()=>((Ve=Ve||{})[Ve.NONE=0]="NONE",Ve[Ve.HTML=1]="HTML",Ve[Ve.STYLE=2]="STYLE",Ve[Ve.SCRIPT=3]="SCRIPT",Ve[Ve.URL=4]="URL",Ve[Ve.RESOURCE_URL=5]="RESOURCE_URL",Ve))();function Su(e){const t=function Po(){const e=z();return e&&e[12]}();return t?ap(t.sanitize(Ve.HTML,e)||""):xn(e,"HTML")?ap(qt(e)):vp(Kc(),pe(e))}const bp="__ngContext__";function Dt(e,t){e[bp]=t}function Au(e){const t=function Ro(e){return e[bp]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ru(e){return e.ngOriginalError}function Z0(e,...t){e.error(...t)}class Oo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function J0(e){return e&&e.ngErrorLogger||Z0}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ru(t);for(;n&&Ru(n);)n=Ru(n);return n||null}}const sE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ne))();function Nn(e){return e instanceof Function?e():e}var Qt=(()=>((Qt=Qt||{})[Qt.Important=1]="Important",Qt[Qt.DashCase=2]="DashCase",Qt))();function xu(e,t){return undefined(e,t)}function xo(e){const t=e[3];return mn(t)?t[3]:t}function ku(e){return Pp(e[13])}function Nu(e){return Pp(e[4])}function Pp(e){for(;null!==e&&!mn(e);)e=e[4];return e}function Di(e,t,n,r,i){if(null!=r){let o,s=!1;mn(r)?o=r:Pn(r)&&(s=!0,r=r[0]);const a=nt(r);0===e&&null!==n?null==i?Fp(t,n,a):jr(t,n,a,i||null,!0):1===e&&null!==n?jr(t,n,a,i||null,!0):2===e?function $p(e,t,n){const r=oa(e,t);r&&function CE(e,t,n,r){Je(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function wE(e,t,n,r,i){const o=n[7];o!==nt(n)&&Di(t,e,r,o,i);for(let a=10;a<n.length;a++){const c=n[a];ko(c[1],c,e,t,r,o)}}(t,e,o,n,i)}}function Lu(e,t,n){if(Je(e))return e.createElement(t,n);{const r=null!==n?function rw(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function Op(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,eu(i,-1)),n.splice(r,1)}function Vu(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Op(i,r),t>0&&(e[n-1][4]=r[4]);const o=Ks(e,10+t);!function fE(e,t){ko(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function xp(e,t){if(!(256&t[2])){const n=t[11];Je(n)&&n.destroyNode&&ko(e,t,n,3,null,null),function gE(e){let t=e[13];if(!t)return ju(e[1],e);for(;t;){let n=null;if(Pn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Pn(t)&&ju(t[1],t),t=t[3];null===t&&(t=e),Pn(t)&&ju(t[1],t),n=t&&t[4]}t=n}}(t)}}function ju(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function _E(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof go)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function vE(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(t):nt(t[s]),c=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?a.removeEventListener(n[o],c,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(e,t),1===t[1].type&&Je(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&mn(t[3])){n!==t[3]&&Op(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function kp(e,t,n){return function Np(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===An.None||i===An.Emulated)return null}return an(r,n)}(e,t.parent,n)}function jr(e,t,n,r,i){Je(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Fp(e,t,n){Je(e)?e.appendChild(t,n):t.appendChild(n)}function Lp(e,t,n,r,i){null!==r?jr(e,t,n,r,i):Fp(e,t,n)}function oa(e,t){return Je(e)?e.parentNode(t):t.parentNode}let Bp=function jp(e,t,n){return 40&e.type?an(e,n):null};function sa(e,t,n,r){const i=kp(e,r,t),o=t[11],a=function Vp(e,t,n){return Bp(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Lp(o,i,n[c],a,!1);else Lp(o,i,n,a,!1)}function aa(e,t){if(null!==t){const n=t.type;if(3&n)return an(t,e);if(4&n)return Uu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return aa(e,r);{const i=e[t.index];return mn(i)?Uu(-1,i):nt(i)}}if(32&n)return xu(t,e)()||nt(e[t.index]);{const r=Hp(e,t);return null!==r?Array.isArray(r)?r[0]:aa(xo(e[16]),r):aa(e,t.next)}}return null}function Hp(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Uu(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return aa(r,i)}return t[7]}function Hu(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Dt(nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Hu(e,t,n.child,r,i,o,!1),Di(t,e,i,a,o);else if(32&c){const u=xu(n,r);let g;for(;g=u();)Di(t,e,i,g,o);Di(t,e,i,a,o)}else 16&c?Gp(e,t,r,n,i,o):Di(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ko(e,t,n,r,i,o){Hu(n,r,e.firstChild,t,i,o,!1)}function Gp(e,t,n,r,i,o){const s=n[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Di(t,e,i,c[u],o);else Hu(e,t,c,s[3],i,o,!0)}function zp(e,t,n){Je(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function $u(e,t,n){Je(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Wp(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const qp="ng-template";function TE(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Wp(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Qp(e){return 4===e.type&&e.value!==qp}function SE(e,t,n){return t===(4!==e.type||n?e.value:qp)}function ME(e,t,n){let r=4;const i=e.attrs||[],o=function PE(e){for(let t=0;t<e.length;t++)if(Lh(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!SE(e,c,n)||""===c&&1===t.length){if(vn(r))return!1;s=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!TE(e.attrs,u,n)){if(vn(r))return!1;s=!0}continue}const y=IE(8&r?"class":c,i,Qp(e),n);if(-1===y){if(vn(r))return!1;s=!0;continue}if(""!==u){let T;T=y>o?"":i[y+1].toLowerCase();const M=8&r?T:null;if(M&&-1!==Wp(M,u,0)||2&r&&u!==T){if(vn(r))return!1;s=!0}}}}else{if(!s&&!vn(r)&&!vn(c))return!1;if(s&&vn(c))continue;s=!1,r=c|1&r}}return vn(r)||s}function vn(e){return 0==(1&e)}function IE(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function RE(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Jp(e,t,n=!1){for(let r=0;r<t.length;r++)if(ME(e,t[r],n))return!0;return!1}function Zp(e,t){return e?":not("+t.trim()+")":t}function xE(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!vn(s)&&(t+=Zp(o,i),i=""),r=s,o=o||!vn(r);n++}return""!==i&&(t+=Zp(o,i)),t}const ge={};function de(e){Kp(Pe(),z(),It()+e,Vs())}function Kp(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&$s(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Gs(t,o,0,n)}pr(n)}function ca(e,t){return e<<17|t<<2}function _n(e){return e>>17&32767}function Gu(e){return 2|e}function Yn(e){return(131068&e)>>2}function zu(e,t){return-131069&e|t<<2}function Wu(e){return 1|e}function cg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=e.data[o];ou(i),s.contentQueries(2,t[o],o)}}}function No(e,t,n,r,i,o,s,a,c,u){const g=t.blueprint.slice();return g[0]=i,g[2]=140|r,Th(g),g[3]=g[15]=e,g[8]=n,g[10]=s||e&&e[10],g[11]=a||e&&e[11],g[12]=c||e&&e[12]||null,g[9]=u||e&&e[9]||null,g[6]=o,g[16]=2==t.type?e[16]:g,g}function wi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function tl(e,t,n,r,i){const o=Mh(),s=tu(),c=e.data[t]=function KE(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(e,t,n,r,i),function gw(){return fe.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function po(){const e=fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Rn(o,!0),o}function Ei(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Fo(e,t,n){Bs(t);try{const r=e.viewQuery;null!==r&&ll(1,r,n);const i=e.template;null!==i&&ug(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&cg(e,t),e.staticViewQueries&&ll(2,e.viewQuery,n);const o=e.components;null!==o&&function QE(e,t){for(let n=0;n<t.length;n++)gT(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Us()}}function Ti(e,t,n,r){const i=t[2];if(256==(256&i))return;Bs(t);const o=Vs();try{Th(t),function Ih(e){return fe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ug(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const u=e.preOrderCheckHooks;null!==u&&$s(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Gs(t,u,0,null),su(t,0)}if(function hT(e){for(let t=ku(e);null!==t;t=Nu(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&eu(o,1),i[2]|=1024}}}(t),function fT(e){for(let t=ku(e);null!==t;t=Nu(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Xc(r)&&Ti(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&cg(e,t),!o)if(s){const u=e.contentCheckHooks;null!==u&&$s(t,u)}else{const u=e.contentHooks;null!==u&&Gs(t,u,1),su(t,1)}!function WE(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)pr(~i);else{const o=i,s=n[++r],a=n[++r];mw(s,o),a(2,t[o])}}}finally{pr(-1)}}(e,t);const a=e.components;null!==a&&function qE(e,t){for(let n=0;n<t.length;n++)pT(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&ll(2,c,r),!o)if(s){const u=e.viewCheckHooks;null!==u&&$s(t,u)}else{const u=e.viewHooks;null!==u&&Gs(t,u,2),su(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,eu(t[3],-1))}finally{Us()}}function JE(e,t,n,r){const i=t[10],o=!Vs(),s=Eh(t);try{o&&!s&&i.begin&&i.begin(),s&&Fo(e,t,r),Ti(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function ug(e,t,n,r,i){const o=It(),s=2&r;try{pr(-1),s&&t.length>20&&Kp(e,t,20,Vs()),n(r,i)}finally{pr(o)}}function lg(e,t,n){if(zc(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function nl(e,t,n){!Sh()||(function iT(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||yo(n,t),Dt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=yn(c);u&&uT(t,n,c);const g=vo(t,e,a,n);Dt(g,t),null!==s&&lT(0,a-i,g,c,0,s),u&&(zt(n.index,t)[8]=g)}}(e,t,n,an(n,t)),128==(128&n.flags)&&function oT(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function yw(){return fe.lFrame.currentDirectiveIndex}();try{pr(s);for(let c=r;c<i;c++){const u=e.data[c],g=t[c];ru(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&vg(u,g)}}finally{pr(-1),ru(a)}}(e,t,n))}function rl(e,t,n=an){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function dg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=da(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function da(e,t,n,r,i,o,s,a,c,u){const g=20+r,y=g+i,T=function ZE(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ge);return n}(g,y),M="function"==typeof u?u():u;return T[1]={type:e,blueprint:T,template:n,queries:null,viewQuery:a,declTNode:t,data:T.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:M,incompleteFirstPass:!1}}function pg(e,t,n,r){const i=Eg(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Tg(e).push(r,i.length-1))}function gg(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Jt(e,t,n,r,i,o,s,a){const c=an(t,n);let g,u=t.inputs;!a&&null!=u&&(g=u[r])?(Ig(e,n,g,r,i),Ns(t)&&function eT(e,t){const n=zt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function XE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,Je(o)?o.setProperty(c,r,i):cu(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function il(e,t,n,r){let i=!1;if(Sh()){const o=function sT(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Jp(n,s.selectors,!1)&&(i||(i=[]),Js(yo(n,t),e,s.type),yn(s)?(_g(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Cg(n,e.data.length,o.length);for(let g=0;g<o.length;g++){const y=o[g];y.providersResolver&&y.providersResolver(y)}let a=!1,c=!1,u=Ei(e,t,o.length,null);for(let g=0;g<o.length;g++){const y=o[g];n.mergedAttrs=Ws(n.mergedAttrs,y.hostAttrs),bg(e,n,t,u,y),cT(u,y,s),null!==y.contentQueries&&(n.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=128);const T=y.type.prototype;!a&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!c&&(T.ngOnChanges||T.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),u++}!function YE(e,t){const r=t.directiveEnd,i=e.data,o=t.attrs,s=[];let a=null,c=null;for(let u=t.directiveStart;u<r;u++){const g=i[u],y=g.inputs,T=null===o||Qp(t)?null:dT(y,o);s.push(T),a=gg(y,u,a),c=gg(g.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}(e,n)}s&&function aT(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Ae(-301,!1);r.push(t[i],o)}}}(n,r,s)}return n.mergedAttrs=Ws(n.mergedAttrs,n.attrs),i}function yg(e,t,n,r,i,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const c=~t.index;(function rT(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(r,i,s)}}function vg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function _g(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function cT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;yn(t)&&(n[""]=e)}}function Cg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function bg(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Lr(i.type)),s=new go(o,yn(i),null);e.blueprint[r]=s,n[r]=s,yg(e,t,0,r,Ei(e,n,i.hostVars,ge),i)}function uT(e,t,n){const r=an(t,e),i=dg(n),o=e[10],s=fa(e,No(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function Fn(e,t,n,r,i,o){const s=an(e,t);!function ol(e,t,n,r,i,o,s){if(null==o)Je(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==s?pe(o):s(o,r||"",i);Je(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],s,o,e.value,n,r,i)}function lT(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const u=s[c++],g=s[c++],y=s[c++];null!==a?r.setInput(n,y,u,g):n[g]=y}}}function dT(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Dg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function pT(e,t){const n=zt(t,e);if(Xc(n)){const r=n[1];80&n[2]?Ti(r,n,r.template,n[8]):n[5]>0&&sl(n)}}function sl(e){for(let r=ku(e);null!==r;r=Nu(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Ti(s,o,s.template,o[8])}else o[5]>0&&sl(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=zt(n[r],e);Xc(i)&&i[5]>0&&sl(i)}}function gT(e,t){const n=zt(t,e),r=n[1];(function mT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Fo(r,n,n[8])}function fa(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function al(e){for(;e;){e[2]|=64;const t=xo(e);if(qD(e)&&!t)return e;e=t}return null}function ul(e,t,n){const r=t[10];r.begin&&r.begin();try{Ti(e,t,e.template,n)}catch(i){throw Mg(t,i),i}finally{r.end&&r.end()}}function wg(e){!function cl(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Au(n),i=r[1];JE(i,r,i.template,n)}}(e[8])}function ll(e,t,n){ou(0),t(e,n)}const CT=(()=>Promise.resolve(null))();function Eg(e){return e[7]||(e[7]=[])}function Tg(e){return e.cleanup||(e.cleanup=[])}function Mg(e,t){const n=e[9],r=n?n.get(Oo,null):null;r&&r.handleError(t)}function Ig(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=t[s],u=e.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Xn(e,t,n){const r=Ls(t,e);!function Rp(e,t,n){Je(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ha(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Fc(i,a):2==o&&(r=Fc(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const dl=new be("INJECTOR",-1);class Ag{get(t,n=wo){if(n===wo){const r=new Error(`NullInjectorError: No provider for ${xe(t)}!`);throw r.name="NullInjectorError",r}return n}}const fl=new be("Set Injector scope."),Lo={},wT={};let hl;function Pg(){return void 0===hl&&(hl=new Ag),hl}function Rg(e,t=null,n=null,r){const i=Og(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Og(e,t=null,n=null,r){return new ET(e,n,t||Pg(),r)}class ET{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&On(n,a=>this.processProvider(a,t,n)),On([t],a=>this.processInjectorType(a,[],o)),this.records.set(dl,Si(void 0,this));const s=this.records.get(fl);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:xe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=wo,r=he.Default){this.assertNotDestroyed();const i=tp(this),o=lr(void 0);try{if(!(r&he.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function OT(e){return"function"==typeof e||"object"==typeof e&&e instanceof be}(t)&&Vc(t);a=c&&this.injectableDefInScope(c)?Si(pl(t),Lo):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&he.Self?Pg():this.parent).get(t,n=r&he.Optional&&n===wo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Xs]=s[Xs]||[]).unshift(xe(t)),i)throw s;return function n0(e,t,n,r){const i=e[Xs];throw t[ep]&&i.unshift(t[ep]),e.message=function r0(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=xe(t);if(Array.isArray(t))i=t.map(xe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):xe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Zw,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Xs]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{lr(o),tp(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(xe(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(t,n,r){if(!(t=_e(t)))return!1;let i=dh(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=dh(o)),null==i)return!1;if(null!=i.imports&&!a){let g;r.push(s);try{On(i.imports,y=>{this.processInjectorType(y,n,r)&&(void 0===g&&(g=[]),g.push(y))})}finally{}if(void 0!==g)for(let y=0;y<g.length;y++){const{ngModule:T,providers:M}=g[y];On(M,F=>this.processProvider(F,T,M||Le))}}this.injectorDefTypes.add(s);const c=Lr(s)||(()=>new s);this.records.set(s,Si(c,Lo));const u=i.providers;if(null!=u&&!a){const g=t;On(u,y=>this.processProvider(y,g,u))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,r){let i=Mi(t=_e(t))?t:_e(t&&t.provide);const o=function ST(e,t,n){return kg(e)?Si(void 0,e.useValue):Si(xg(e),Lo)}(t);if(Mi(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Si(void 0,Lo,!0),s.factory=()=>vu(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,n){return n.value===Lo&&(n.value=wT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function RT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_e(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function pl(e){const t=Vc(e),n=null!==t?t.factory:Lr(e);if(null!==n)return n;if(e instanceof be)throw new Ae(204,!1);if(e instanceof Function)return function TT(e){const t=e.length;if(t>0)throw function Do(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ae(204,!1);const n=function kD(e){const t=e&&(e[Ps]||e[fh]);if(t){const n=function ND(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ae(204,!1)}function xg(e,t,n){let r;if(Mi(e)){const i=_e(e);return Lr(i)||pl(i)}if(kg(e))r=()=>_e(e.useValue);else if(function IT(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...vu(e.deps||[]));else if(function MT(e){return!(!e||!e.useExisting)}(e))r=()=>X(_e(e.useExisting));else{const i=_e(e&&(e.useClass||e.provide));if(!function PT(e){return!!e.deps}(e))return Lr(i)||pl(i);r=()=>new i(...vu(e.deps))}return r}function Si(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function kg(e){return null!==e&&"object"==typeof e&&Yw in e}function Mi(e){return"function"==typeof e}let gt=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return Rg({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return Rg({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=wo,e.NULL=new Ag,e.\u0275prov=se({token:e,providedIn:"any",factory:()=>X(dl)}),e.__NG_ELEMENT_ID__=-1,e})();function BT(e,t){Hs(Au(e)[1],st())}function ke(e){let t=function Wg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(yn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ae(903,"");i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=yl(e.inputs),s.declaredInputs=yl(e.declaredInputs),s.outputs=yl(e.outputs);const a=i.hostBindings;a&&GT(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&HT(e,c),u&&$T(e,u),Nc(e.inputs,i.inputs),Nc(e.declaredInputs,i.declaredInputs),Nc(e.outputs,i.outputs),yn(i)&&i.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===ke&&(n=!1)}}t=Object.getPrototypeOf(t)}!function UT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ws(i.hostAttrs,n=Ws(n,i.hostAttrs))}}(r)}function yl(e){return e===ii?{}:e===Le?[]:e}function HT(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function $T(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function GT(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let pa=null;function Ii(){if(!pa){const e=Ne.Symbol;if(e&&e.iterator)pa=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(pa=r)}}}return pa}function Vo(e){return!!function vl(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ii()in e)}function Ln(e,t,n){return e[t]=n}function wt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Pt(e,t,n,r){const i=z();return wt(i,li(),t)&&(Pe(),Fn(Ze(),i,e,t,n,r)),Pt}function Ri(e,t,n,r,i,o){const a=function Br(e,t,n,r){const i=wt(e,t,n);return wt(e,t+1,r)||i}(e,function Zn(){return fe.lFrame.bindingIndex}(),n,i);return Kn(2),a?t+pe(n)+r+pe(i)+o:ge}function ct(e,t,n,r,i,o,s,a){const c=z(),u=Pe(),g=e+20,y=u.firstCreatePass?function KT(e,t,n,r,i,o,s,a,c){const u=t.consts,g=wi(t,e,4,s||null,hr(u,a));il(t,n,g,hr(u,c)),Hs(t,g);const y=g.tViews=da(2,g,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,g),y.queries=t.queries.embeddedTView(g)),g}(g,u,c,t,n,r,i,o,s):u.data[g];Rn(y,!1);const T=c[11].createComment("");sa(u,c,T,y),Dt(T,c),fa(c,c[g]=Dg(T,c,T,y)),Fs(y)&&nl(u,c,y),null!=s&&rl(c,y,a)}function _l(e){return function ui(e,t){return e[t]}(function pw(){return fe.lFrame.contextLView}(),20+e)}function G(e,t=he.Default){const n=z();return null===n?X(e,t):Gh(st(),n,_e(e),t)}function El(){throw new Error("invalid")}function ye(e,t,n){const r=z();return wt(r,li(),t)&&Jt(Pe(),Ze(),r,e,t,r[11],n,!1),ye}function Tl(e,t,n,r,i){const s=i?"class":"style";Ig(e,n,t.inputs[s],s,r)}function J(e,t,n,r){const i=z(),o=Pe(),s=20+e,a=i[11],c=i[s]=Lu(a,t,function Tw(){return fe.lFrame.currentNamespace}()),u=o.firstCreatePass?function vS(e,t,n,r,i,o,s){const a=t.consts,u=wi(t,e,2,i,hr(a,o));return il(t,n,u,hr(a,s)),null!==u.attrs&&ha(u,u.attrs,!1),null!==u.mergedAttrs&&ha(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];Rn(u,!0);const g=u.mergedAttrs;null!==g&&zs(a,c,g);const y=u.classes;null!==y&&$u(a,c,y);const T=u.styles;return null!==T&&zp(a,c,T),64!=(64&u.flags)&&sa(o,i,c,u),0===function uw(){return fe.lFrame.elementDepthCount}()&&Dt(c,i),function lw(){fe.lFrame.elementDepthCount++}(),Fs(u)&&(nl(o,i,u),lg(o,u,i)),null!==r&&rl(i,u),J}function Z(){let e=st();tu()?nu():(e=e.parent,Rn(e,!1));const t=e;!function dw(){fe.lFrame.elementDepthCount--}();const n=Pe();return n.firstCreatePass&&(Hs(n,e),zc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Pw(e){return 0!=(16&e.flags)}(t)&&Tl(n,t,z(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Rw(e){return 0!=(32&e.flags)}(t)&&Tl(n,t,z(),t.stylesWithoutHost,!1),Z}function Rt(e,t,n,r){return J(e,t,n,r),Z(),Rt}function Bo(e,t,n){const r=z(),i=Pe(),o=e+20,s=i.firstCreatePass?function _S(e,t,n,r,i){const o=t.consts,s=hr(o,r),a=wi(t,e,8,"ng-container",s);return null!==s&&ha(a,s,!0),il(t,n,a,hr(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];Rn(s,!0);const a=r[o]=r[11].createComment("");return sa(i,r,a,s),Dt(a,r),Fs(s)&&(nl(i,r,s),lg(i,s,r)),null!=n&&rl(r,s),Bo}function Uo(){let e=st();const t=Pe();return tu()?nu():(e=e.parent,Rn(e,!1)),t.firstCreatePass&&(Hs(t,e),zc(e)&&t.queries.elementEnd(e)),Uo}function Ho(){return z()}function $o(e){return!!e&&"function"==typeof e.then}const Sl=function hm(e){return!!e&&"function"==typeof e.subscribe};function Oe(e,t,n,r){const i=z(),o=Pe(),s=st();return function gm(e,t,n,r,i,o,s,a){const c=Fs(r),g=e.firstCreatePass&&Tg(e),y=t[8],T=Eg(t);let M=!0;if(3&r.type||a){const Q=an(r,t),q=a?a(Q):Q,U=T.length,ne=a?ve=>a(nt(ve[r.index])):r.index;if(Je(n)){let ve=null;if(!a&&c&&(ve=function CS(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==ve)(ve.__ngLastListenerFn__||ve).__ngNextListenerFn__=o,ve.__ngLastListenerFn__=o,M=!1;else{o=Ml(r,t,y,o,!1);const Re=n.listen(q,i,o);T.push(o,Re),g&&g.push(i,ne,U,U+1)}}else o=Ml(r,t,y,o,!0),q.addEventListener(i,o,s),T.push(o),g&&g.push(i,ne,U,s)}else o=Ml(r,t,y,o,!1);const F=r.outputs;let $;if(M&&null!==F&&($=F[i])){const Q=$.length;if(Q)for(let q=0;q<Q;q+=2){const en=t[$[q]][$[q+1]].subscribe(o),ei=T.length;T.push(o,en),g&&g.push(i,r.index,ei,-(ei+1))}}}(o,i,i[11],s,e,t,!!n,r),Oe}function mm(e,t,n,r){try{return!1!==n(r)}catch(i){return Mg(e,i),!1}}function Ml(e,t,n,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?zt(e.index,t):t;0==(32&t[2])&&al(a);let c=mm(t,0,r,s),u=o.__ngNextListenerFn__;for(;u;)c=mm(t,0,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Ot(e=1){return function _w(e){return(fe.lFrame.contextLView=function Cw(e,t){for(;e>0;)t=t[15],e--;return t}(e,fe.lFrame.contextLView))[8]}(e)}function Sm(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?_n(o):Yn(o),c=!1;for(;0!==a&&(!1===c||s);){const g=e[a+1];SS(e[a],t)&&(c=!0,e[a+1]=r?Wu(g):Gu(g)),a=r?_n(g):Yn(g)}c&&(e[n+1]=r?Gu(o):Wu(o))}function SS(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&vi(e,t)>=0}const ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mm(e){return e.substring(ut.key,ut.keyEnd)}function Im(e,t){const n=ut.textEnd;return n===t?-1:(t=ut.keyEnd=function PS(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ut.key=t,n),ji(e,t,n))}function ji(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Bi(e,t,n){return bn(e,t,n,!1),Bi}function ya(e,t){return bn(e,t,null,!0),ya}function er(e){!function Dn(e,t,n,r){const i=Pe(),o=Kn(2);i.firstUpdatePass&&km(i,null,o,r);const s=z();if(n!==ge&&wt(s,o,n)){const a=i.data[It()];if(Vm(a,r)&&!xm(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Fc(c,n||"")),Tl(i,a,s,n,r)}else!function jS(e,t,n,r,i,o,s,a){i===ge&&(i=Le);let c=0,u=0,g=0<i.length?i[0]:null,y=0<o.length?o[0]:null;for(;null!==g||null!==y;){const T=c<i.length?i[c+1]:void 0,M=u<o.length?o[u+1]:void 0;let $,F=null;g===y?(c+=2,u+=2,T!==M&&(F=y,$=M)):null===y||null!==g&&g<y?(c+=2,F=g):(u+=2,F=y,$=M),null!==F&&Fm(e,t,n,r,F,$,s,a),g=c<i.length?i[c]:null,y=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function VS(e,t,n){if(null==n||""===n)return Le;const r=[],i=qt(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(Wt,jn,e,!0)}function jn(e,t){for(let n=function IS(e){return function Pm(e){ut.key=0,ut.keyEnd=0,ut.value=0,ut.valueEnd=0,ut.textEnd=e.length}(e),Im(e,ji(e,0,ut.textEnd))}(t);n>=0;n=Im(t,n))Wt(e,Mm(t),!0)}function bn(e,t,n,r){const i=z(),o=Pe(),s=Kn(2);o.firstUpdatePass&&km(o,e,s,r),t!==ge&&wt(i,s,t)&&Fm(o,o.data[It()],i,i[11],e,i[s+1]=function BS(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=xe(qt(e)))),e}(t,n),r,s)}function xm(e,t){return t>=e.expandoStartIndex}function km(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[It()],s=xm(e,n);Vm(o,r)&&null===t&&!s&&(t=!1),t=function kS(e,t,n,r){const i=iu(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Go(n=Al(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Al(i,e,t,n,r),null===o){let c=function NS(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Yn(r))return e[_n(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Al(null,e,t,c[1],r),c=Go(c,t.attrs,r),function FS(e,t,n,r){e[_n(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function LS(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Go(r,e[o].hostAttrs,n);return Go(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function ES(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=_n(s),c=Yn(s);e[r]=n;let g,u=!1;if(Array.isArray(n)){const y=n;g=y[1],(null===g||vi(y,g)>0)&&(u=!0)}else g=n;if(i)if(0!==c){const T=_n(e[a+1]);e[r+1]=ca(T,a),0!==T&&(e[T+1]=zu(e[T+1],r)),e[a+1]=function FE(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=ca(a,0),0!==a&&(e[a+1]=zu(e[a+1],r)),a=r;else e[r+1]=ca(c,0),0===a?a=r:e[c+1]=zu(e[c+1],r),c=r;u&&(e[r+1]=Gu(e[r+1])),Sm(e,g,r,!0),Sm(e,g,r,!1),function TS(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&vi(o,t)>=0&&(n[r+1]=Wu(n[r+1]))}(t,g,e,r,o),s=ca(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Al(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Go(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Go(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wt(e,s,!!n||t[++o]))}return void 0===e?null:e}function Fm(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,u=c[a+1];va(function eg(e){return 1==(1&e)}(u)?Lm(c,t,n,i,Yn(u),s):void 0)||(va(o)||function Xp(e){return 2==(2&e)}(u)&&(o=Lm(c,null,n,i,a,s)),function EE(e,t,n,r,i){const o=Je(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Qt.DashCase;if(null==i)o?e.removeStyle(n,r,s):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Qt.Important),o?e.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,Ls(It(),n),i,o))}function Lm(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),g=u?c[1]:c,y=null===g;let T=n[i+1];T===ge&&(T=y?Le:void 0);let M=y?gu(T,r):g===r?T:void 0;if(u&&!va(M)&&(M=gu(c,r)),va(M)&&(a=M,s))return a;const F=e[i+1];i=s?_n(F):Yn(F)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=gu(c,r))}return a}function va(e){return void 0!==e}function Vm(e,t){return 0!=(e.flags&(t?16:32))}function te(e,t=""){const n=z(),r=Pe(),i=e+20,o=r.firstCreatePass?wi(r,i,1,t,null):r.data[i],s=n[i]=function Fu(e,t){return Je(e)?e.createText(t):e.createTextNode(t)}(n[11],t);sa(r,n,s,o),Rn(o,!1)}function tr(e,t,n){const r=z(),i=function Pi(e,t,n,r){return wt(e,li(),n)?t+pe(n)+r:ge}(r,e,t,n);return i!==ge&&Xn(r,It(),i),tr}function _a(e,t,n,r,i){const o=z(),s=Ri(o,e,t,n,r,i);return s!==ge&&Xn(o,It(),s),_a}function Pl(e,t,n){const r=z();if(wt(r,li(),t)){const o=Pe(),s=Ze();Jt(o,s,r,e,t,function Sg(e,t,n){return(null===e||yn(e))&&(n=function sw(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(iu(o.data),s,r),n,!0)}return Pl}const Ca="en-US";let oy=Ca;function xl(e,t,n,r,i){if(e=_e(e),Array.isArray(e))for(let o=0;o<e.length;o++)xl(e[o],t,n,r,i);else{const o=Pe(),s=z();let a=Mi(e)?e:_e(e.provide),c=xg(e);const u=st(),g=1048575&u.providerIndexes,y=u.directiveStart,T=u.providerIndexes>>20;if(Mi(e)||!e.multi){const M=new go(c,i,G),F=Nl(a,t,i?g:g+T,y);-1===F?(Js(yo(u,s),o,a),kl(o,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(M),s.push(M)):(n[F]=M,s[F]=M)}else{const M=Nl(a,t,g+T,y),F=Nl(a,t,g,g+T),$=M>=0&&n[M],Q=F>=0&&n[F];if(i&&!Q||!i&&!$){Js(yo(u,s),o,a);const q=function oI(e,t,n,r,i){const o=new go(e,n,G);return o.multi=[],o.index=t,o.componentProviders=0,Ay(o,i,r&&!n),o}(i?iI:rI,n.length,i,r,c);!i&&Q&&(n[F].providerFactory=q),kl(o,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(q),s.push(q)}else kl(o,e,M>-1?M:F,Ay(n[i?F:M],c,!i&&r));!i&&r&&Q&&n[F].componentProviders++}}}function kl(e,t,n,r){const i=Mi(t),o=function AT(e){return!!e.useClass}(t);if(i||o){const c=(o?_e(t.useClass):t).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const g=u.indexOf(n);-1===g?u.push(n,[r,c]):u[g+1].push(r,c)}else u.push(n,c)}}}function Ay(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Nl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function rI(e,t,n,r){return Fl(this.multi,[])}function iI(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=vo(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),Fl(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Fl(i,o);return o}function Fl(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ze(e,t=[]){return n=>{n.providersResolver=(r,i)=>function nI(e,t,n){const r=Pe();if(r.firstCreatePass){const i=yn(e);xl(n,r.data,r.blueprint,i,!0),xl(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Py{}class cI{resolveComponentFactory(t){throw function aI(e){const t=Error(`No component factory found for ${xe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let $i=(()=>{class e{}return e.NULL=new cI,e})();function uI(){return Gi(st(),z())}function Gi(e,t){return new Zt(an(e,t))}let Zt=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=uI,e})();function lI(e){return e instanceof Zt?e.nativeElement:e}class Oy{}let nr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function fI(){const e=z(),n=zt(st().index,e);return function dI(e){return e[11]}(Pn(n)?n:e)}(),e})(),hI=(()=>{class e{}return e.\u0275prov=se({token:e,providedIn:"root",factory:()=>null}),e})();class Jo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pI=new Jo("13.2.6"),Ll={};function Ta(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(nt(o)),mn(o))for(let a=10;a<o.length;a++){const c=o[a],u=c[1].firstChild;null!==u&&Ta(c[1],c,u,r)}const s=n.type;if(8&s)Ta(e,t,n.child,r);else if(32&s){const a=xu(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Hp(t,n);if(Array.isArray(a))r.push(...a);else{const c=xo(t[16]);Ta(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Zo{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Ta(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(mn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Vu(t,r),Ks(n,r))}this._attachedToViewContainer=!1}xp(this._lView[1],this._lView)}onDestroy(t){pg(this._lView[1],this._lView,null,t)}markForCheck(){al(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ul(this._lView[1],this._lView,this.context)}checkNoChanges(){!function vT(e,t,n){js(!0);try{ul(e,t,n)}finally{js(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pE(e,t){ko(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=t}}class gI extends Zo{constructor(t){super(t),this._view=t}detectChanges(){wg(this._view)}checkNoChanges(){!function _T(e){js(!0);try{wg(e)}finally{js(!1)}}(this._view)}get context(){return null}}class xy extends $i{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=_t(t);return new Vl(n,this.ngModule)}}function ky(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Vl extends Py{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function kE(e){return e.map(xE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return ky(this.componentDef.inputs)}get outputs(){return ky(this.componentDef.outputs)}create(t,n,r,i){const o=(i=i||this.ngModule)?function yI(e,t){return{get:(n,r,i)=>{const o=e.get(n,Ll,i);return o!==Ll||r===Ll?o:t.get(n,r,i)}}}(t,i.injector):t,s=o.get(Oy,wh),a=o.get(hI,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",g=r?function hg(e,t,n){if(Je(e))return e.selectRootElement(t,n===An.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Lu(s.createRenderer(null,this.componentDef),u,function mI(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),y=this.componentDef.onPush?576:528,T=function zg(e,t){return{components:[],scheduler:e||sE,clean:CT,playerHandler:t||null,flags:0}}(),M=da(0,null,null,1,0,null,null,null,null,null),F=No(null,M,T,y,null,null,s,c,a,o);let $,Q;Bs(F);try{const q=function $g(e,t,n,r,i,o){const s=n[1];n[20]=e;const c=wi(s,20,2,"#host",null),u=c.mergedAttrs=t.hostAttrs;null!==u&&(ha(c,u,!0),null!==e&&(zs(i,e,u),null!==c.classes&&$u(i,e,c.classes),null!==c.styles&&zp(i,e,c.styles)));const g=r.createRenderer(e,t),y=No(n,dg(t),null,t.onPush?64:16,n[20],c,r,g,o||null,null);return s.firstCreatePass&&(Js(yo(c,n),s,t.type),_g(s,c),Cg(c,n.length,1)),fa(n,y),n[20]=y}(g,this.componentDef,F,s,c);if(g)if(r)zs(c,g,["ng-version",pI.full]);else{const{attrs:U,classes:ne}=function NE(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!vn(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);U&&zs(c,g,U),ne&&ne.length>0&&$u(c,g,ne.join(" "))}if(Q=Yc(M,20),void 0!==n){const U=Q.projection=[];for(let ne=0;ne<this.ngContentSelectors.length;ne++){const ve=n[ne];U.push(null!=ve?Array.from(ve):null)}}$=function Gg(e,t,n,r,i){const o=n[1],s=function nT(e,t,n){const r=st();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),bg(e,r,t,Ei(e,t,1,null),n));const i=vo(t,e,r.directiveStart,r);Dt(i,t);const o=an(r,t);return o&&Dt(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(c=>c(s,t)),t.contentQueries){const c=st();t.contentQueries(1,s,c.directiveStart)}const a=st();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(pr(a.index),yg(n[1],a,0,a.directiveStart,a.directiveEnd,t),vg(t,s)),s}(q,this.componentDef,F,T,[BT]),Fo(M,F,null)}finally{Us()}return new _I(this.componentType,$,Gi(Q,F),F,Q)}}class _I extends class sI{}{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new gI(i),this.componentType=t}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class rr{}class Ny{}const zi=new Map;class Vy extends rr{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xy(this);const r=nn(t);this._bootstrapComponents=Nn(r.bootstrap),this._r3Injector=Og(t,n,[{provide:rr,useValue:this},{provide:$i,useValue:this.componentFactoryResolver}],xe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=gt.THROW_IF_NOT_FOUND,r=he.Default){return t===gt||t===rr||t===dl?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jl extends Ny{constructor(t){super(),this.moduleType=t,null!==nn(t)&&function bI(e){const t=new Set;!function n(r){const i=nn(r,!0),o=i.id;null!==o&&(function Fy(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${xe(t)} vs ${xe(t.name)}`)}(o,zi.get(o),r),zi.set(o,r));const s=Nn(i.imports);for(const a of s)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new Vy(this.moduleType,t)}}function ln(e,t,n){const r=Mt()+e,i=z();return i[r]===ge?Ln(i,r,n?t.call(n):t()):function jo(e,t){return e[t]}(i,r)}function Sa(e,t,n,r){return function jy(e,t,n,r,i,o){const s=t+n;return wt(e,s,i)?Ln(e,s+1,o?r.call(o,i):r(i)):function Ko(e,t){const n=e[t];return n===ge?void 0:n}(e,s+1)}(z(),Mt(),e,t,n,r)}function Bl(e){return t=>{setTimeout(e,void 0,t)}}const Ye=class LI extends We{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,o,s;let a=t,c=n||(()=>null),u=r;if(t&&"object"==typeof t){const y=t;a=null===(i=y.next)||void 0===i?void 0:i.bind(y),c=null===(o=y.error)||void 0===o?void 0:o.bind(y),u=null===(s=y.complete)||void 0===s?void 0:s.bind(y)}this.__isAsync&&(c=Bl(c),a&&(a=Bl(a)),u&&(u=Bl(u)));const g=super.subscribe({next:a,error:c,complete:u});return t instanceof D&&t.add(g),g}};function VI(){return this._results[Ii()]()}class Ul{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ii(),r=Ul.prototype;r[n]||(r[n]=VI)}get changes(){return this._changes||(this._changes=new Ye)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=cn(t);(this._changesDetected=!function Uw(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ir=(()=>{class e{}return e.__NG_ELEMENT_ID__=UI,e})();const jI=ir,BI=class extends jI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=No(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),Fo(n,r,t),new Zo(r)}};function UI(){return Ma(st(),z())}function Ma(e,t){return 4&e.type?new BI(t,e,Gi(e,t)):null}let wn=(()=>{class e{}return e.__NG_ELEMENT_ID__=HI,e})();function HI(){return Wy(st(),z())}const $I=wn,Gy=class extends $I{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Gi(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qs(this._hostTNode,this._hostLView);if(jh(t)){const n=fi(t,this._hostLView),r=di(t);return new hi(n[1].data[r+8],n)}return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=zy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,o){const s=t&&!function bo(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.ngModuleRef}const c=s?t:new Vl(_t(t)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const T=(s?u:this.parentInjector).get(rr,null);T&&(o=T)}const g=c.create(u,i,void 0,o);return this.insert(g.hostView,a),g}insert(t,n){const r=t._lView,i=r[1];if(function cw(e){return mn(e[3])}(r)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const y=r[3],T=new Gy(y,y[6],y[3]);T.detach(T.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function mE(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],Jh(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function yE(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,s,o);const a=Uu(o,s),c=r[11],u=oa(c,s[7]);return null!==u&&function hE(e,t,n,r,i,o){r[0]=i,r[6]=t,ko(e,r,n,1,i,o)}(i,s[6],c,r,u,a),t.attachToViewContainerRef(),Jh(Hl(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=zy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Vu(this._lContainer,n);r&&(Ks(Hl(this._lContainer),n),xp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Vu(this._lContainer,n);return r&&null!=Ks(Hl(this._lContainer),n)?new Zo(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function zy(e){return e[8]}function Hl(e){return e[8]||(e[8]=[])}function Wy(e,t){let n;const r=t[e.index];if(mn(r))n=r;else{let i;if(8&e.type)i=nt(r);else{const o=t[11];i=o.createComment("");const s=an(e,t);jr(o,oa(o,s),i,function bE(e,t){return Je(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=Dg(r,t,i,e),fa(t,n)}return new Gy(n,e,t)}class $l{constructor(t){this.queryList=t,this.matches=null}clone(){return new $l(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Gl(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Ky(t,n).matches&&this.queries[n].setDirty()}}class qy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class zl{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new zl(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wl{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Wl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,WI(n,o)),this.matchTNodeWithReadOption(t,n,Zs(n,t,o,!1,!1))}else r===ir?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Zs(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Zt||i===wn||i===ir&&4&n.type)this.addMatch(n.index,-2);else{const o=Zs(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function WI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function QI(e,t,n,r){return-1===n?function qI(e,t){return 11&e.type?Gi(e,t):4&e.type?Ma(e,t):null}(t,e):-2===n?function JI(e,t,n){return n===Zt?Gi(t,e):n===ir?Ma(t,e):n===wn?Wy(t,e):void 0}(e,t,r):vo(e,e[1],n,t)}function Qy(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:QI(t,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function ql(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Qy(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],g=t[-c];for(let y=10;y<g.length;y++){const T=g[y];T[17]===T[3]&&ql(T[1],T,u,r)}if(null!==g[9]){const y=g[9];for(let T=0;T<y.length;T++){const M=y[T];ql(M[1],M,u,r)}}}}}return r}function Hr(e){const t=z(),n=Pe(),r=Ph();ou(r+1);const i=Ky(n,r);if(e.dirty&&Eh(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?ql(n,t,r,[]):Qy(n,t,i,r);e.reset(o,lI),e.notifyOnChanges()}return!0}return!1}function Xo(e,t,n){const r=Pe();r.firstCreatePass&&(function Zy(e,t,n){null===e.queries&&(e.queries=new zl),e.queries.track(new Wl(t,n))}(r,new qy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Jy(e,t,n){const r=new Ul(4==(4&n));pg(e,t,r,r.destroy),null===t[19]&&(t[19]=new Gl),t[19].queries.push(new $l(r))}(r,z(),t)}function $r(){return function ZI(e,t){return e[19].queries[t].queryList}(z(),Ph())}function Ky(e,t){return e.queries.getByIndex(t)}function Pa(...e){}const ed=new be("Application Initializer");let td=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Pa,this.reject=Pa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if($o(o))n.push(o);else if(Sl(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(X(ed,8))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ts=new be("AppId",{providedIn:"root",factory:function pv(){return`${nd()}${nd()}${nd()}`}});function nd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gv=new be("Platform Initializer"),Ra=new be("Platform ID"),mv=new be("appBootstrapListener");let yv=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const _r=new be("LocaleId",{providedIn:"root",factory:()=>e0(_r,he.Optional|he.SkipSelf)||function gA(){return"undefined"!=typeof $localize&&$localize.locale||Ca}()});class yA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let vv=(()=>{class e{compileModuleSync(n){return new jl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Nn(nn(n).declarations).reduce((s,a)=>{const c=_t(a);return c&&s.push(new Vl(c)),s},[]);return new yA(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _A=(()=>Promise.resolve(0))();function rd(e){"undefined"==typeof Zone?_A.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function CA(){let e=Ne.requestAnimationFrame,t=Ne.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function wA(e){const t=()=>{!function DA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ne,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,od(e),e.isCheckStableRunning=!0,id(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),od(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return _v(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Cv(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return _v(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Cv(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,od(e),id(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,bA,Pa,Pa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const bA={};function id(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function od(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _v(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cv(e){e._nesting--,id(e)}class EA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let sd=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lt.assertNotInAngularZone(),rd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(X(lt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),bv=(()=>{class e{constructor(){this._applications=new Map,ad.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ad.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();class TA{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let En,ad=new TA;const Dv=new be("AllowMultipleToken");class wv{constructor(t,n){this.name=t,this.token=n}}function Ev(e,t,n=[]){const r=`Platform: ${t}`,i=new be(r);return(o=[])=>{let s=Tv();if(!s||s.injector.get(Dv,!1))if(e)e(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:fl,useValue:"platform"});!function AA(e){if(En&&!En.destroyed&&!En.injector.get(Dv,!1))throw new Ae(400,"");En=e.get(Sv);const t=e.get(gv,null);t&&t.forEach(n=>n())}(gt.create({providers:a,name:r}))}return function PA(e){const t=Tv();if(!t)throw new Ae(401,"");return t}()}}function Tv(){return En&&!En.destroyed?En:null}let Sv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function RA(e,t){let n;return n="noop"===e?new EA:("zone.js"===e?void 0:e)||new lt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:lt,useValue:a}];return a.run(()=>{const u=gt.create({providers:c,parent:this.injector,name:n.moduleType.name}),g=n.create(u),y=g.injector.get(Oo,null);if(!y)throw new Ae(402,"");return a.runOutsideAngular(()=>{const T=a.onError.subscribe({next:M=>{y.handleError(M)}});g.onDestroy(()=>{cd(this._modules,g),T.unsubscribe()})}),function OA(e,t,n){try{const r=n();return $o(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(y,a,()=>{const T=g.injector.get(td);return T.runInitializers(),T.donePromise.then(()=>(function dM(e){Ht(e,"Expected localeId to be defined"),"string"==typeof e&&(oy=e.toLowerCase().replace(/_/g,"-"))}(g.injector.get(_r,Ca)||Ca),this._moduleDoBootstrap(g),g))})})}bootstrapModule(n,r=[]){const i=Mv({},r);return function MA(e,t,n){const r=new jl(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ns);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ae(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(X(gt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function Mv(e,t){return Array.isArray(t)?t.reduce(Mv,e):Object.assign(Object.assign({},e),t)}let ns=(()=>{class e{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ue(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),c=new ue(u=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),rd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});this.isStable=function MD(...e){const t=ao(e),n=function CD(e,t){return"number"==typeof xc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?In(r[0]):so(n)(ht(r,t)):qn}(a,c.pipe(function ID(e={}){const{connector:t=(()=>new We),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s=null,a=null,c=null,u=0,g=!1,y=!1;const T=()=>{null==a||a.unsubscribe(),a=null},M=()=>{T(),s=c=null,g=y=!1},F=()=>{const $=s;M(),null==$||$.unsubscribe()};return Xe(($,Q)=>{u++,!y&&!g&&T();const q=c=null!=c?c:t();Q.add(()=>{u--,0===u&&!y&&!g&&(a=kc(F,i))}),q.subscribe(Q),s||(s=new x({next:U=>q.next(U),error:U=>{y=!0,T(),a=kc(M,n,U),q.error(U)},complete:()=>{g=!0,T(),a=kc(M,r),q.complete()}}),ht($).subscribe(s))})(o)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Ae(405,"");let i;i=n instanceof Py?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function IA(e){return e.isBoundToModule}(i)?void 0:this._injector.get(rr),a=i.create(gt.NULL,[],r||i.selector,o),c=a.location.nativeElement,u=a.injector.get(sd,null),g=u&&a.injector.get(bv);return u&&g&&g.registerApplication(c,u),a.onDestroy(()=>{this.detachView(a.hostView),cd(this.components,a),g&&g.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;cd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(mv,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(X(lt),X(gt),X(Oo),X($i),X(td))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Av=!0,Oa=(()=>{class e{}return e.__NG_ELEMENT_ID__=NA,e})();function NA(e){return function FA(e,t,n){if(Ns(e)&&!n){const r=zt(e.index,t);return new Zo(r,r)}return 47&e.type?new Zo(t[16],t):null}(st(),z(),16==(16&e))}class kv{constructor(){}supports(t){return Vo(t)}create(t){return new HA(t)}}const UA=(e,t)=>t;class HA{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UA}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Fv(r,i,o)?n:r,a=Fv(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,g=c-i;if(u!=g){for(let T=0;T<u;T++){const M=T<o.length?o[T]:o[T]=0,F=M+T;g<=F&&F<u&&(o[T]=M+1)}o[s.previousIndex]=g-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Vo(t))throw new Ae(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function ZT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ii()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new $A(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Nv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $A{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GA{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Nv{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new GA,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fv(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Vv(){return new Na([new kv])}let Na=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Vv()),deps:[[e,new So,new mr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Ae(901,"")}}return e.\u0275prov=se({token:e,providedIn:"root",factory:Vv}),e})();const JA=Ev(null,"core",[{provide:Ra,useValue:"unknown"},{provide:Sv,deps:[gt]},{provide:bv,deps:[]},{provide:yv,deps:[]}]);let ZA=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(X(ns))},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({}),e})(),Fa=null;function Bn(){return Fa}const mt=new be("DocumentToken");let zr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:function(){return function eP(){return X(Bv)}()},providedIn:"platform"}),e})();const tP=new be("Location Initialized");let Bv=(()=>{class e extends zr{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bn().getBaseHref(this._doc)}onPopState(n){const r=Bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Uv()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Uv()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(X(mt))},e.\u0275prov=se({token:e,factory:function(){return function nP(){return new Bv(X(mt))}()},providedIn:"platform"}),e})();function Uv(){return!!window.history.pushState}function hd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Hv(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function or(e){return e&&"?"!==e[0]?"?"+e:e}let qi=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:function(){return function rP(e){const t=X(mt).location;return new $v(X(zr),t&&t.origin||"")}()},providedIn:"root"}),e})();const pd=new be("appBaseHref");let $v=(()=>{class e extends qi{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+or(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(X(zr),X(pd,8))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),iP=(()=>{class e extends qi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=hd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(X(zr),X(pd,8))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),gd=(()=>{class e{constructor(n,r){this._subject=new Ye,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Hv(Gv(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+or(r))}normalize(n){return e.stripTrailingSlash(function sP(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Gv(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=or,e.joinWithSlash=hd,e.stripTrailingSlash=Hv,e.\u0275fac=function(n){return new(n||e)(X(qi),X(zr))},e.\u0275prov=se({token:e,factory:function(){return function oP(){return new gd(X(qi),X(zr))}()},providedIn:"root"}),e})();function Gv(e){return e.replace(/\/index.html$/,"")}function Xv(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}class zP{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Td=(()=>{class e{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new zP(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),e_(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{e_(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(G(wn),G(ir),G(Na))},e.\u0275dir=le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function e_(e,t){e.context.$implicit=t.item}let Wa=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new WP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){t_("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){t_("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(G(wn),G(ir))},e.\u0275dir=le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class WP{constructor(){this.$implicit=null,this.ngIf=null}}function t_(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${xe(t)}'.`)}let i_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({}),e})();let D1=(()=>{class e{}return e.\u0275prov=se({token:e,providedIn:"root",factory:()=>new w1(X(mt),window)}),e})();class w1{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function E1(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=s_(this.window.history)||s_(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function s_(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class a_{}class Pd extends class T1 extends class XA{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function YA(e){Fa||(Fa=e)}(new Pd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function S1(){return ss=ss||document.querySelector("base"),ss?ss.getAttribute("href"):null}();return null==n?null:function M1(e){qa=qa||document.createElement("a"),qa.setAttribute("href",e);const t=qa.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Xv(document.cookie,t)}}let qa,ss=null;const c_=new be("TRANSITION_ID"),A1=[{provide:ed,useFactory:function I1(e,t,n){return()=>{n.get(td).donePromise.then(()=>{const r=Bn(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[c_,mt,gt],multi:!0}];class Rd{static init(){!function SA(e){ad=e}(new Rd)}addToWindow(t){Ne.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ne.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ne.getAllAngularRootElements=()=>t.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?Bn().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let P1=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const Qa=new be("EventManagerPlugins");let Ja=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(X(Qa),X(lt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();class u_{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Bn().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let l_=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),as=(()=>{class e extends l_{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(d_),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(d_))}}return e.\u0275fac=function(n){return new(n||e)(X(mt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function d_(e){Bn().remove(e)}const Od={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xd=/%COMP%/g;function Za(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Za(e,i,n):(i=i.replace(xd,e),n.push(i))}return n}function p_(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let kd=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Nd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case An.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new F1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case An.ShadowDom:return new L1(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Za(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(X(Ja),X(as),X(ts))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();class Nd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Od[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Od[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Od[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Qt.DashCase|Qt.Important)?t.style.setProperty(n,r,i&Qt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Qt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,p_(r)):this.eventManager.addEventListener(t,n,p_(r))}}class F1 extends Nd{constructor(t,n,r,i){super(t),this.component=r;const o=Za(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function x1(e){return"_ngcontent-%COMP%".replace(xd,e)}(i+"-"+r.id),this.hostAttr=function k1(e){return"_nghost-%COMP%".replace(xd,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class L1 extends Nd{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Za(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let V1=(()=>{class e extends u_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(X(mt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const m_=["alt","control","meta","shift"],B1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y_={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},U1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let H1=(()=>{class e extends u_{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="";if(m_.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function $1(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&y_.hasOwnProperty(t)&&(t=y_[t]))}return B1[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),m_.forEach(o=>{o!=i&&U1[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{e.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(X(mt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const q1=Ev(JA,"browser",[{provide:Ra,useValue:"browser"},{provide:gv,useValue:function G1(){Pd.makeCurrent(),Rd.init()},multi:!0},{provide:mt,useFactory:function W1(){return function iw(e){Zc=e}(document),document},deps:[]}]),Q1=[{provide:fl,useValue:"root"},{provide:Oo,useFactory:function z1(){return new Oo},deps:[]},{provide:Qa,useClass:V1,multi:!0,deps:[mt,lt,Ra]},{provide:Qa,useClass:H1,multi:!0,deps:[mt]},{provide:kd,useClass:kd,deps:[Ja,as,ts]},{provide:Oy,useExisting:kd},{provide:l_,useExisting:as},{provide:as,useClass:as,deps:[mt]},{provide:sd,useClass:sd,deps:[lt]},{provide:Ja,useClass:Ja,deps:[Qa,lt]},{provide:a_,useClass:P1,deps:[]}];let J1=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:ts,useValue:n.appId},{provide:c_,useExisting:ts},A1]}}}return e.\u0275fac=function(n){return new(n||e)(X(e,12))},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({providers:Q1,imports:[i_,ZA]}),e})();"undefined"!=typeof window&&window;let C_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:function(n){let r=null;return r=n?new(n||e):X(b_),r},providedIn:"root"}),e})(),b_=(()=>{class e extends C_{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ve.NONE:return r;case Ve.HTML:return xn(r,"HTML")?qt(r):vp(this._doc,String(r)).toString();case Ve.STYLE:return xn(r,"Style")?qt(r):r;case Ve.SCRIPT:if(xn(r,"Script"))return qt(r);throw new Error("unsafe value used in a script context");case Ve.URL:return lp(r),xn(r,"URL")?qt(r):Io(String(r));case Ve.RESOURCE_URL:if(xn(r,"ResourceURL"))return qt(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return function C0(e){return new g0(e)}(n)}bypassSecurityTrustStyle(n){return function b0(e){return new m0(e)}(n)}bypassSecurityTrustScript(n){return function D0(e){return new y0(e)}(n)}bypassSecurityTrustUrl(n){return function w0(e){return new v0(e)}(n)}bypassSecurityTrustResourceUrl(n){return function E0(e){return new _0(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(X(mt))},e.\u0275prov=se({token:e,factory:function(n){let r=null;return r=n?new n:function oR(e){return new b_(e.get(mt))}(X(gt)),r},providedIn:"root"}),e})();const{isArray:sR}=Array,{getPrototypeOf:aR,prototype:cR,keys:uR}=Object;function D_(e){if(1===e.length){const t=e[0];if(sR(t))return{args:t,keys:null};if(function lR(e){return e&&"object"==typeof e&&aR(e)===cR}(t)){const n=uR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:dR}=Array;function w_(e){return we(t=>function fR(e,t){return dR(t)?e(...t):e(t)}(e,t))}function E_(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}let T_=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(G(nr),G(Zt))},e.\u0275dir=le({type:e}),e})(),Wr=(()=>{class e extends T_{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=bt(e)))(r||e)}}(),e.\u0275dir=le({type:e,features:[ke]}),e})();const Un=new be("NgValueAccessor"),gR={provide:Un,useExisting:je(()=>cs),multi:!0},yR=new be("CompositionEventMode");let cs=(()=>{class e extends T_{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mR(){const e=Bn()?Bn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(G(nr),G(Zt),G(yR,8))},e.\u0275dir=le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Oe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ze([gR]),ke]}),e})();const Et=new be("NgValidators"),Dr=new be("NgAsyncValidators");function P_(e){return function br(e){return null==e||0===e.length}(e.value)?{required:!0}:null}function Ka(e){return null}function F_(e){return null!=e}function L_(e){const t=$o(e)?ht(e):e;return Sl(t),t}function V_(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function j_(e,t){return t.map(n=>n(e))}function B_(e){return e.map(t=>function _R(e){return!e.validate}(t)?t:n=>t.validate(n))}function Ld(e){return null!=e?function U_(e){if(!e)return null;const t=e.filter(F_);return 0==t.length?null:function(n){return V_(j_(n,t))}}(B_(e)):null}function Vd(e){return null!=e?function H_(e){if(!e)return null;const t=e.filter(F_);return 0==t.length?null:function(n){return function hR(...e){const t=oh(e),{args:n,keys:r}=D_(e),i=new ue(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let g=0;g<s;g++){let y=!1;In(n[g]).subscribe(Qe(o,T=>{y||(y=!0,u--),a[g]=T},()=>c--,void 0,()=>{(!c||!y)&&(u||o.next(r?E_(r,a):a),o.complete())}))}});return t?i.pipe(w_(t)):i}(j_(n,t).map(L_)).pipe(we(V_))}}(B_(e)):null}function $_(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function jd(e){return e?Array.isArray(e)?e:[e]:[]}function Ya(e,t){return Array.isArray(e)?e.includes(t):e===t}function W_(e,t){const n=jd(t);return jd(e).forEach(i=>{Ya(n,i)||n.push(i)}),n}function q_(e,t){return jd(t).filter(n=>!Ya(e,n))}class Q_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ld(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Vd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class wr extends Q_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nt extends Q_{get formDirective(){return null}get path(){return null}}class J_{constructor(t){this._cd=t}is(t){var n,r,i;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let Bd=(()=>{class e extends J_{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(G(wr,2))},e.\u0275dir=le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ya("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ke]}),e})(),Xa=(()=>{class e extends J_{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(G(Nt,10))},e.\u0275dir=le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ya("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ke]}),e})();function us(e,t){$d(e,t),t.valueAccessor.writeValue(e.value),function MR(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&K_(e,t)})}(e,t),function AR(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function IR(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&K_(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function SR(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function rc(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function $d(e,t){const n=function G_(e){return e._rawValidators}(e);null!==t.validator?e.setValidators($_(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function z_(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators($_(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();rc(t._rawValidators,i),rc(t._rawAsyncValidators,i)}function K_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Wd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ls="VALID",oc="INVALID",Qi="PENDING",ds="DISABLED";function Qd(e){return(sc(e)?e.validators:e)||null}function eC(e){return Array.isArray(e)?Ld(e):e||null}function Jd(e,t){return(sc(t)?t.asyncValidators:e)||null}function tC(e){return Array.isArray(e)?Vd(e):e||null}function sc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const Zd=e=>e instanceof Yd;function rC(e){return(e=>e instanceof sC)(e)?e.value:e.getRawValue()}function iC(e,t){const n=Zd(e),r=e.controls;if(!(n?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[t])throw new Ae(1001,"")}function oC(e,t){Zd(e),e._forEachChild((r,i)=>{if(void 0===t[i])throw new Ae(1002,"")})}class Kd{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=eC(this._rawValidators),this._composedAsyncValidatorFn=tC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ls}get invalid(){return this.status===oc}get pending(){return this.status==Qi}get disabled(){return this.status===ds}get enabled(){return this.status!==ds}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=eC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=tC(t)}addValidators(t){this.setValidators(W_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(W_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(q_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(q_(t,this._rawAsyncValidators))}hasValidator(t){return Ya(this._rawValidators,t)}hasAsyncValidator(t){return Ya(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Qi,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ds,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ls,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ls||this.status===Qi)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ds:ls}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Qi,this._hasOwnPendingAsyncValidator=!0;const n=L_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function xR(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(n)),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(i=>{r=Zd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(e=>e instanceof NR)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?ds:this.errors?oc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qi)?Qi:this._anyControlsHaveStatus(oc)?oc:ls}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class sC extends Kd{constructor(t=null,n,r){super(Qd(n),Jd(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sc(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Wd(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Wd(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Yd extends Kd{constructor(t,n,r){super(Qd(n),Jd(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){oC(this,t),Object.keys(t).forEach(r=>{iC(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=rC(n),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class NR extends Kd{constructor(t,n,r){super(Qd(n),Jd(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){oC(this,t),t.forEach((r,i)=>{iC(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>rC(t))}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const FR={provide:Nt,useExisting:je(()=>Ji)},fs=(()=>Promise.resolve(null))();let Ji=(()=>{class e extends Nt{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new Yd({},Ld(n),Vd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){fs.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),us(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){fs.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){fs.then(()=>{const r=this._findContainer(n.path),i=new Yd({});(function Y_(e,t){$d(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){fs.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){fs.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function X_(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(G(Et,10),G(Dr,10))},e.\u0275dir=le({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Oe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([FR]),ke]}),e})();const VR={provide:wr,useExisting:je(()=>ac)},uC=(()=>Promise.resolve(null))();let ac=(()=>{class e extends wr{constructor(n,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new sC,this._registered=!1,this.update=new Ye,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function zd(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===cs?n=o:function OR(e){return Object.getPrototypeOf(e.constructor)===Wr}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Gd(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){us(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){uC.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;uC.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(n){return this._parent?function tc(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(G(Nt,9),G(Et,10),G(Dr,10),G(Un,10),G(Oa,8))},e.\u0275dir=le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([VR]),ke,on]}),e})(),cc=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),dC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({}),e})();const QR={provide:Un,useExisting:je(()=>nf),multi:!0};function vC(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let nf=(()=>{class e extends Wr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=vC(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function JR(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=bt(e)))(r||e)}}(),e.\u0275dir=le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Oe("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ze([QR]),ke]}),e})(),_C=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(vC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(G(Zt),G(nr),G(nf,9))},e.\u0275dir=le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const ZR={provide:Un,useExisting:je(()=>rf),multi:!0};function CC(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let rf=(()=>{class e extends Wr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function KR(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=bt(e)))(r||e)}}(),e.\u0275dir=le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Oe("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ze([ZR]),ke]}),e})(),bC=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(CC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(CC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(G(Zt),G(nr),G(rf,9))},e.\u0275dir=le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),qr=(()=>{class e{constructor(){this._validator=Ka}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ka,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=le({type:e,features:[on]}),e})();const tO={provide:Et,useExisting:je(()=>hs),multi:!0};let hs=(()=>{class e extends qr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n=>function YR(e){return null!=e&&!1!==e&&"false"!=`${e}`}(n),this.createValidator=n=>P_}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=bt(e)))(r||e)}}(),e.\u0275dir=le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Pt("required",r._enabled?"":null)},inputs:{required:"required"},features:[ze([tO]),ke]}),e})(),aO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({imports:[[dC]]}),e})(),cO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({imports:[aO]}),e})();function me(...e){return ht(e,ao(e))}function Zi(e,t){return H(t)?ft(e,t,1):ft(e,1)}function Qr(e,t){return Xe((n,r)=>{let i=0;n.subscribe(Qe(r,o=>e.call(t,o,i++)&&r.next(o)))})}class RC{}class OC{}class ar{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof ar?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new ar;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ar?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class uO{encodeKey(t){return xC(t)}encodeValue(t){return xC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const dO=/%(\d[a-f0-9])/gi,fO={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xC(e){return encodeURIComponent(e).replace(dO,(t,n)=>{var r;return null!==(r=fO[n])&&void 0!==r?r:t})}function kC(e){return`${e}`}class Er{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new uO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lO(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Er({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(kC(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(kC(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hO{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function NC(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function FC(e){return"undefined"!=typeof Blob&&e instanceof Blob}function LC(e){return"undefined"!=typeof FormData&&e instanceof FormData}class ps{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function pO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ar),this.context||(this.context=new hO),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Er,this.urlWithParams=n}serializeBody(){return null===this.body?null:NC(this.body)||FC(this.body)||LC(this.body)||function gO(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||LC(this.body)?null:FC(this.body)?this.body.type||null:NC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var n;const r=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,g=t.params||this.params;const y=null!==(n=t.context)&&void 0!==n?n:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((T,M)=>T.set(M,t.setHeaders[M]),u)),t.setParams&&(g=Object.keys(t.setParams).reduce((T,M)=>T.set(M,t.setParams[M]),g)),new ps(r,i,s,{params:g,headers:u,context:y,reportProgress:c,responseType:o,withCredentials:a})}}var ot=(()=>((ot=ot||{})[ot.Sent=0]="Sent",ot[ot.UploadProgress=1]="UploadProgress",ot[ot.ResponseHeader=2]="ResponseHeader",ot[ot.DownloadProgress=3]="DownloadProgress",ot[ot.Response=4]="Response",ot[ot.User=5]="User",ot))();class of{constructor(t,n=200,r="OK"){this.headers=t.headers||new ar,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class sf extends of{constructor(t={}){super(t),this.type=ot.ResponseHeader}clone(t={}){return new sf({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class uc extends of{constructor(t={}){super(t),this.type=ot.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new uc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VC extends of{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function af(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let cf=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ps)o=n;else{let c,u;c=i.headers instanceof ar?i.headers:new ar(i.headers),i.params&&(u=i.params instanceof Er?i.params:new Er({fromObject:i.params})),o=new ps(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=me(o).pipe(Zi(c=>this.handler.handle(c)));if(n instanceof ps||"events"===i.observe)return s;const a=s.pipe(Qr(c=>c instanceof uc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(we(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(we(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Er).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,af(i,r))}post(n,r,i={}){return this.request("POST",n,af(i,r))}put(n,r,i={}){return this.request("PUT",n,af(i,r))}}return e.\u0275fac=function(n){return new(n||e)(X(RC))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();class jC{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const BC=new be("HTTP_INTERCEPTORS");let mO=(()=>{class e{intercept(n,r){return r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const yO=/^\)\]\}',?\n/;let UC=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((M,F)=>i.setRequestHeader(M,F.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const M=n.detectContentTypeHeader();null!==M&&i.setRequestHeader("Content-Type",M)}if(n.responseType){const M=n.responseType.toLowerCase();i.responseType="json"!==M?M:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const M=i.statusText||"OK",F=new ar(i.getAllResponseHeaders()),$=function vO(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return s=new sf({headers:F,status:i.status,statusText:M,url:$}),s},c=()=>{let{headers:M,status:F,statusText:$,url:Q}=a(),q=null;204!==F&&(q=void 0===i.response?i.responseText:i.response),0===F&&(F=q?200:0);let U=F>=200&&F<300;if("json"===n.responseType&&"string"==typeof q){const ne=q;q=q.replace(yO,"");try{q=""!==q?JSON.parse(q):null}catch(ve){q=ne,U&&(U=!1,q={error:ve,text:q})}}U?(r.next(new uc({body:q,headers:M,status:F,statusText:$,url:Q||void 0})),r.complete()):r.error(new VC({error:q,headers:M,status:F,statusText:$,url:Q||void 0}))},u=M=>{const{url:F}=a(),$=new VC({error:M,status:i.status||0,statusText:i.statusText||"Unknown Error",url:F||void 0});r.error($)};let g=!1;const y=M=>{g||(r.next(a()),g=!0);let F={type:ot.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),"text"===n.responseType&&!!i.responseText&&(F.partialText=i.responseText),r.next(F)},T=M=>{let F={type:ot.UploadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),r.next(F)};return i.addEventListener("load",c),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),n.reportProgress&&(i.addEventListener("progress",y),null!==o&&i.upload&&i.upload.addEventListener("progress",T)),i.send(o),r.next({type:ot.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",c),i.removeEventListener("timeout",u),n.reportProgress&&(i.removeEventListener("progress",y),null!==o&&i.upload&&i.upload.removeEventListener("progress",T)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(X(a_))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const uf=new be("XSRF_COOKIE_NAME"),lf=new be("XSRF_HEADER_NAME");class HC{}let _O=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xv(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(X(mt),X(Ra),X(uf))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),df=(()=>{class e{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(X(HC),X(lf))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),CO=(()=>{class e{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(BC,[]);this.chain=r.reduceRight((i,o)=>new jC(i,o),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(X(OC),X(gt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),bO=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:df,useClass:mO}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:uf,useValue:n.cookieName}:[],n.headerName?{provide:lf,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({providers:[df,{provide:BC,useExisting:df,multi:!0},{provide:HC,useClass:_O},{provide:uf,useValue:"XSRF-TOKEN"},{provide:lf,useValue:"X-XSRF-TOKEN"}]}),e})(),DO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({providers:[cf,{provide:RC,useClass:CO},UC,{provide:OC,useExisting:UC}],imports:[[bO.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();class Kt extends We{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function $C(e,t,n){e?Wn(n,e,t):t()}function lc(e,t){const n=H(e)?e:()=>e,r=i=>i.error(n());return new ue(t?i=>t.schedule(r,0,i):r)}const dc=re(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ff(...e){return function TO(){return so(1)}()(ht(e,ao(e)))}function GC(e){return new ue(t=>{In(e()).subscribe(t)})}function zC(){return Xe((e,t)=>{let n=null;e._refCount++;const r=Qe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class SO extends ue{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,tn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new D;const n=this.getSubject();t.add(this.source.subscribe(Qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=D.EMPTY)}return t}refCount(){return zC()(this)}}function Jr(e,t){return Xe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Qe(r,c=>{null==i||i.unsubscribe();let u=0;const g=o++;In(e(c,g)).subscribe(i=Qe(r,y=>r.next(t?t(c,y,g,u++):y),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function IO(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe(Qe(s,g=>{const y=u++;c=a?e(c,g,y):(a=!0,g),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function WC(e,t){return Xe(IO(e,t,arguments.length>=2,!0))}function Tr(e){return Xe((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Qe(n,void 0,void 0,s=>{o=In(e(s,Tr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function hf(e){return e<=0?()=>qn:Xe((t,n)=>{let r=[];t.subscribe(Qe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qC(e=AO){return Xe((t,n)=>{let r=!1;t.subscribe(Qe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function AO(){return new dc}function QC(e){return Xe((t,n)=>{let r=!1;t.subscribe(Qe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Ki(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Qr((i,o)=>e(i,o,r)):K,Is(1),n?QC(t):qC(()=>new dc))}function Yt(e,t,n){const r=H(e)||t||n?{next:e,error:t,complete:n}:e;return r?Xe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Qe(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):K}class cr{constructor(t,n){this.id=t,this.url=n}}class pf extends cr{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gs extends cr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class JC extends cr{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class OO extends cr{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xO extends cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kO extends cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NO extends cr{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FO extends cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LO extends cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UO{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YC{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Te="primary";class HO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Yi(e){return new HO(e)}const XC="ngNavigationCancelingError";function gf(e){const t=Error("NavigationCancelingError: "+e);return t[XC]=!0,t}function GO(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Hn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eb(e[i],t[i]))return!1;return!0}function eb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function tb(e){return Array.prototype.concat.apply([],e)}function nb(e){return e.length>0?e[e.length-1]:null}function yt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function $n(e){return Sl(e)?e:$o(e)?ht(Promise.resolve(e)):me(e)}const qO={exact:function ob(e,t,n){if(!Kr(e.segments,t.segments)||!fc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!ob(e.children[r],t.children[r],n))return!1;return!0},subset:sb},rb={exact:function QO(e,t){return Hn(e,t)},subset:function JO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>eb(e[n],t[n]))},ignored:()=>!0};function ib(e,t,n){return qO[n.paths](e.root,t.root,n.matrixParams)&&rb[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function sb(e,t,n){return ab(e,t,t.segments,n)}function ab(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Kr(i,n)||t.hasChildren()||!fc(i,n,r))}if(e.segments.length===n.length){if(!Kr(e.segments,n)||!fc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!sb(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Kr(e.segments,i)&&fc(e.segments,i,r)&&e.children[Te])&&ab(e.children[Te],t,o,r)}}function fc(e,t,n){return t.every((r,i)=>rb[n](e[i].parameters,r.parameters))}class Zr{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yi(this.queryParams)),this._queryParamMap}toString(){return YO.serialize(this)}}class Ie{constructor(t,n){this.segments=t,this.children=n,this.parent=null,yt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hc(this)}}class ms{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Yi(this.parameters)),this._parameterMap}toString(){return fb(this)}}function Kr(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class cb{}class ub{parse(t){const n=new ax(t);return new Zr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${ys(t.root,!0)}`,r=function tx(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${pc(n)}=${pc(i)}`).join("&"):`${pc(n)}=${pc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function XO(e){return encodeURI(e)}(t.fragment)}`:""}`}}const YO=new ub;function hc(e){return e.segments.map(t=>fb(t)).join("/")}function ys(e,t){if(!e.hasChildren())return hc(e);if(t){const n=e.children[Te]?ys(e.children[Te],!1):"",r=[];return yt(e.children,(i,o)=>{o!==Te&&r.push(`${o}:${ys(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function KO(e,t){let n=[];return yt(e.children,(r,i)=>{i===Te&&(n=n.concat(t(r,i)))}),yt(e.children,(r,i)=>{i!==Te&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Te?[ys(e.children[Te],!1)]:[`${i}:${ys(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Te]?`${hc(e)}/${n[0]}`:`${hc(e)}/(${n.join("//")})`}}function lb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pc(e){return lb(e).replace(/%3B/gi,";")}function mf(e){return lb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gc(e){return decodeURIComponent(e)}function db(e){return gc(e.replace(/\+/g,"%20"))}function fb(e){return`${mf(e.path)}${function ex(e){return Object.keys(e).map(t=>`;${mf(t)}=${mf(e[t])}`).join("")}(e.parameters)}`}const nx=/^[^\/()?;=#]+/;function mc(e){const t=e.match(nx);return t?t[0]:""}const rx=/^[^=?&#]+/,ox=/^[^&#]+/;class ax{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Te]=new Ie(t,n)),r}parseSegment(){const t=mc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ms(gc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=mc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=mc(this.remaining);i&&(r=i,this.capture(r))}t[gc(n)]=gc(r)}parseQueryParam(t){const n=function ix(e){const t=e.match(rx);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function sx(e){const t=e.match(ox);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=db(n),o=db(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Te);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Te]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class hb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=yf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=yf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=vf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return vf(t,this._root).map(n=>n.value)}}function yf(e,t){if(e===t.value)return t;for(const n of t.children){const r=yf(e,n);if(r)return r}return null}function vf(e,t){if(e===t.value)return[t];for(const n of t.children){const r=vf(e,n);if(r.length)return r.unshift(t),r}return[]}class ur{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Xi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class pb extends hb{constructor(t,n){super(t),this.snapshot=n,_f(this,t)}toString(){return this.snapshot.toString()}}function gb(e,t){const n=function cx(e,t){const s=new yc([],{},{},"",{},Te,t,null,e.root,-1,{});return new yb("",new ur(s,[]))}(e,t),r=new Kt([new ms("",{})]),i=new Kt({}),o=new Kt({}),s=new Kt({}),a=new Kt(""),c=new Gn(r,i,s,a,o,Te,t,n.root);return c.snapshot=n.root,new pb(new ur(c,[]),n)}class Gn{constructor(t,n,r,i,o,s,a,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>Yi(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>Yi(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mb(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function ux(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class yc{constructor(t,n,r,i,o,s,a,c,u,g,y){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yb extends hb{constructor(t,n){super(n),this.url=t,_f(this,n)}toString(){return vb(this._root)}}function _f(e,t){t.value._routerState=e,t.children.forEach(n=>_f(e,n))}function vb(e){const t=e.children.length>0?` { ${e.children.map(vb).join(", ")} } `:"";return`${e.value}${t}`}function Cf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Hn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Hn(t.params,n.params)||e.params.next(n.params),function zO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Hn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Hn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function bf(e,t){const n=Hn(e.params,t.params)&&function ZO(e,t){return Kr(e,t)&&e.every((n,r)=>Hn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||bf(e.parent,t.parent))}function vs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function dx(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return vs(e,r,i);return vs(e,r)})}(e,t,n);return new ur(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>vs(e,a)),s}}const r=function fx(e){return new Gn(new Kt(e.url),new Kt(e.params),new Kt(e.queryParams),new Kt(e.fragment),new Kt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>vs(e,o));return new ur(r,i)}}function vc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function _s(e){return"object"==typeof e&&null!=e&&e.outlets}function Df(e,t,n,r,i){let o={};return r&&yt(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(c=>`${c}`):`${s}`}),new Zr(n.root===e?t:_b(n.root,e,t),o,i)}function _b(e,t,n){const r={};return yt(e.children,(i,o)=>{r[o]=i===t?n:_b(i,t,n)}),new Ie(e.segments,r)}class Cb{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&vc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(_s);if(i&&i!==nb(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wf{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function bb(e,t,n){if(e||(e=new Ie([],{})),0===e.segments.length&&e.hasChildren())return _c(e,t,n);const r=function vx(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(_s(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!wb(c,u,s))return o;r+=2}else{if(!wb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Ie(e.segments.slice(0,r.pathIndex),{});return o.children[Te]=new Ie(e.segments.slice(r.pathIndex),e.children),_c(o,0,i)}return r.match&&0===i.length?new Ie(e.segments,{}):r.match&&!e.hasChildren()?Ef(e,t,n):r.match?_c(e,0,i):Ef(e,t,n)}function _c(e,t,n){if(0===n.length)return new Ie(e.segments,{});{const r=function yx(e){return _s(e[0])?e[0].outlets:{[Te]:e}}(n),i={};return yt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=bb(e.children[s],t,o))}),yt(e.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Ie(e.segments,i)}}function Ef(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(_s(o)){const c=_x(o.outlets);return new Ie(r,c)}if(0===i&&vc(n[0])){r.push(new ms(e.segments[t].path,Db(n[0]))),i++;continue}const s=_s(o)?o.outlets[Te]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&vc(a)?(r.push(new ms(s,Db(a))),i+=2):(r.push(new ms(s,{})),i++)}return new Ie(r,{})}function _x(e){const t={};return yt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Ef(new Ie([],{}),0,n))}),t}function Db(e){const t={};return yt(e,(n,r)=>t[r]=`${n}`),t}function wb(e,t,n){return e==n.path&&Hn(t,n.parameters)}class bx{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Cf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Xi(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),yt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Xi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Xi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=Xi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new UO(o.value.snapshot))}),t.children.length&&this.forwardEvent(new jO(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Cf(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function Dx(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),c=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=c,s.outlet&&s.outlet.activateWith(i,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Tf{constructor(t,n){this.routes=t,this.module=n}}function Sr(e){return"function"==typeof e}function Yr(e){return e instanceof Zr}const Cs=Symbol("INITIAL_VALUE");function bs(){return Jr(e=>function wO(...e){const t=ao(e),n=oh(e),{args:r,keys:i}=D_(e);if(0===r.length)return ht([],t);const o=new ue(function EO(e,t,n=K){return r=>{$C(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)$C(t,()=>{const u=ht(e[c],t);let g=!1;u.subscribe(Qe(r,y=>{o[c]=y,g||(g=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>E_(i,s):K));return n?o.pipe(w_(n)):o}(e.map(t=>t.pipe(Is(1),function MO(...e){const t=ao(e);return Xe((n,r)=>{(t?ff(e,n,t):ff(e,n)).subscribe(r)})}(Cs)))).pipe(WC((t,n)=>{let r=!1;return n.reduce((i,o,s)=>i!==Cs?i:(o===Cs&&(r=!0),r||!1!==o&&s!==n.length-1&&!Yr(o)?i:o),t)},Cs),Qr(t=>t!==Cs),we(t=>Yr(t)?t:!0===t),Is(1)))}class Ix{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ds,this.attachRef=null}}class Ds{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Ix,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let Sf=(()=>{class e{constructor(n,r,i,o,s){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.name=o||Te,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const s=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ax(n,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(G(Ds),G(wn),G($i),_o("name"),G(Oa))},e.\u0275dir=le({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class Ax{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Gn?this.route:t===Ds?this.childContexts:this.parent.get(t,n)}}let Eb=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Lt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Rt(0,"router-outlet")},directives:[Sf],encapsulation:2}),e})();function Tb(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Px(r,Rx(t,r))}}function Px(e,t){e.children&&Tb(e.children,t)}function Rx(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Mf(e){const t=e.children&&e.children.map(Mf),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Te&&(n.component=Eb),n}function hn(e){return e.outlet||Te}function Sb(e,t){const n=e.filter(r=>hn(r)===t);return n.push(...e.filter(r=>hn(r)!==t)),n}const Mb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cc(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Mb):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||GO)(n,e,t);if(!o)return Object.assign({},Mb);const s={};yt(o.posParams,(c,u)=>{s[u]=c.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function bc(e,t,n,r,i="corrected"){if(n.length>0&&function kx(e,t,n){return n.some(r=>Dc(e,t,r)&&hn(r)!==Te)}(e,n,r)){const s=new Ie(t,function xx(e,t,n,r){const i={};i[Te]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&hn(o)!==Te){const s=new Ie([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,i[hn(o)]=s}return i}(e,t,r,new Ie(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Nx(e,t,n){return n.some(r=>Dc(e,t,r))}(e,n,r)){const s=new Ie(e.segments,function Ox(e,t,n,r,i,o){const s={};for(const a of r)if(Dc(e,n,a)&&!i[hn(a)]){const c=new Ie([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[hn(a)]=c}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const o=new Ie(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Dc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ib(e,t,n,r){return!!(hn(e)===r||r!==Te&&Dc(t,n,e))&&("**"===e.path||Cc(t,e,n).matched)}function Ab(e,t,n){return 0===t.length&&!e.children[n]}class wc{constructor(t){this.segmentGroup=t||null}}class Pb{constructor(t){this.urlTree=t}}function ws(e){return lc(new wc(e))}function Rb(e){return lc(new Pb(e))}class jx{constructor(t,n,r,i,o){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(rr)}apply(){const t=bc(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ie(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Te).pipe(we(o=>this.createUrlTree(If(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tr(o=>{if(o instanceof Pb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof wc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Te).pipe(we(i=>this.createUrlTree(If(i),t.queryParams,t.fragment))).pipe(Tr(i=>{throw i instanceof wc?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new Ie([],{[Te]:t}):t;return new Zr(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(we(o=>new Ie([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ht(i).pipe(Zi(o=>{const s=r.children[o],a=Sb(n,o);return this.expandSegmentGroup(t,a,s,o).pipe(we(c=>({segment:c,outlet:o})))}),WC((o,s)=>(o[s.outlet]=s.segment,o),{}),function PO(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Qr((i,o)=>e(i,o,r)):K,hf(1),n?QC(t):qC(()=>new dc))}())}expandSegment(t,n,r,i,o,s){return ht(r).pipe(Zi(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,o,s).pipe(Tr(u=>{if(u instanceof wc)return me(null);throw u}))),Ki(a=>!!a),Tr((a,c)=>{if(a instanceof dc||"EmptyError"===a.name)return Ab(n,i,o)?me(new Ie([],{})):ws(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,o,s,a){return Ib(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s):ws(n):ws(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rb(o):this.lineralizeSegments(r,o).pipe(ft(s=>{const a=new Ie(s,{});return this.expandSegment(t,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:g}=Cc(n,i,o);if(!a)return ws(n);const y=this.applyRedirectCommands(c,i.redirectTo,g);return i.redirectTo.startsWith("/")?Rb(y):this.lineralizeSegments(i,y).pipe(ft(T=>this.expandSegment(t,n,r,T.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?me(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(we(y=>(r._loadedConfig=y,new Ie(i,{})))):me(new Ie(i,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=Cc(n,r,i);return s?this.getChildConfig(t,r,i).pipe(ft(g=>{const y=g.module,T=g.routes,{segmentGroup:M,slicedSegments:F}=bc(n,a,c,T),$=new Ie(M.segments,M.children);if(0===F.length&&$.hasChildren())return this.expandChildren(y,T,$).pipe(we(ne=>new Ie(a,ne)));if(0===T.length&&0===F.length)return me(new Ie(a,{}));const Q=hn(r)===o;return this.expandSegment(y,$,T,F,Q?Te:o,!0).pipe(we(U=>new Ie(a.concat(U.segments),U.children)))})):ws(n)}getChildConfig(t,n,r){return n.children?me(new Tf(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?me(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(ft(i=>i?this.configLoader.load(t.injector,n).pipe(we(o=>(n._loadedConfig=o,o))):function Lx(e){return lc(gf(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(n))):me(new Tf([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?me(i.map(s=>{const a=t.get(s);let c;if(function Ex(e){return e&&Sr(e.canLoad)}(a))c=a.canLoad(n,r);else{if(!Sr(a))throw new Error("Invalid CanLoad guard");c=a(n,r)}return $n(c)})).pipe(bs(),Yt(s=>{if(!Yr(s))return;const a=gf(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),we(s=>!0===s)):me(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return me(r);if(i.numberOfChildren>1||!i.children[Te])return lc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[Te]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Zr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return yt(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return yt(n.children,(a,c)=>{s[c]=this.createSegmentGroup(t,a,r,i)}),new Ie(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function If(e){const t={};for(const r of Object.keys(e.children)){const o=If(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function Bx(e){if(1===e.numberOfChildren&&e.children[Te]){const t=e.children[Te];return new Ie(e.segments.concat(t.segments),t.children)}return e}(new Ie(e.segments,t))}class Ob{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ec{constructor(t,n){this.component=t,this.route=n}}function Hx(e,t,n){const r=e._root;return Es(r,t?t._root:null,n,[r.value])}function Tc(e,t,n){const r=function Gx(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Es(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xi(t);return e.children.forEach(s=>{(function zx(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Wx(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Kr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Kr(e.url,t.url)||!Hn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bf(e,t)||!Hn(e.queryParams,t.queryParams);default:return!bf(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ob(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Es(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ec(a.outlet.component,s))}else s&&Ts(t,a,i),i.canActivateChecks.push(new Ob(r)),Es(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),yt(o,(s,a)=>Ts(s,n.getContext(a),i)),i}function Ts(e,t,n){const r=Xi(e),i=e.value;yt(r,(o,s)=>{Ts(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Ec(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class tk{}function xb(e){return new ue(t=>t.error(e))}class rk{constructor(t,n,r,i,o,s){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=bc(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Te);if(null===n)return null;const r=new yc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Te,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ur(r,n),o=new yb(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const n=t.value,r=mb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const o of Object.keys(n.children)){const s=n.children[o],a=Sb(t,o),c=this.processSegmentGroup(a,s,o);if(null===c)return null;r.push(...c)}const i=kb(r);return function ik(e){e.sort((t,n)=>t.value.outlet===Te?-1:n.value.outlet===Te?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(t,n,r,i){for(const o of t){const s=this.processSegmentAgainstRoute(o,n,r,i);if(null!==s)return s}return Ab(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!Ib(t,n,r,i))return null;let o,s=[],a=[];if("**"===t.path){const M=r.length>0?nb(r).parameters:{};o=new yc(r,M,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lb(t),hn(t),t.component,t,Nb(n),Fb(n)+r.length,Vb(t))}else{const M=Cc(n,t,r);if(!M.matched)return null;s=M.consumedSegments,a=M.remainingSegments,o=new yc(s,M.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lb(t),hn(t),t.component,t,Nb(n),Fb(n)+s.length,Vb(t))}const c=function ok(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:g}=bc(n,s,a,c.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);if(0===g.length&&u.hasChildren()){const M=this.processChildren(c,u);return null===M?null:[new ur(o,M)]}if(0===c.length&&0===g.length)return[new ur(o,[])];const y=hn(t)===i,T=this.processSegment(c,u,g,y?Te:i);return null===T?null:[new ur(o,T)]}}function sk(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function kb(e){const t=[],n=new Set;for(const r of e){if(!sk(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=kb(r.children);t.push(new ur(r.value,i))}return t.filter(r=>!n.has(r))}function Nb(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Fb(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Lb(e){return e.data||{}}function Vb(e){return e.resolve||{}}function jb(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Af(e){return Jr(t=>{const n=e(t);return n?ht(n).pipe(we(()=>t)):me(t)})}class pk extends class hk{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const Pf=new be("ROUTES");class Bb{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(we(o=>{this.onLoadEndListener&&this.onLoadEndListener(n);const s=o.create(t);return new Tf(tb(s.injector.get(Pf,void 0,he.Self|he.Optional)).map(Mf),s)}),Tr(o=>{throw n._loader$=void 0,o}));return n._loader$=new SO(i,()=>new We).pipe(zC()),n._loader$}loadModuleFactory(t){return $n(t()).pipe(ft(n=>n instanceof Ny?me(n):ht(this.compiler.compileModuleAsync(n))))}}class mk{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function yk(e){throw e}function vk(e,t,n){return t.parse("/")}function Ub(e,t){return me(null)}const _k={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ck={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xt=(()=>{class e{constructor(n,r,i,o,s,a,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new We,this.errorHandler=yk,this.malformedUriErrorHandler=vk,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ub,afterPreactivation:Ub},this.urlHandlingStrategy=new mk,this.routeReuseStrategy=new pk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(rr),this.console=s.get(yv);const y=s.get(lt);this.isNgZoneEnabled=y instanceof lt&&lt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function WO(){return new Zr(new Ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bb(s,a,T=>this.triggerEvent(new ZC(T)),T=>this.triggerEvent(new KC(T))),this.routerState=gb(this.currentUrlTree,this.rootComponentType),this.transitions=new Kt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Qr(i=>0!==i.id),we(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Jr(i=>{let o=!1,s=!1;return me(i).pipe(Yt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jr(a=>{const c=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Hb(a.source)&&(this.browserUrlTree=a.extractedUrl),me(a).pipe(Jr(y=>{const T=this.transitions.getValue();return r.next(new pf(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),T!==this.transitions.getValue()?qn:Promise.resolve(y)}),function Ux(e,t,n,r){return Jr(i=>function Vx(e,t,n,r,i){return new jx(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(we(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Yt(y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:y.urlAfterRedirects})}),function ak(e,t,n,r,i){return ft(o=>function nk(e,t,n,r,i="emptyOnly",o="legacy"){try{const s=new rk(e,t,n,r,i,o).recognize();return null===s?xb(new tk):me(s)}catch(s){return xb(s)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(we(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),Yt(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(M,y)}this.browserUrlTree=y.urlAfterRedirects}const T=new xO(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(T)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:M,source:F,restoredState:$,extras:Q}=a,q=new pf(T,this.serializeUrl(M),F,$);r.next(q);const U=gb(M,this.rootComponentType).snapshot;return me(Object.assign(Object.assign({},a),{targetSnapshot:U,urlAfterRedirects:M,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),qn}),Af(a=>{const{targetSnapshot:c,id:u,extractedUrl:g,rawUrl:y,extras:{skipLocationChange:T,replaceUrl:M}}=a;return this.hooks.beforePreactivation(c,{navigationId:u,appliedUrlTree:g,rawUrlTree:y,skipLocationChange:!!T,replaceUrl:!!M})}),Yt(a=>{const c=new kO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),we(a=>Object.assign(Object.assign({},a),{guards:Hx(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function qx(e,t){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?me(Object.assign(Object.assign({},n),{guardsResult:!0})):function Qx(e,t,n,r){return ht(e).pipe(ft(i=>function ek(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?me(o.map(a=>{const c=Tc(a,t,i);let u;if(function Mx(e){return e&&Sr(e.canDeactivate)}(c))u=$n(c.canDeactivate(e,t,n,r));else{if(!Sr(c))throw new Error("Invalid CanDeactivate guard");u=$n(c(e,t,n,r))}return u.pipe(Ki())})).pipe(bs()):me(!0)}(i.component,i.route,n,t,r)),Ki(i=>!0!==i,!0))}(s,r,i,e).pipe(ft(a=>a&&function wx(e){return"boolean"==typeof e}(a)?function Jx(e,t,n,r){return ht(t).pipe(Zi(i=>ff(function Kx(e,t){return null!==e&&t&&t(new VO(e)),me(!0)}(i.route.parent,r),function Zx(e,t){return null!==e&&t&&t(new BO(e)),me(!0)}(i.route,r),function Xx(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function $x(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>GC(()=>me(s.guards.map(c=>{const u=Tc(c,s.node,n);let g;if(function Sx(e){return e&&Sr(e.canActivateChild)}(u))g=$n(u.canActivateChild(r,e));else{if(!Sr(u))throw new Error("Invalid CanActivateChild guard");g=$n(u(r,e))}return g.pipe(Ki())})).pipe(bs())));return me(o).pipe(bs())}(e,i.path,n),function Yx(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return me(!0);const i=r.map(o=>GC(()=>{const s=Tc(o,t,n);let a;if(function Tx(e){return e&&Sr(e.canActivate)}(s))a=$n(s.canActivate(t,e));else{if(!Sr(s))throw new Error("Invalid CanActivate guard");a=$n(s(t,e))}return a.pipe(Ki())}));return me(i).pipe(bs())}(e,i.route,n))),Ki(i=>!0!==i,!0))}(r,o,e,t):me(a)),we(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Yt(a=>{if(Yr(a.guardsResult)){const u=gf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const c=new NO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Qr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Af(a=>{if(a.guards.canActivateChecks.length)return me(a).pipe(Yt(c=>{const u=new FO(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),Jr(c=>{let u=!1;return me(c).pipe(function ck(e,t){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return me(n);let o=0;return ht(i).pipe(Zi(s=>function uk(e,t,n,r){return function lk(e,t,n,r){const i=jb(e);if(0===i.length)return me({});const o={};return ht(i).pipe(ft(s=>function dk(e,t,n,r){const i=Tc(e,t,r);return $n(i.resolve?i.resolve(t,n):i(t,n))}(e[s],t,n,r).pipe(Yt(a=>{o[s]=a}))),hf(1),ft(()=>jb(o).length===i.length?me(o):qn))}(e._resolve,e,t,r).pipe(we(o=>(e._resolvedData=o,e.data=Object.assign(Object.assign({},e.data),mb(e,n).resolve),null)))}(s.route,r,e,t)),Yt(()=>o++),hf(1),ft(s=>o===i.length?me(n):qn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Yt({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Yt(c=>{const u=new LO(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}))}),Af(a=>{const{targetSnapshot:c,id:u,extractedUrl:g,rawUrl:y,extras:{skipLocationChange:T,replaceUrl:M}}=a;return this.hooks.afterPreactivation(c,{navigationId:u,appliedUrlTree:g,rawUrlTree:y,skipLocationChange:!!T,replaceUrl:!!M})}),we(a=>{const c=function lx(e,t,n){const r=vs(e,t._root,n?n._root:void 0);return new pb(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:c})}),Yt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>we(r=>(new bx(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Yt({next(){o=!0},complete(){o=!0}}),function RO(e){return Xe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Tr(a=>{if(s=!0,function $O(e){return e&&e[XC]}(a)){const c=Yr(a.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const u=new JC(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),c?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hb(i.source)};this.scheduleNavigation(g,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new OO(i.id,this.serializeUrl(i.extractedUrl),a);r.next(c);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return qn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(s){const c=Object.assign({},s);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){Tb(n),this.config=n.map(Mf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=i||this.routerState.root,g=c?this.currentUrlTree.fragment:s;let y=null;switch(a){case"merge":y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}return null!==y&&(y=this.removeEmptyProps(y)),function hx(e,t,n,r,i){if(0===n.length)return Df(t.root,t.root,t,r,i);const o=function px(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Cb(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return yt(o.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Cb(n,t,r)}(n);if(o.toRoot())return Df(t.root,new Ie([],{}),t,r,i);const s=function gx(e,t,n){if(e.isAbsolute)return new wf(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const o=n.snapshot._urlSegment;return new wf(o,o===t.root,0)}const r=vc(e.commands[0])?0:1;return function mx(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new wf(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):bb(s.segmentGroup,s.index,o.commands);return Df(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,n,y,null!=g?g:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Yr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function bk(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},_k):!1===r?Object.assign({},Ck):r,Yr(n))return ib(this.currentUrlTree,n,i);const o=this.parseUrl(n);return ib(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new gs(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,o,s){var a,c;if(this.disposed)return Promise.resolve(!1);let u,g,y;s?(u=s.resolve,g=s.reject,y=s.promise):y=new Promise((F,$)=>{u=F,g=$});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:u,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(F=>Promise.reject(F))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new JC(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){El()},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function Hb(e){return"imperative"!==e}let eo=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new We,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:to(this.skipLocationChange),replaceUrl:to(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:to(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)(G(Xt),G(Gn),_o("tabindex"),G(nr),G(Zt))},e.\u0275dir=le({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Oe("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[on]}),e})();function to(e){return""===e||!!e}class $b{}class Gb{preload(t,n){return me(null)}}let zb=(()=>{class e{constructor(n,r,i,o){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=new Bb(i,r,c=>n.triggerEvent(new ZC(c)),c=>n.triggerEvent(new KC(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qr(n=>n instanceof gs),Zi(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(rr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(n,o)):o.children&&i.push(this.processRoutes(n,o.children));return ht(i).pipe(so(),we(o=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?me(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ft(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(X(Xt),X(vv),X(gt),X($b))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),Of=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof pf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof YC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new YC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){El()},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const Xr=new be("ROUTER_CONFIGURATION"),Wb=new be("ROUTER_FORROOT_GUARD"),Tk=[gd,{provide:cb,useClass:ub},{provide:Xt,useFactory:function Pk(e,t,n,r,i,o,s={},a,c){const u=new Xt(null,e,t,n,r,i,tb(o));return a&&(u.urlHandlingStrategy=a),c&&(u.routeReuseStrategy=c),function Rk(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(s,u),s.enableTracing&&u.events.subscribe(g=>{var y,T;null===(y=console.group)||void 0===y||y.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(T=console.groupEnd)||void 0===T||T.call(console)}),u},deps:[cb,Ds,gd,gt,vv,Pf,Xr,[class gk{},new mr],[class fk{},new mr]]},Ds,{provide:Gn,useFactory:function Ok(e){return e.routerState.root},deps:[Xt]},zb,Gb,class Ek{preload(t,n){return n().pipe(Tr(()=>me(null)))}},{provide:Xr,useValue:{enableTracing:!1}}];function Sk(){return new wv("Router",Xt)}let qb=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[Tk,Qb(n),{provide:Wb,useFactory:Ak,deps:[[Xt,new mr,new So]]},{provide:Xr,useValue:r||{}},{provide:qi,useFactory:Ik,deps:[zr,[new ea(pd),new mr],Xr]},{provide:Of,useFactory:Mk,deps:[Xt,D1,Xr]},{provide:$b,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Gb},{provide:wv,multi:!0,useFactory:Sk},[xf,{provide:ed,multi:!0,useFactory:xk,deps:[xf]},{provide:Jb,useFactory:kk,deps:[xf]},{provide:mv,multi:!0,useExisting:Jb}]]}}static forChild(n){return{ngModule:e,providers:[Qb(n)]}}}return e.\u0275fac=function(n){return new(n||e)(X(Wb,8),X(Xt,8))},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({}),e})();function Mk(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Of(e,t,n)}function Ik(e,t,n={}){return n.useHash?new iP(e,t):new $v(e,t)}function Ak(e){return"guarded"}function Qb(e){return[{provide:Bw,multi:!0,useValue:e},{provide:Pf,multi:!0,useValue:e}]}let xf=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new We}appInitializer(){return this.injector.get(tP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Xt),s=this.injector.get(Xr);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?me(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Xr),i=this.injector.get(zb),o=this.injector.get(Of),s=this.injector.get(Xt),a=this.injector.get(ns);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(X(gt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function xk(e){return e.appInitializer.bind(e)}function kk(e){return e.bootstrapListener.bind(e)}const Jb=new be("Router Initializer");var Sc,Fk=new Uint8Array(16);function Lk(){if(!Sc&&!(Sc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sc(Fk)}const Vk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Bk=function jk(e){return"string"==typeof e&&Vk.test(e)};for(var vt=[],kf=0;kf<256;++kf)vt.push((kf+256).toString(16).substr(1));const Gk=function $k(e,t,n){var r=(e=e||{}).random||(e.rng||Lk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function Uk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(vt[e[t+0]]+vt[e[t+1]]+vt[e[t+2]]+vt[e[t+3]]+"-"+vt[e[t+4]]+vt[e[t+5]]+"-"+vt[e[t+6]]+vt[e[t+7]]+"-"+vt[e[t+8]]+vt[e[t+9]]+"-"+vt[e[t+10]]+vt[e[t+11]]+vt[e[t+12]]+vt[e[t+13]]+vt[e[t+14]]+vt[e[t+15]]).toLowerCase();if(!Bk(n))throw TypeError("Stringified UUID is invalid");return n}(r)},zk=function(){return["/meeting-stats"]},Wk=function(){return{meetingId:5}},Nf=function(){return["/set-meeting"]},qk=function(){return{meetingId:1}},Qk=function(){return["/meeting"]},Jk=function(e){return{userId:e}},Zk=function(){return{meetingId:2}},Kk=function(){return{meetingId:3}};let Yk=(()=>{class e{constructor(){}ngOnInit(){}get id(){return Gk()}getInviteLink(n){navigator.clipboard.writeText(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Lt({type:e,selectors:[["app-home"]],decls:44,vars:21,consts:[[1,"container"],[1,"list-group","mb-2"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"actions"],["type","button",1,"btn","btn-sm","btn-secondary",3,"routerLink","queryParams"],["type","button",1,"btn","btn-sm","btn-danger"],["type","button",1,"btn","btn-sm","btn-warning",3,"routerLink","queryParams"],["type","button",1,"btn","btn-sm","btn-primary",3,"routerLink","queryParams"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],["type","button",1,"btn","btn-sm","btn-primary"],["type","button","routerLink","set-meeting",1,"btn","btn-primary"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),te(2,"Meetings"),Z(),J(3,"ul",1)(4,"li",2)(5,"span",3),te(6,"Jane Austin 02.05.2022 17:02"),Z(),J(7,"div",4)(8,"button",5),te(9,"Review"),Z()()(),J(10,"li",2)(11,"span"),te(12,"John Doe 24.05.2022 19:00"),Z(),J(13,"div",4)(14,"button",6),te(15,"Delete"),Z(),J(16,"button",7),te(17,"Edit"),Z(),J(18,"button",8),te(19,"Join"),Z(),J(20,"button",9),Oe("click",function(){return r.getInviteLink("2")}),te(21,"Inivte"),Z()()(),J(22,"li",2)(23,"span"),te(24," Hera Dwarf 24.05.2022 19:00 "),Z(),J(25,"div",4)(26,"button",6),te(27,"Delete"),Z(),J(28,"button",7),te(29,"Edit"),Z(),J(30,"button",10),te(31,"Join"),Z()()(),J(32,"li",2)(33,"span"),te(34,"Hera Dwarf 30.06.2022 19:00"),Z(),J(35,"div",4)(36,"button",6),te(37,"Delete"),Z(),J(38,"button",7),te(39,"Edit"),Z(),J(40,"button",10),te(41,"Join"),Z()()()(),J(42,"button",11),te(43,"Create Meeting"),Z()()),2&n&&(de(8),ye("routerLink",ln(10,zk))("queryParams",ln(11,Wk)),de(8),ye("routerLink",ln(12,Nf))("queryParams",ln(13,qk)),de(2),ye("routerLink",ln(14,Qk))("queryParams",Sa(15,Jk,r.id)),de(10),ye("routerLink",ln(17,Nf))("queryParams",ln(18,Zk)),de(10),ye("routerLink",ln(19,Nf))("queryParams",ln(20,Kk)))},directives:[eo],styles:[".list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),Xk=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Lt({type:e,selectors:[["app-meeting-stats"]],decls:22,vars:0,consts:[[1,"container"],[1,"card","no-border"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"list-group"],[1,"list-group-item","list-group-item-action"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),te(4,"Meeting Stats"),Z(),J(5,"h6",4),te(6,"Customer Representetive:John Green"),Z(),J(7,"h6",4),te(8,"Customer:Jane Austing"),Z(),J(9,"ul",5)(10,"li",6),te(11,"Start Date:02.05.2022 17:02"),Z(),J(12,"li",6),te(13,"End Date:02.05.2022 17:38"),Z(),J(14,"li",6),te(15,"User Speak Duration:22m 13s"),Z(),J(16,"li",6),te(17,"User Video Duration:33m 42s"),Z(),J(18,"li",6),te(19,"Client Speak Duration:9m 37s"),Z(),J(20,"li",6),te(21,"Client Video Duration:29m 11sn"),Z()()()()())},styles:[".no-border[_ngcontent-%COMP%]{border:none}"]}),e})();function Zb(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function Ff(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){Zb(o,r,i,s,a,"next",c)}function a(c){Zb(o,r,i,s,a,"throw",c)}s(void 0)})}}var eN=Ir(321),tN=Ir.n(eN);let nN=(()=>{class e{constructor(){this.localStreamBs=new Kt(null),this.localStream$=this.localStreamBs.asObservable(),this.remoteStreamBs=new Kt(null),this.remoteStream$=this.remoteStreamBs.asObservable(),this.isCallStartedBs=new We,this.isCallStarted$=this.isCallStartedBs.asObservable()}initPeer(n){if(!this.peer||!this.peer.disconnected){const r={debug:3,config:{iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]}};try{return this.peer=new(tN())(n,r),n}catch(i){console.error(i)}}return""}establishMediaCall(n){var r=this;return Ff(function*(){console.log(n);try{const i=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});if(r.peer.connect(n).on("error",s=>{console.error(s)}),r.mediaCall=r.peer.call(n,i),!r.mediaCall)throw new Error("Unable to connect to remote peer");r.localStreamBs.next(i),r.isCallStartedBs.next(!0),r.mediaCall.on("stream",s=>{r.remoteStreamBs.next(s)}),r.mediaCall.on("error",s=>{console.error(s),r.isCallStartedBs.next(!1)}),r.mediaCall.on("close",()=>r.onCallClose())}catch(i){console.error(i),r.isCallStartedBs.next(!1)}})()}enableCallAnswer(){var n=this;return Ff(function*(){try{const r=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n.localStreamBs.next(r),n.peer.on("call",function(){var i=Ff(function*(o){n.mediaCall=o,n.isCallStartedBs.next(!0),n.mediaCall.answer(r),n.mediaCall.on("stream",s=>{n.remoteStreamBs.next(s)}),n.mediaCall.on("error",s=>{n.isCallStartedBs.next(!1),console.error(s)}),n.mediaCall.on("close",()=>n.onCallClose())});return function(o){return i.apply(this,arguments)}}())}catch(r){console.error(r),n.isCallStartedBs.next(!1)}})()}onCallClose(){this.remoteStreamBs.value.getTracks().forEach(n=>{n.stop()}),this.localStreamBs.value.getTracks().forEach(n=>{n.stop()})}closeMediaCall(){var n;null===(n=this.mediaCall)||void 0===n||n.close(),this.mediaCall||this.onCallClose(),this.isCallStartedBs.next(!1)}destroyPeer(){var n,r,i;null===(n=this.mediaCall)||void 0===n||n.close(),null===(r=this.peer)||void 0===r||r.disconnect(),null===(i=this.peer)||void 0===i||i.destroy()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rN=["localVideo"],iN=["remoteVideo"];function oN(e,t){1&e&&(J(0,"div",16)(1,"div",17)(2,"h1"),te(3,"B"),Z()()())}function sN(e,t){1&e&&Rt(0,"video",18,19),2&e&&ye("muted",!0)}function aN(e,t){1&e&&(J(0,"div",20)(1,"div",17)(2,"h1"),te(3,"B"),Z()()())}function cN(e,t){1&e&&Rt(0,"video",21,22)}let Lf=(()=>{class e{constructor(n,r){this.callService=n,this.route=r,this.title="WebRTCVideoCallAssistant.Client",this.targetID="",this.isMicOpen=!0,this.isLocalCamOpen=!0,this.isRemoteCamOpen=!0}ngOnInit(){this.isCallStarted$=this.callService.isCallStarted$,this.route.queryParams.subscribe({next:n=>{const r=n.userId,i=n.clientId;this.isUser=!i,this.peerID=this.callService.initPeer(this.isUser?r:i),me(this.isUser?this.callService.enableCallAnswer():this.callService.establishMediaCall(r)).subscribe()}})}ngAfterViewInit(){this.callService.localStream$.subscribe(n=>{n&&(this.localVideo.nativeElement.srcObject=n)}),this.callService.remoteStream$.subscribe(n=>{n&&(this.remoteVideo.nativeElement.srcObject=n)})}ngOnDestroy(){this.callService.destroyPeer()}showModal(n){me(n?this.callService.establishMediaCall(this.targetID):this.callService.enableCallAnswer()).subscribe(r=>{})}endCall(){this.callService.closeMediaCall()}toggleVideo(){}toggleMicrophone(){}}return e.\u0275fac=function(n){return new(n||e)(G(nN),G(Gn))},e.\u0275cmp=Lt({type:e,selectors:[["app-meeting"]],viewQuery:function(n,r){if(1&n&&(Xo(rN,5),Xo(iN,5)),2&n){let i;Hr(i=$r())&&(r.localVideo=i.first),Hr(i=$r())&&(r.remoteVideo=i.first)}},decls:23,vars:4,consts:[[1,"meeting-container"],["id","video-wrapper"],[1,"local-video-wrapper"],["class","offline-local-video d-flex justify-content-center align-items-center",4,"ngIf"],["class","local-video","autoplay","","playsinline","",3,"muted",4,"ngIf"],[1,"client-name"],[1,"remote-video-wrapper"],["class","offline-remote-video d-flex justify-content-center align-items-center",4,"ngIf"],["class","remote-video","autoplay","","playsinline","",4,"ngIf"],[1,"micropohone-status"],["aria-hidden","true",1,"fa","fa-microphone-slash"],[1,"control-buttons"],["type","button",1,"btn","btn-danger"],["aria-hidden","true",1,"fa-solid","fa-video-slash"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-phone"],[1,"offline-local-video","d-flex","justify-content-center","align-items-center"],[1,"user-initial","text-center"],["autoplay","","playsinline","",1,"local-video",3,"muted"],["localVideo",""],[1,"offline-remote-video","d-flex","justify-content-center","align-items-center"],["autoplay","","playsinline","",1,"remote-video"],["remoteVideo",""]],template:function(n,r){1&n&&(J(0,"div",0)(1,"div",1)(2,"div",2),ct(3,oN,4,0,"div",3),ct(4,sN,2,1,"video",4),J(5,"div",5)(6,"h4"),te(7,"You"),Z()()(),J(8,"div",6),ct(9,aN,4,0,"div",7),ct(10,cN,2,0,"video",8),J(11,"div",5)(12,"h3"),te(13,"John Doe"),Z()(),J(14,"div",9),Rt(15,"i",10),Z()()(),J(16,"div",11)(17,"button",12),Rt(18,"i",10),Z(),J(19,"button",12),Rt(20,"i",13),Z(),J(21,"button",14),Oe("click",function(){return r.endCall()}),Rt(22,"i",15),Z()()()),2&n&&(de(3),ye("ngIf",!r.isLocalCamOpen),de(1),ye("ngIf",r.isLocalCamOpen),de(5),ye("ngIf",!r.isRemoteCamOpen),de(1),ye("ngIf",r.isRemoteCamOpen))},directives:[Wa],styles:[".meeting-container[_ngcontent-%COMP%]{height:100vh;background-color:#202124;padding:15px}.btn[_ngcontent-%COMP%]{height:40px;min-width:40px;border-radius:50%}#video-wrapper[_ngcontent-%COMP%]{position:relative;height:80vh}#video-wrapper[_ngcontent-%COMP%]   .local-video-wrapper[_ngcontent-%COMP%]{z-index:1;position:absolute;right:1.5rem;bottom:1.5rem;width:20vw;height:12vw;max-width:20rem;max-height:20rem;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .remote-video-wrapper[_ngcontent-%COMP%]{height:100%;background-color:#343434;border-radius:20px}#video-wrapper[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%]{display:inline-block;color:#fff;border-radius:50%;background-color:#0288d1;height:50px;width:50px}#video-wrapper[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.5rem}#video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;margin:10px 15px}#video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], #video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f5f5f5;margin:0}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]{height:100%;background-color:#343434;border-radius:20px}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%]{height:100px;width:100px}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:5rem}#video-wrapper[_ngcontent-%COMP%]   .offline-local-video[_ngcontent-%COMP%]{z-index:1;width:100%;height:100%;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .remote-video[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#343434;border-radius:4px}#video-wrapper[_ngcontent-%COMP%]   .local-video[_ngcontent-%COMP%]{z-index:1;position:absolute;width:20vw;height:12vw;width:100%;height:100%;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .micropohone-status[_ngcontent-%COMP%]{position:absolute;right:0;top:0;margin:10px;background-color:#303033;border-radius:50%;height:32px;width:32px;text-align:center}#video-wrapper[_ngcontent-%COMP%]   .micropohone-status[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#fff;line-height:32px}.control-buttons[_ngcontent-%COMP%]{height:17vh;display:flex;width:100%;align-items:center;justify-content:center}.control-buttons[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),uN=(()=>{class e{constructor(n){this.route=n}ngOnInit(){this.route.queryParams.subscribe({next:n=>{this.meetingId=n.meetingId}})}}return e.\u0275fac=function(n){return new(n||e)(G(Gn))},e.\u0275cmp=Lt({type:e,selectors:[["app-set-meeting"]],decls:21,vars:0,consts:[[1,"container"],[1,"create-meeting-form"],[1,"form-group"],["for","user-list",1,"form-label","font-weight-bold"],[1,"input-group","mb-3"],["id","user-list","aria-label","Default select example",1,"form-select","user-select","form-control"],["selected","","value","1"],["value","2"],["value","3"],["for","start-date",1,"form-label","font-weight-bold"],["type","datetime-local","id","start-date",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),te(4,"Customer"),Z(),J(5,"div",4)(6,"select",5)(7,"option",6),te(8,"John Doe"),Z(),J(9,"option",7),te(10,"Alex Doe"),Z(),J(11,"option",8),te(12,"Huan Lie"),Z()()()(),J(13,"div",2)(14,"label",9),te(15,"Start Date"),Z(),J(16,"div",4),Rt(17,"input",10),Z()(),J(18,"div",2)(19,"button",11),te(20,"Save"),Z()()()())},directives:[cc,Xa,Ji,_C,bC],styles:[".create-meeting-form[_ngcontent-%COMP%]{width:480px}.user-select[_ngcontent-%COMP%]{width:inherit}"]}),e})();const Mn_API_URL="https://webrtcproje.azurewebsites.net/";let Kb=(()=>{class e{constructor(n){this.http=n}get(n){return this.http.get(`${Mn_API_URL}Customer/Get/${n}`)}getAll(){return this.http.get(`${Mn_API_URL}Customer/GetAll`)}create(n){return this.http.put(`${Mn_API_URL}Customer/Create`,n)}update(n){return this.http.patch(`${Mn_API_URL}Customer/Update/${n.id}`,n)}delete(n){return this.http.delete(`${Mn_API_URL}Customer/Delete/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(X(cf))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lN(e,t){return{type:7,name:e,definitions:t,options:{}}}function Yb(e,t=null){return{type:4,styles:t,timings:e}}function Vf(e){return{type:6,styles:e,offset:null}}function jf(e,t,n){return{type:0,name:e,styles:t,options:n}}function Xb(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}const tD=["toast-component",""];function dN(e,t){if(1&e){const n=Ho();J(0,"button",5),Oe("click",function(){return ho(n),Ot().remove()}),J(1,"span",6),te(2,"\xd7"),Z()()}}function fN(e,t){if(1&e&&(Bo(0),te(1),Uo()),2&e){const n=Ot(2);de(1),tr("[",n.duplicatesCount+1,"]")}}function hN(e,t){if(1&e&&(J(0,"div"),te(1),ct(2,fN,2,1,"ng-container",4),Z()),2&e){const n=Ot();er(n.options.titleClass),Pt("aria-label",n.title),de(1),tr(" ",n.title," "),de(1),ye("ngIf",n.duplicatesCount)}}function pN(e,t){if(1&e&&Rt(0,"div",7),2&e){const n=Ot();er(n.options.messageClass),ye("innerHTML",n.message,Su)}}function gN(e,t){if(1&e&&(J(0,"div",8),te(1),Z()),2&e){const n=Ot();er(n.options.messageClass),Pt("aria-label",n.message),de(1),tr(" ",n.message," ")}}function mN(e,t){if(1&e&&(J(0,"div"),Rt(1,"div",9),Z()),2&e){const n=Ot();de(1),Bi("width",n.width+"%")}}function yN(e,t){if(1&e){const n=Ho();J(0,"button",5),Oe("click",function(){return ho(n),Ot().remove()}),J(1,"span",6),te(2,"\xd7"),Z()()}}function vN(e,t){if(1&e&&(Bo(0),te(1),Uo()),2&e){const n=Ot(2);de(1),tr("[",n.duplicatesCount+1,"]")}}function _N(e,t){if(1&e&&(J(0,"div"),te(1),ct(2,vN,2,1,"ng-container",4),Z()),2&e){const n=Ot();er(n.options.titleClass),Pt("aria-label",n.title),de(1),tr(" ",n.title," "),de(1),ye("ngIf",n.duplicatesCount)}}function CN(e,t){if(1&e&&Rt(0,"div",7),2&e){const n=Ot();er(n.options.messageClass),ye("innerHTML",n.message,Su)}}function bN(e,t){if(1&e&&(J(0,"div",8),te(1),Z()),2&e){const n=Ot();er(n.options.messageClass),Pt("aria-label",n.message),de(1),tr(" ",n.message," ")}}function DN(e,t){if(1&e&&(J(0,"div"),Rt(1,"div",9),Z()),2&e){const n=Ot();de(1),Bi("width",n.width+"%")}}class wN{constructor(t,n){this.component=t,this.injector=n}attach(t,n){return this._attachedHost=t,t.attach(this,n)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Mc{constructor(t,n,r,i,o,s){this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this._onTap=new We,this._onAction=new We,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const nD={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},rD=new be("ToastConfig");class TN{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new We,this._activate=new We,this._manualClose=new We,this._resetTimeout=new We,this._countDuplicate=new We}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,n){t&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class SN{constructor(t,n){this._toastPackage=t,this._parentInjector=n}get(t,n,r){return t===Mc?this._toastPackage:this._parentInjector.get(t,n,r)}}class MN extends class EN{attach(t,n){return this._attachedPortal=t,this.attachComponentPortal(t,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,n,r){super(),this._hostDomElement=t,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(t,n){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=r.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class IN{constructor(t){this._portalHost=t}attach(t,n=!0){return this._portalHost.attach(t,n)}detach(){return this._portalHost.detach()}}let AN=(()=>{class e{constructor(n){this._document=n}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}}return e.\u0275fac=function(n){return new(n||e)(X(mt))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),PN=(()=>{class e{constructor(n,r,i,o){this._overlayContainer=n,this._componentFactoryResolver=r,this._appRef=i,this._document=o,this._paneElements=new Map}create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new MN(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new IN(this._createPortalHost(n))}}return e.\u0275fac=function(n){return new(n||e)(X(AN),X($i),X(ns),X(mt))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),no=(()=>{class e{constructor(n,r,i,o,s){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=s,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},o=""){return this._preBuildNotification(o,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,o){const{includeTitleDuplicates:s}=this.toastrConfig;for(const a of this.toasts){const c=s&&a.title===n;if((!s||c)&&a.message===r)return a.toastRef.onDuplicate(i,o),a}return null}applyConfig(n={}){return Object.assign(Object.assign({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,o)):this._buildNotification(n,r,i,o)}_buildNotification(n,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&o.enableHtml&&(u=this.sanitizer.sanitize(Ve.HTML,r));const g=new TN(c),y=new Mc(this.index,o,u,i,n,g),T=new SN(y,this._injector),M=new wN(o.toastComponent,T),F=c.attach(M,this.toastrConfig.newestOnTop);g.componentInstance=F.instance;const $={toastId:this.index,title:i||"",message:r||"",toastRef:g,onShown:g.afterActivate(),onHidden:g.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:F};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$.toastRef.activate()})),this.toasts.push($),$}}return e.\u0275fac=function(n){return new(n||e)(X(rD),X(PN),X(gt),X(C_),X(lt))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),RN=(()=>{class e{constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}}return e.\u0275fac=function(n){return new(n||e)(G(no),G(Mc),G(lt))},e.\u0275cmp=Lt({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){1&n&&Oe("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(Pl("@flyInOut",r.state),er(r.toastClasses),Bi("display",r.displayStyle))},attrs:tD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(ct(0,dN,3,0,"button",0),ct(1,hN,3,5,"div",1),ct(2,pN,1,3,"div",2),ct(3,gN,2,4,"div",3),ct(4,mN,2,2,"div",4)),2&n&&(ye("ngIf",r.options.closeButton),de(1),ye("ngIf",r.title),de(1),ye("ngIf",r.message&&r.options.enableHtml),de(1),ye("ngIf",r.message&&!r.options.enableHtml),de(1),ye("ngIf",r.options.progressBar))},directives:[Wa],encapsulation:2,data:{animation:[lN("flyInOut",[jf("inactive",Vf({opacity:0})),jf("active",Vf({opacity:1})),jf("removed",Vf({opacity:0})),Xb("inactive => active",Yb("{{ easeTime }}ms {{ easing }}")),Xb("active => removed",Yb("{{ easeTime }}ms {{ easing }}"))])]}}),e})();Object.assign(Object.assign({},nD),{toastComponent:RN});let ON=(()=>{class e{constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return e.\u0275fac=function(n){return new(n||e)(G(no),G(Mc),G(ns))},e.\u0275cmp=Lt({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){1&n&&Oe("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(er(r.toastClasses),Bi("display",r.displayStyle))},attrs:tD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(ct(0,yN,3,0,"button",0),ct(1,_N,3,5,"div",1),ct(2,CN,1,3,"div",2),ct(3,bN,2,4,"div",3),ct(4,DN,2,2,"div",4)),2&n&&(ye("ngIf",r.options.closeButton),de(1),ye("ngIf",r.title),de(1),ye("ngIf",r.message&&r.options.enableHtml),de(1),ye("ngIf",r.message&&!r.options.enableHtml),de(1),ye("ngIf",r.options.progressBar))},directives:[Wa],encapsulation:2}),e})();const xN=Object.assign(Object.assign({},nD),{toastComponent:ON});let kN=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:rD,useValue:{default:xN,config:n}}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({imports:[[i_]]}),e})();const NN=function(e){return["/customers/",e]};function FN(e,t){if(1&e){const n=Ho();J(0,"li",4)(1,"span"),te(2),Z(),J(3,"div",5)(4,"button",6),Oe("click",function(){const o=ho(n).index;return Ot().deleteCustomer(o)}),te(5,"Delete"),Z(),J(6,"button",7),te(7,"Edit"),Z()()()}if(2&e){const n=t.$implicit;de(2),_a("",n.firstName," ",n.lastName,""),de(4),ye("routerLink",Sa(3,NN,n.id))}}const LN=function(){return["/customers/create"]};let VN=(()=>{class e{constructor(n,r){this.cusomerService=n,this.toastService=r}ngOnInit(){this.cusomerService.getAll().subscribe(n=>{this.customers=n})}deleteCustomer(n){this.cusomerService.delete(this.customers[n].id).subscribe({next:i=>{this.customers.splice(n,1),this.toastService.success("Customer deleted successfully")}})}}return e.\u0275fac=function(n){return new(n||e)(G(Kb),G(no))},e.\u0275cmp=Lt({type:e,selectors:[["app-customers"]],decls:7,vars:3,consts:[[1,"container"],[1,"list-group","mb-2"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"actions"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",3,"routerLink"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),te(2,"Customers"),Z(),J(3,"ul",1),ct(4,FN,8,5,"li",2),Z(),J(5,"button",3),te(6,"Create Customer"),Z()()),2&n&&(de(4),ye("ngForOf",r.customers),de(1),ye("routerLink",ln(2,LN)))},directives:[Td,eo],styles:[".list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),iD=(()=>{class e{constructor(n,r,i){this.customerService=n,this.route=r,this.toastService=i,this.customer={id:0,firstName:"",lastName:"",phone:"",email:""}}ngOnInit(){let n=+this.route.snapshot.paramMap.get("id");this.isNewRecord=!n,this.isNewRecord||this.customerService.get(n).subscribe({next:r=>this.customer=r})}onSubmit(){this.isNewRecord?this.customerService.create(this.customer).subscribe({next:n=>this.toastService.success("Customer created successfully."),error:n=>this.toastService.error(n)}):this.customerService.update(this.customer).subscribe({next:n=>this.toastService.success("Customer updated successfully."),error:n=>this.toastService.error(n)})}}return e.\u0275fac=function(n){return new(n||e)(G(Kb),G(Gn),G(no))},e.\u0275cmp=Lt({type:e,selectors:[["app-customer"]],decls:23,vars:5,consts:[[1,"container"],[3,"ngSubmit"],["customerForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","required","","name","firstName","id","firstName","placeholder","First Name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","text","required","","name","lastName","id","lastName","placeholder","Last Name",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","required","","name","email","id","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","required","","name","phone","id","phone","placeholder","Phone",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){if(1&n&&(J(0,"div",0)(1,"h2"),te(2,"Customer"),Z(),J(3,"form",1,2),Oe("ngSubmit",function(){return r.onSubmit()}),J(5,"div",3)(6,"label",4),te(7,"First Name"),Z(),J(8,"input",5),Oe("ngModelChange",function(o){return r.customer.firstName=o}),Z()(),J(9,"div",3)(10,"label",6),te(11,"Last Name"),Z(),J(12,"input",7),Oe("ngModelChange",function(o){return r.customer.lastName=o}),Z()(),J(13,"div",3)(14,"label",8),te(15,"Email"),Z(),J(16,"input",9),Oe("ngModelChange",function(o){return r.customer.email=o}),Z()(),J(17,"div",3)(18,"label",10),te(19,"Phone"),Z(),J(20,"input",11),Oe("ngModelChange",function(o){return r.customer.phone=o}),Z()(),J(21,"button",12),te(22,"Save"),Z()()()),2&n){const i=_l(4);de(8),ye("ngModel",r.customer.firstName),de(4),ye("ngModel",r.customer.lastName),de(4),ye("ngModel",r.customer.email),de(4),ye("ngModel",r.customer.phone),de(1),ye("disabled",!i.form.valid)}},directives:[cc,Xa,Ji,cs,hs,Bd,ac],styles:[""]}),e})(),oD=(()=>{class e{constructor(n){this.http=n}get(n){return this.http.get(`${Mn_API_URL}User/Get/${n}`)}getAll(){return this.http.get(`${Mn_API_URL}User/GetAll`)}create(n){return this.http.put(`${Mn_API_URL}User/Create`,n)}update(n){return this.http.patch(`${Mn_API_URL}User/Update/${n.id}`,{password:n.password,phone:n.phone})}delete(n){return this.http.delete(`${Mn_API_URL}User/Delete/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(X(cf))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const jN=function(e){return["/users/",e]};function BN(e,t){if(1&e){const n=Ho();J(0,"li",4)(1,"span"),te(2),Z(),J(3,"div",5)(4,"button",6),Oe("click",function(){const o=ho(n).index;return Ot().deleteUser(o)}),te(5,"Delete"),Z(),J(6,"button",7),te(7,"Edit"),Z()()()}if(2&e){const n=t.$implicit;de(2),_a("",n.firstName," ",n.lastName,""),de(4),ye("routerLink",Sa(3,jN,n.id))}}const UN=function(){return["/users/create"]};let HN=(()=>{class e{constructor(n,r){this.userService=n,this.toastService=r}ngOnInit(){this.userService.getAll().subscribe({next:n=>{this.users=n}})}deleteUser(n){this.userService.delete(this.users[n].id).subscribe({next:i=>{this.users.splice(n,1),this.toastService.success("Customer deleted successfully")}})}}return e.\u0275fac=function(n){return new(n||e)(G(oD),G(no))},e.\u0275cmp=Lt({type:e,selectors:[["app-users"]],decls:7,vars:3,consts:[[1,"container"],[1,"list-group","mb-2"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"actions"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",3,"routerLink"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),te(2,"Users"),Z(),J(3,"ul",1),ct(4,BN,8,5,"li",2),Z(),J(5,"button",3),te(6,"Create User"),Z()()),2&n&&(de(4),ye("ngForOf",r.users),de(1),ye("routerLink",ln(2,UN)))},directives:[Td,eo],styles:[".list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),sD=(()=>{class e{constructor(n,r,i){this.userService=n,this.route=r,this.toastService=i,this.user={id:0,firstName:"",lastName:"",password:"",email:"",phone:""}}ngOnInit(){let n=+this.route.snapshot.paramMap.get("id");this.isNewRecord=!n,this.isNewRecord||this.userService.get(n).subscribe({next:r=>{r.password=null,this.user=r}})}onSubmit(){this.isNewRecord?this.userService.create(this.user).subscribe({next:n=>this.toastService.success("User created successfully."),error:n=>this.toastService.error(n.message)}):this.userService.update(this.user).subscribe({next:n=>this.toastService.success("User updated successfully."),error:n=>console.log(n)})}}return e.\u0275fac=function(n){return new(n||e)(G(oD),G(Gn),G(no))},e.\u0275cmp=Lt({type:e,selectors:[["app-user"]],decls:27,vars:7,consts:[[1,"container"],[3,"ngSubmit"],["userForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","required","","name","firstName","id","firstName","placeholder","First Name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","text","required","","name","lastName","id","lastName","placeholder","Last Name",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","required","","name","email","id","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","required","","name","phone","id","phone","placeholder","Phone",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","id","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){if(1&n&&(J(0,"div",0)(1,"h2"),te(2,"User"),Z(),J(3,"form",1,2),Oe("ngSubmit",function(){return r.onSubmit()}),J(5,"div",3)(6,"label",4),te(7,"First Name"),Z(),J(8,"input",5),Oe("ngModelChange",function(o){return r.user.firstName=o}),Z()(),J(9,"div",3)(10,"label",6),te(11,"Last Name"),Z(),J(12,"input",7),Oe("ngModelChange",function(o){return r.user.lastName=o}),Z()(),J(13,"div",3)(14,"label",8),te(15,"Email"),Z(),J(16,"input",9),Oe("ngModelChange",function(o){return r.user.email=o}),Z()(),J(17,"div",3)(18,"label",10),te(19,"Phone"),Z(),J(20,"input",11),Oe("ngModelChange",function(o){return r.user.phone=o}),Z()(),J(21,"div",3)(22,"label",12),te(23,"Password"),Z(),J(24,"input",13),Oe("ngModelChange",function(o){return r.user.password=o}),Z()(),J(25,"button",14),te(26,"Save"),Z()()()),2&n){const i=_l(4);de(8),ye("ngModel",r.user.firstName),de(4),ye("ngModel",r.user.lastName),de(4),ye("ngModel",r.user.email),de(4),ye("ngModel",r.user.phone),de(4),ye("ngModel",r.user.password),Pt("required",r.isNewRecord),de(1),ye("disabled",!i.form.valid)}},directives:[cc,Xa,Ji,cs,hs,Bd,ac],styles:[""]}),e})();const $N=[{path:"",component:Yk},{path:"meeting",component:Lf},{path:"meeting-stats",component:Xk},{path:"set-meeting",component:uN},{path:"user/joinMeeting",component:Lf},{path:"client/jointMeeting",component:Lf},{path:"customers",component:VN},{path:"customers/:id",component:iD},{path:"customers/create",component:iD},{path:"users",component:HN},{path:"users/:id",component:sD},{path:"users/create",component:sD},{path:"**",redirectTo:""}];let GN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e}),e.\u0275inj=Ft({imports:[[qb.forRoot($N)],qb]}),e})();const zN=["localVideo"],WN=["remoteVideo"];let qN=(()=>{class e{constructor(){this.title="WebRTCVideoCallAssistant.Client",this.targetID=""}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}showModal(n){}endCall(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Lt({type:e,selectors:[["app-root"]],viewQuery:function(n,r){if(1&n&&(Xo(zN,5),Xo(WN,5)),2&n){let i;Hr(i=$r())&&(r.localVideo=i.first),Hr(i=$r())&&(r.remoteVideo=i.first)}},decls:1,vars:0,template:function(n,r){1&n&&Rt(0,"router-outlet")},directives:[Sf],styles:[".row[_ngcontent-%COMP%]{padding-top:15px}#video-wrapper[_ngcontent-%COMP%]{text-align:center;background-color:#343434;border-radius:4px;height:550px}.remote-video[_ngcontent-%COMP%]{height:480px;width:640px;border-radius:4px;transform:translateY(10%)}.local-video[_ngcontent-%COMP%]{z-index:1;position:absolute;right:1.5rem;bottom:1.5rem;width:10vw;height:10vw;max-width:10rem;max-height:10rem;border:3px solid white;border-radius:4px}"]}),e})(),QN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$t({type:e,bootstrap:[qN]}),e.\u0275inj=Ft({providers:[],imports:[[J1,GN,cO,DO,kN.forRoot()]]}),e})();(function kA(){Av=!1})(),q1().bootstrapModule(QN).catch(e=>console.error(e))},321:(Mr,zn,Ir)=>{parcelRequire=function(H,re,L,P){var D,S="function"==typeof parcelRequire&&parcelRequire;function k(h,C){if(!re[h]){if(!H[h]){var _="function"==typeof parcelRequire&&parcelRequire;if(!C&&_)return _(h,!0);if(S)return S(h,!0);if("string"==typeof h)return Ir(784)(h);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}m.resolve=function(v){return H[h][1][v]||v},m.cache={};var E=re[h]=new k.Module(h);H[h][0].call(E.exports,m,E,E.exports,this)}return re[h].exports;function m(v){return k(m.resolve(v))}}k.isParcelRequire=!0,k.Module=function(h){this.id=h,this.bundle=k,this.exports={}},k.modules=H,k.cache=re,k.parent=S,k.register=function(h,C){H[h]=[function(_,w){w.exports=C},{}]};for(var R=0;R<L.length;R++)try{k(L[R])}catch(h){D||(D=h)}if(L.length){var I=k(L[L.length-1]);Mr.exports=I}if(parcelRequire=k,D)throw D;return k}({EgBh:[function(H,re,L){var P={};P.useBlobBuilder=function(){try{return new Blob([]),!1}catch(A){return!0}}(),P.useArrayBufferView=!P.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(A){return!0}}(),re.exports.binaryFeatures=P;var D=re.exports.BlobBuilder;function S(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(D=re.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),S.prototype.append=function(A){"number"==typeof A?this._pieces.push(A):(this.flush(),this._parts.push(A))},S.prototype.flush=function(){if(this._pieces.length>0){var A=new Uint8Array(this._pieces);P.useArrayBufferView||(A=A.buffer),this._parts.push(A),this._pieces=[]}},S.prototype.getBuffer=function(){if(this.flush(),P.useBlobBuilder){for(var A=new D,k=0,R=this._parts.length;k<R;k++)A.append(this._parts[k]);return A.getBlob()}return new Blob(this._parts)},re.exports.BufferBuilder=S},{}],kdPp:[function(H,re,L){var P=H("./bufferbuilder").BufferBuilder,D=H("./bufferbuilder").binaryFeatures;function A(h){this.index=0,this.dataBuffer=h,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function k(){this.bufferBuilder=new P}function R(h){var C=h.charCodeAt(0);return C<=2047?"00":C<=65535?"000":C<=2097151?"0000":C<=67108863?"00000":"000000"}re.exports={unpack:function(h){return new A(h).unpack()},pack:function(h){var C=new k;return C.pack(h),C.getBuffer()}},A.prototype.unpack=function(){var h,C=this.unpack_uint8();if(C<128)return C;if((224^C)<32)return(224^C)-32;if((h=160^C)<=15)return this.unpack_raw(h);if((h=176^C)<=15)return this.unpack_string(h);if((h=144^C)<=15)return this.unpack_array(h);if((h=128^C)<=15)return this.unpack_map(h);switch(C){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}},A.prototype.unpack_uint8=function(){var h=255&this.dataView[this.index];return this.index++,h},A.prototype.unpack_uint16=function(){var h=this.read(2),C=256*(255&h[0])+(255&h[1]);return this.index+=2,C},A.prototype.unpack_uint32=function(){var h=this.read(4),C=256*(256*(256*h[0]+h[1])+h[2])+h[3];return this.index+=4,C},A.prototype.unpack_uint64=function(){var h=this.read(8),C=256*(256*(256*(256*(256*(256*(256*h[0]+h[1])+h[2])+h[3])+h[4])+h[5])+h[6])+h[7];return this.index+=8,C},A.prototype.unpack_int8=function(){var h=this.unpack_uint8();return h<128?h:h-256},A.prototype.unpack_int16=function(){var h=this.unpack_uint16();return h<32768?h:h-65536},A.prototype.unpack_int32=function(){var h=this.unpack_uint32();return h<Math.pow(2,31)?h:h-Math.pow(2,32)},A.prototype.unpack_int64=function(){var h=this.unpack_uint64();return h<Math.pow(2,63)?h:h-Math.pow(2,64)},A.prototype.unpack_raw=function(h){if(this.length<this.index+h)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+h+" "+this.length);var C=this.dataBuffer.slice(this.index,this.index+h);return this.index+=h,C},A.prototype.unpack_string=function(h){for(var C,_,w=this.read(h),E=0,m="";E<h;)(C=w[E])<128?(m+=String.fromCharCode(C),E++):(192^C)<32?(_=(192^C)<<6|63&w[E+1],m+=String.fromCharCode(_),E+=2):(_=(15&C)<<12|(63&w[E+1])<<6|63&w[E+2],m+=String.fromCharCode(_),E+=3);return this.index+=h,m},A.prototype.unpack_array=function(h){for(var C=new Array(h),_=0;_<h;_++)C[_]=this.unpack();return C},A.prototype.unpack_map=function(h){for(var C={},_=0;_<h;_++){var w=this.unpack(),E=this.unpack();C[w]=E}return C},A.prototype.unpack_float=function(){var h=this.unpack_uint32();return(h>>31==0?1:-1)*(8388607&h|8388608)*Math.pow(2,(h>>23&255)-127-23)},A.prototype.unpack_double=function(){var h=this.unpack_uint32(),C=this.unpack_uint32(),_=(h>>20&2047)-1023;return(h>>31==0?1:-1)*((1048575&h|1048576)*Math.pow(2,_-20)+C*Math.pow(2,_-52))},A.prototype.read=function(h){var C=this.index;if(C+h<=this.length)return this.dataView.subarray(C,C+h);throw new Error("BinaryPackFailure: read index out of range")},k.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},k.prototype.pack=function(h){var C=typeof h;if("string"===C)this.pack_string(h);else if("number"===C)Math.floor(h)===h?this.pack_integer(h):this.pack_double(h);else if("boolean"===C)!0===h?this.bufferBuilder.append(195):!1===h&&this.bufferBuilder.append(194);else if("undefined"===C)this.bufferBuilder.append(192);else{if("object"!==C)throw new Error('Type "'+C+'" not yet supported');if(null===h)this.bufferBuilder.append(192);else{var _=h.constructor;if(_==Array)this.pack_array(h);else if(_==Blob||_==File||h instanceof Blob||h instanceof File)this.pack_bin(h);else if(_==ArrayBuffer)this.pack_bin(D.useArrayBufferView?new Uint8Array(h):h);else if("BYTES_PER_ELEMENT"in h)this.pack_bin(D.useArrayBufferView?new Uint8Array(h.buffer):h.buffer);else if(_==Object||_.toString().startsWith("class"))this.pack_object(h);else if(_==Date)this.pack_string(h.toString());else{if("function"!=typeof h.toBinaryPack)throw new Error('Type "'+_.toString()+'" not yet supported');this.bufferBuilder.append(h.toBinaryPack())}}}this.bufferBuilder.flush()},k.prototype.pack_bin=function(h){var C=h.length||h.byteLength||h.size;if(C<=15)this.pack_uint8(160+C);else if(C<=65535)this.bufferBuilder.append(218),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_string=function(h){var C=function I(h){return h.length>600?new Blob([h]).size:h.replace(/[^\u0000-\u007F]/g,R).length}(h);if(C<=15)this.pack_uint8(176+C);else if(C<=65535)this.bufferBuilder.append(216),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_array=function(h){var C=h.length;if(C<=15)this.pack_uint8(144+C);else if(C<=65535)this.bufferBuilder.append(220),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(C)}for(var _=0;_<C;_++)this.pack(h[_])},k.prototype.pack_integer=function(h){if(h>=-32&&h<=127)this.bufferBuilder.append(255&h);else if(h>=0&&h<=255)this.bufferBuilder.append(204),this.pack_uint8(h);else if(h>=-128&&h<=127)this.bufferBuilder.append(208),this.pack_int8(h);else if(h>=0&&h<=65535)this.bufferBuilder.append(205),this.pack_uint16(h);else if(h>=-32768&&h<=32767)this.bufferBuilder.append(209),this.pack_int16(h);else if(h>=0&&h<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(h);else if(h>=-2147483648&&h<=2147483647)this.bufferBuilder.append(210),this.pack_int32(h);else if(h>=-0x8000000000000000&&h<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(h);else{if(!(h>=0&&h<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(h)}},k.prototype.pack_double=function(h){var C=0;h<0&&(C=1,h=-h);var _=Math.floor(Math.log(h)/Math.LN2),w=h/Math.pow(2,_)-1,E=Math.floor(w*Math.pow(2,52)),m=Math.pow(2,32),v=C<<31|_+1023<<20|E/m&1048575,p=E%m;this.bufferBuilder.append(203),this.pack_int32(v),this.pack_int32(p)},k.prototype.pack_object=function(h){var C=Object.keys(h).length;if(C<=15)this.pack_uint8(128+C);else if(C<=65535)this.bufferBuilder.append(222),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(C)}for(var _ in h)h.hasOwnProperty(_)&&(this.pack(_),this.pack(h[_]))},k.prototype.pack_uint8=function(h){this.bufferBuilder.append(h)},k.prototype.pack_uint16=function(h){this.bufferBuilder.append(h>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_uint32=function(h){var C=4294967295&h;this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C)},k.prototype.pack_uint64=function(h){var C=h/Math.pow(2,32),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)},k.prototype.pack_int8=function(h){this.bufferBuilder.append(255&h)},k.prototype.pack_int16=function(h){this.bufferBuilder.append((65280&h)>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int32=function(h){this.bufferBuilder.append(h>>>24&255),this.bufferBuilder.append((16711680&h)>>>16),this.bufferBuilder.append((65280&h)>>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int64=function(h){var C=Math.floor(h/Math.pow(2,32)),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(H,re,L){"use strict";function D(d){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}Object.defineProperty(L,"__esModule",{value:!0}),L.extractVersion=k,L.wrapPeerConnectionEvent=function R(d,l,f){if(d.RTCPeerConnection){var b=d.RTCPeerConnection.prototype,O=b.addEventListener;b.addEventListener=function(N,j){if(N!==l)return O.apply(this,arguments);var B=function(V){var W=f(V);W&&(j.handleEvent?j.handleEvent(W):j(W))};return this._eventMap=this._eventMap||{},this._eventMap[l]||(this._eventMap[l]=new Map),this._eventMap[l].set(j,B),O.apply(this,[N,B])};var x=b.removeEventListener;b.removeEventListener=function(N,j){if(N!==l||!this._eventMap||!this._eventMap[l])return x.apply(this,arguments);if(!this._eventMap[l].has(j))return x.apply(this,arguments);var B=this._eventMap[l].get(j);return this._eventMap[l].delete(j),0===this._eventMap[l].size&&delete this._eventMap[l],0===Object.keys(this._eventMap).length&&delete this._eventMap,x.apply(this,[N,B])},Object.defineProperty(b,"on"+l,{get:function(){return this["_on"+l]},set:function(N){this["_on"+l]&&(this.removeEventListener(l,this["_on"+l]),delete this["_on"+l]),N&&this.addEventListener(l,this["_on"+l]=N)},enumerable:!0,configurable:!0})}},L.disableLog=function I(d){return"boolean"!=typeof d?new Error("Argument type: "+D(d)+". Please use a boolean."):(S=d,d?"adapter.js logging disabled":"adapter.js logging enabled")},L.disableWarnings=function h(d){return"boolean"!=typeof d?new Error("Argument type: "+D(d)+". Please use a boolean."):(A=!d,"adapter.js deprecation warnings "+(d?"disabled":"enabled"))},L.log=function C(){if("object"===("undefined"==typeof window?"undefined":D(window))){if(S)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},L.deprecated=function _(d,l){A&&console.warn(d+" is deprecated, please use "+l+" instead.")},L.detectBrowser=function w(d){var l={browser:null,version:null};if(void 0===d||!d.navigator)return l.browser="Not a browser.",l;var{navigator:f}=d;if(f.mozGetUserMedia)l.browser="firefox",l.version=k(f.userAgent,/Firefox\/(\d+)\./,1);else if(f.webkitGetUserMedia||!1===d.isSecureContext&&d.webkitRTCPeerConnection&&!d.RTCIceGatherer)l.browser="chrome",l.version=k(f.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(f.mediaDevices&&f.userAgent.match(/Edge\/(\d+).(\d+)$/))l.browser="edge",l.version=k(f.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!d.RTCPeerConnection||!f.userAgent.match(/AppleWebKit\/(\d+)\./))return l.browser="Not a supported browser.",l;l.browser="safari",l.version=k(f.userAgent,/AppleWebKit\/(\d+)\./,1),l.supportsUnifiedPlan=d.RTCRtpTransceiver&&"currentDirection"in d.RTCRtpTransceiver.prototype}return l},L.compactObject=function m(d){return E(d)?Object.keys(d).reduce(function(l,f){var b=E(d[f]),O=b?m(d[f]):d[f],x=b&&!Object.keys(O).length;return void 0===O||x?l:Object.assign(l,function P(d,l,f){return l in d?Object.defineProperty(d,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[l]=f,d}({},f,O))},{}):d},L.walkStats=v,L.filterStats=function p(d,l,f){var b=f?"outbound-rtp":"inbound-rtp",O=new Map;if(null===l)return O;var x=[];return d.forEach(function(N){"track"===N.type&&N.trackIdentifier===l.id&&x.push(N)}),x.forEach(function(N){d.forEach(function(j){j.type===b&&j.trackId===N.id&&v(d,j,O)})}),O};var S=!0,A=!0;function k(d,l,f){var b=d.match(l);return b&&b.length>=f&&parseInt(b[f],10)}function E(d){return"[object Object]"===Object.prototype.toString.call(d)}function v(d,l,f){l&&!f.has(l.id)&&(f.set(l.id,l),Object.keys(l).forEach(function(b){b.endsWith("Id")?v(d,d.get(l[b]),f):b.endsWith("Ids")&&l[b].forEach(function(O){v(d,d.get(O),f)})}))}},{}],s6SN:[function(H,re,L){"use strict";function D(){if("function"!=typeof WeakMap)return null;var I=new WeakMap;return D=function(){return I},I}function A(I){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(I)}Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetUserMedia=function R(I,h){var C=I&&I.navigator;if(C.mediaDevices){var _=function(v){if("object"!==A(v)||v.mandatory||v.optional)return v;var p={};return Object.keys(v).forEach(function(d){if("require"!==d&&"advanced"!==d&&"mediaSource"!==d){var l="object"===A(v[d])?v[d]:{ideal:v[d]};void 0!==l.exact&&"number"==typeof l.exact&&(l.min=l.max=l.exact);var f=function(O,x){return O?O+x.charAt(0).toUpperCase()+x.slice(1):"deviceId"===x?"sourceId":x};if(void 0!==l.ideal){p.optional=p.optional||[];var b={};"number"==typeof l.ideal?(b[f("min",d)]=l.ideal,p.optional.push(b),(b={})[f("max",d)]=l.ideal,p.optional.push(b)):(b[f("",d)]=l.ideal,p.optional.push(b))}void 0!==l.exact&&"number"!=typeof l.exact?(p.mandatory=p.mandatory||{},p.mandatory[f("",d)]=l.exact):["min","max"].forEach(function(O){void 0!==l[O]&&(p.mandatory=p.mandatory||{},p.mandatory[f(O,d)]=l[O])})}}),v.advanced&&(p.optional=(p.optional||[]).concat(v.advanced)),p},w=function(v,p){if(h.version>=61)return p(v);if((v=JSON.parse(JSON.stringify(v)))&&"object"===A(v.audio)){var d=function(O,x,N){x in O&&!(N in O)&&(O[N]=O[x],delete O[x])};d((v=JSON.parse(JSON.stringify(v))).audio,"autoGainControl","googAutoGainControl"),d(v.audio,"noiseSuppression","googNoiseSuppression"),v.audio=_(v.audio)}if(v&&"object"===A(v.video)){var l=v.video.facingMode;l=l&&("object"===A(l)?l:{ideal:l});var f,b=h.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!C.mediaDevices.getSupportedConstraints||!C.mediaDevices.getSupportedConstraints().facingMode||b)&&(delete v.video.facingMode,"environment"===l.exact||"environment"===l.ideal?f=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(f=["front"]),f))return C.mediaDevices.enumerateDevices().then(function(O){var x=(O=O.filter(function(N){return"videoinput"===N.kind})).find(function(N){return f.some(function(j){return N.label.toLowerCase().includes(j)})});return!x&&O.length&&f.includes("back")&&(x=O[O.length-1]),x&&(v.video.deviceId=l.exact?{exact:x.deviceId}:{ideal:x.deviceId}),v.video=_(v.video),k("chrome: "+JSON.stringify(v)),p(v)});v.video=_(v.video)}return k("chrome: "+JSON.stringify(v)),p(v)},E=function(v){return h.version>=64?v:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[v.name]||v.name,message:v.message,constraint:v.constraint||v.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(C.getUserMedia=function(v,p,d){w(v,function(l){C.webkitGetUserMedia(l,p,function(f){d&&d(E(f))})})}.bind(C),C.mediaDevices.getUserMedia){var m=C.mediaDevices.getUserMedia.bind(C.mediaDevices);C.mediaDevices.getUserMedia=function(v){return w(v,function(p){return m(p).then(function(d){if(p.audio&&!d.getAudioTracks().length||p.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(function(l){l.stop()}),new DOMException("","NotFoundError");return d},function(d){return Promise.reject(E(d))})})}}}};var k=function S(I){if(I&&I.__esModule)return I;if(null===I||"object"!=typeof I&&"function"!=typeof I)return{default:I};var h=D();if(h&&h.has(I))return h.get(I);var C={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in I)if(Object.prototype.hasOwnProperty.call(I,w)){var E=_?Object.getOwnPropertyDescriptor(I,w):null;E&&(E.get||E.set)?Object.defineProperty(C,w,E):C[w]=I[w]}return C.default=I,h&&h.set(I,C),C}(H("../utils.js")).log},{"../utils.js":"iSxC"}],VHa8:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetDisplayMedia=function P(D,S){D.navigator.mediaDevices&&"getDisplayMedia"in D.navigator.mediaDevices||D.navigator.mediaDevices&&("function"==typeof S?D.navigator.mediaDevices.getDisplayMedia=function(A){return S(A).then(function(k){var R=A.video&&A.video.width,I=A.video&&A.video.height;return A.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:k,maxFrameRate:A.video&&A.video.frameRate||3}},R&&(A.video.mandatory.maxWidth=R),I&&(A.video.mandatory.maxHeight=I),D.navigator.mediaDevices.getUserMedia(A)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],uI5X:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimMediaStream=function h(l){l.MediaStream=l.MediaStream||l.webkitMediaStream},L.shimOnTrack=function C(l){if("object"!==I(l)||!l.RTCPeerConnection||"ontrack"in l.RTCPeerConnection.prototype)P.wrapPeerConnectionEvent(l,"track",function(b){return b.transceiver||Object.defineProperty(b,"transceiver",{value:{receiver:b.receiver}}),b});else{Object.defineProperty(l.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(b){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=b)},enumerable:!0,configurable:!0});var f=l.RTCPeerConnection.prototype.setRemoteDescription;l.RTCPeerConnection.prototype.setRemoteDescription=function(){var b=this;return this._ontrackpoly||(this._ontrackpoly=function(O){O.stream.addEventListener("addtrack",function(x){var N;N=l.RTCPeerConnection.prototype.getReceivers?b.getReceivers().find(function(B){return B.track&&B.track.id===x.track.id}):{track:x.track};var j=new Event("track");j.track=x.track,j.receiver=N,j.transceiver={receiver:N},j.streams=[O.stream],b.dispatchEvent(j)}),O.stream.getTracks().forEach(function(x){var N;N=l.RTCPeerConnection.prototype.getReceivers?b.getReceivers().find(function(B){return B.track&&B.track.id===x.id}):{track:x};var j=new Event("track");j.track=x,j.receiver=N,j.transceiver={receiver:N},j.streams=[O.stream],b.dispatchEvent(j)})},this.addEventListener("addstream",this._ontrackpoly)),f.apply(this,arguments)}}},L.shimGetSendersWithDtmf=function _(l){if("object"===I(l)&&l.RTCPeerConnection&&!("getSenders"in l.RTCPeerConnection.prototype)&&"createDTMFSender"in l.RTCPeerConnection.prototype){var f=function(B,V){return{track:V,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===V.kind?B.createDTMFSender(V):null),this._dtmf},_pc:B}};if(!l.RTCPeerConnection.prototype.getSenders){l.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var b=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(B,V){var W=b.apply(this,arguments);return W||(W=f(this,B),this._senders.push(W)),W};var O=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(B){O.apply(this,arguments);var V=this._senders.indexOf(B);-1!==V&&this._senders.splice(V,1)}}var x=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(B){var V=this;this._senders=this._senders||[],x.apply(this,[B]),B.getTracks().forEach(function(W){V._senders.push(f(V,W))})};var N=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(B){var V=this;this._senders=this._senders||[],N.apply(this,[B]),B.getTracks().forEach(function(W){var K=V._senders.find(function(ce){return ce.track===W});K&&V._senders.splice(V._senders.indexOf(K),1)})}}else if("object"===I(l)&&l.RTCPeerConnection&&"getSenders"in l.RTCPeerConnection.prototype&&"createDTMFSender"in l.RTCPeerConnection.prototype&&l.RTCRtpSender&&!("dtmf"in l.RTCRtpSender.prototype)){var j=l.RTCPeerConnection.prototype.getSenders;l.RTCPeerConnection.prototype.getSenders=function(){var B=this,V=j.apply(this,[]);return V.forEach(function(W){return W._pc=B}),V},Object.defineProperty(l.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},L.shimGetStats=function w(l){if(l.RTCPeerConnection){var f=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){var b=this,[O,x,N]=arguments;if(arguments.length>0&&"function"==typeof O)return f.apply(this,arguments);if(0===f.length&&(0===arguments.length||"function"!=typeof O))return f.apply(this,[]);var j=function(V){var W={};return V.result().forEach(function(K){var ce={id:K.id,timestamp:K.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[K.type]||K.type};K.names().forEach(function(ie){ce[ie]=K.stat(ie)}),W[ce.id]=ce}),W},B=function(V){return new Map(Object.keys(V).map(function(W){return[W,V[W]]}))};return arguments.length>=2?f.apply(this,[function(V){x(B(j(V)))},O]):new Promise(function(V,W){f.apply(b,[function(K){V(B(j(K)))},W])}).then(x,N)}}},L.shimSenderReceiverGetStats=function E(l){if("object"===I(l)&&l.RTCPeerConnection&&l.RTCRtpSender&&l.RTCRtpReceiver){if(!("getStats"in l.RTCRtpSender.prototype)){var f=l.RTCPeerConnection.prototype.getSenders;f&&(l.RTCPeerConnection.prototype.getSenders=function(){var N=this,j=f.apply(this,[]);return j.forEach(function(B){return B._pc=N}),j});var b=l.RTCPeerConnection.prototype.addTrack;b&&(l.RTCPeerConnection.prototype.addTrack=function(){var N=b.apply(this,arguments);return N._pc=this,N}),l.RTCRtpSender.prototype.getStats=function(){var N=this;return this._pc.getStats().then(function(j){return P.filterStats(j,N.track,!0)})}}if(!("getStats"in l.RTCRtpReceiver.prototype)){var O=l.RTCPeerConnection.prototype.getReceivers;O&&(l.RTCPeerConnection.prototype.getReceivers=function(){var N=this,j=O.apply(this,[]);return j.forEach(function(B){return B._pc=N}),j}),P.wrapPeerConnectionEvent(l,"track",function(N){return N.receiver._pc=N.srcElement,N}),l.RTCRtpReceiver.prototype.getStats=function(){var N=this;return this._pc.getStats().then(function(j){return P.filterStats(j,N.track,!1)})}}if("getStats"in l.RTCRtpSender.prototype&&"getStats"in l.RTCRtpReceiver.prototype){var x=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof l.MediaStreamTrack){var N,j,B,V=arguments[0];return this.getSenders().forEach(function(W){W.track===V&&(N?B=!0:N=W)}),this.getReceivers().forEach(function(W){return W.track===V&&(j?B=!0:j=W),W.track===V}),B||N&&j?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):N?N.getStats():j?j.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return x.apply(this,arguments)}}}},L.shimAddTrackRemoveTrackWithNative=m,L.shimAddTrackRemoveTrack=function v(l,f){if(l.RTCPeerConnection){if(l.RTCPeerConnection.prototype.addTrack&&f.version>=65)return m(l);var b=l.RTCPeerConnection.prototype.getLocalStreams;l.RTCPeerConnection.prototype.getLocalStreams=function(){var V=this,W=b.apply(this);return this._reverseStreams=this._reverseStreams||{},W.map(function(K){return V._reverseStreams[K.id]})};var O=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(V){var W=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},V.getTracks().forEach(function(ce){if(W.getSenders().find(function(ie){return ie.track===ce}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[V.id]){var K=new l.MediaStream(V.getTracks());this._streams[V.id]=K,this._reverseStreams[K.id]=V,V=K}O.apply(this,[V])};var x=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(V){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},x.apply(this,[this._streams[V.id]||V]),delete this._reverseStreams[this._streams[V.id]?this._streams[V.id].id:V.id],delete this._streams[V.id]},l.RTCPeerConnection.prototype.addTrack=function(V,W){var K=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var ce=[].slice.call(arguments,1);if(1!==ce.length||!ce[0].getTracks().find(function(He){return He===V}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(He){return He.track===V}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var ie=this._streams[W.id];if(ie)ie.addTrack(V),Promise.resolve().then(function(){K.dispatchEvent(new Event("negotiationneeded"))});else{var ue=new l.MediaStream([V]);this._streams[W.id]=ue,this._reverseStreams[ue.id]=W,this.addStream(ue)}return this.getSenders().find(function(He){return He.track===V})},["createOffer","createAnswer"].forEach(function(V){var W=l.RTCPeerConnection.prototype[V],K=R({},V,function(){var ce=this,ie=arguments;return arguments.length&&"function"==typeof arguments[0]?W.apply(this,[function(ue){var He=B(ce,ue);ie[0].apply(null,[He])},function(ue){ie[1]&&ie[1].apply(null,ue)},arguments[2]]):W.apply(this,arguments).then(function(ue){return B(ce,ue)})});l.RTCPeerConnection.prototype[V]=K[V]});var N=l.RTCPeerConnection.prototype.setLocalDescription;l.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(V=this,K=(W=arguments[0]).sdp,Object.keys(V._reverseStreams||[]).forEach(function(ce){var ie=V._reverseStreams[ce],ue=V._streams[ie.id];K=K.replace(new RegExp(ie.id,"g"),ue.id)}),new RTCSessionDescription({type:W.type,sdp:K})),N.apply(this,arguments)):N.apply(this,arguments);var V,W,K};var j=Object.getOwnPropertyDescriptor(l.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(l.RTCPeerConnection.prototype,"localDescription",{get:function(){var V=j.get.apply(this);return""===V.type?V:B(this,V)}}),l.RTCPeerConnection.prototype.removeTrack=function(V){var W,K=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!V._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(V._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(ce){K._streams[ce].getTracks().find(function(ie){return V.track===ie})&&(W=K._streams[ce])}),W&&(1===W.getTracks().length?this.removeStream(this._reverseStreams[W.id]):W.removeTrack(V.track),this.dispatchEvent(new Event("negotiationneeded")))}}function B(V,W){var K=W.sdp;return Object.keys(V._reverseStreams||[]).forEach(function(ce){var ie=V._reverseStreams[ce];K=K.replace(new RegExp(V._streams[ie.id].id,"g"),ie.id)}),new RTCSessionDescription({type:W.type,sdp:K})}},L.shimPeerConnection=function p(l,f){!l.RTCPeerConnection&&l.webkitRTCPeerConnection&&(l.RTCPeerConnection=l.webkitRTCPeerConnection),l.RTCPeerConnection&&f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var O=l.RTCPeerConnection.prototype[b],x=R({},b,function(){return arguments[0]=new("addIceCandidate"===b?l.RTCIceCandidate:l.RTCSessionDescription)(arguments[0]),O.apply(this,arguments)});l.RTCPeerConnection.prototype[b]=x[b]})},L.fixNegotiationNeeded=function d(l,f){P.wrapPeerConnectionEvent(l,"negotiationneeded",function(b){var O=b.target;if(!(f.version<72||O.getConfiguration&&"plan-b"===O.getConfiguration().sdpSemantics)||"stable"===O.signalingState)return b})},Object.defineProperty(L,"shimGetUserMedia",{enumerable:!0,get:function(){return D.shimGetUserMedia}}),Object.defineProperty(L,"shimGetDisplayMedia",{enumerable:!0,get:function(){return S.shimGetDisplayMedia}});var P=function k(l){if(l&&l.__esModule)return l;if(null===l||"object"!=typeof l&&"function"!=typeof l)return{default:l};var f=A();if(f&&f.has(l))return f.get(l);var b={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in l)if(Object.prototype.hasOwnProperty.call(l,x)){var N=O?Object.getOwnPropertyDescriptor(l,x):null;N&&(N.get||N.set)?Object.defineProperty(b,x,N):b[x]=l[x]}return b.default=l,f&&f.set(l,b),b}(H("../utils.js")),D=H("./getusermedia"),S=H("./getdisplaymedia");function A(){if("function"!=typeof WeakMap)return null;var l=new WeakMap;return A=function(){return l},l}function R(l,f,b){return f in l?Object.defineProperty(l,f,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[f]=b,l}function I(l){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function m(l){l.RTCPeerConnection.prototype.getLocalStreams=function(){var N=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(j){return N._shimmedLocalStreams[j][0]})};var f=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(N,j){if(!j)return f.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var B=f.apply(this,arguments);return this._shimmedLocalStreams[j.id]?-1===this._shimmedLocalStreams[j.id].indexOf(B)&&this._shimmedLocalStreams[j.id].push(B):this._shimmedLocalStreams[j.id]=[j,B],B};var b=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(N){var j=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},N.getTracks().forEach(function(W){if(j.getSenders().find(function(K){return K.track===W}))throw new DOMException("Track already exists.","InvalidAccessError")});var B=this.getSenders();b.apply(this,arguments);var V=this.getSenders().filter(function(W){return-1===B.indexOf(W)});this._shimmedLocalStreams[N.id]=[N].concat(V)};var O=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(N){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[N.id],O.apply(this,arguments)};var x=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(N){var j=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},N&&Object.keys(this._shimmedLocalStreams).forEach(function(B){var V=j._shimmedLocalStreams[B].indexOf(N);-1!==V&&j._shimmedLocalStreams[B].splice(V,1),1===j._shimmedLocalStreams[B].length&&delete j._shimmedLocalStreams[B]}),x.apply(this,arguments)}}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.filterIceServers=function A(k,R){var I=!1;return(k=JSON.parse(JSON.stringify(k))).filter(function(h){if(h&&(h.urls||h.url)){var C=h.urls||h.url;h.url&&!h.urls&&P.deprecated("RTCIceServer.url","RTCIceServer.urls");var _="string"==typeof C;return _&&(C=[C]),C=C.filter(function(w){if(0===w.indexOf("stun:"))return!1;var E=w.startsWith("turn")&&!w.startsWith("turn:[")&&w.includes("transport=udp");return E&&!I?(I=!0,!0):E&&!I}),delete h.url,h.urls=_?C[0]:C,!!C.length}})};var P=function S(k){if(k&&k.__esModule)return k;if(null===k||"object"!=typeof k&&"function"!=typeof k)return{default:k};var R=D();if(R&&R.has(k))return R.get(k);var I={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in k)if(Object.prototype.hasOwnProperty.call(k,C)){var _=h?Object.getOwnPropertyDescriptor(k,C):null;_&&(_.get||_.set)?Object.defineProperty(I,C,_):I[C]=k[C]}return I.default=k,R&&R.set(k,I),I}(H("../utils"));function D(){if("function"!=typeof WeakMap)return null;var k=new WeakMap;return D=function(){return k},k}},{"../utils":"iSxC"}],YHvh:[function(H,re,L){"use strict";var P={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};P.localCName=P.generateIdentifier(),P.splitLines=function(D){return D.trim().split("\n").map(function(S){return S.trim()})},P.splitSections=function(D){return D.split("\nm=").map(function(S,A){return(A>0?"m="+S:S).trim()+"\r\n"})},P.getDescription=function(D){var S=P.splitSections(D);return S&&S[0]},P.getMediaSections=function(D){var S=P.splitSections(D);return S.shift(),S},P.matchPrefix=function(D,S){return P.splitLines(D).filter(function(A){return 0===A.indexOf(S)})},P.parseCandidate=function(D){for(var S,A={foundation:(S=0===D.indexOf("a=candidate:")?D.substring(12).split(" "):D.substring(10).split(" "))[0],component:parseInt(S[1],10),protocol:S[2].toLowerCase(),priority:parseInt(S[3],10),ip:S[4],address:S[4],port:parseInt(S[5],10),type:S[7]},k=8;k<S.length;k+=2)switch(S[k]){case"raddr":A.relatedAddress=S[k+1];break;case"rport":A.relatedPort=parseInt(S[k+1],10);break;case"tcptype":A.tcpType=S[k+1];break;case"ufrag":A.ufrag=S[k+1],A.usernameFragment=S[k+1];break;default:A[S[k]]=S[k+1]}return A},P.writeCandidate=function(D){var S=[];S.push(D.foundation),S.push(D.component),S.push(D.protocol.toUpperCase()),S.push(D.priority),S.push(D.address||D.ip),S.push(D.port);var A=D.type;return S.push("typ"),S.push(A),"host"!==A&&D.relatedAddress&&D.relatedPort&&(S.push("raddr"),S.push(D.relatedAddress),S.push("rport"),S.push(D.relatedPort)),D.tcpType&&"tcp"===D.protocol.toLowerCase()&&(S.push("tcptype"),S.push(D.tcpType)),(D.usernameFragment||D.ufrag)&&(S.push("ufrag"),S.push(D.usernameFragment||D.ufrag)),"candidate:"+S.join(" ")},P.parseIceOptions=function(D){return D.substr(14).split(" ")},P.parseRtpMap=function(D){var S=D.substr(9).split(" "),A={payloadType:parseInt(S.shift(),10)};return S=S[0].split("/"),A.name=S[0],A.clockRate=parseInt(S[1],10),A.channels=3===S.length?parseInt(S[2],10):1,A.numChannels=A.channels,A},P.writeRtpMap=function(D){var S=D.payloadType;void 0!==D.preferredPayloadType&&(S=D.preferredPayloadType);var A=D.channels||D.numChannels||1;return"a=rtpmap:"+S+" "+D.name+"/"+D.clockRate+(1!==A?"/"+A:"")+"\r\n"},P.parseExtmap=function(D){var S=D.substr(9).split(" ");return{id:parseInt(S[0],10),direction:S[0].indexOf("/")>0?S[0].split("/")[1]:"sendrecv",uri:S[1]}},P.writeExtmap=function(D){return"a=extmap:"+(D.id||D.preferredId)+(D.direction&&"sendrecv"!==D.direction?"/"+D.direction:"")+" "+D.uri+"\r\n"},P.parseFmtp=function(D){for(var S,A={},k=D.substr(D.indexOf(" ")+1).split(";"),R=0;R<k.length;R++)A[(S=k[R].trim().split("="))[0].trim()]=S[1];return A},P.writeFmtp=function(D){var S="",A=D.payloadType;if(void 0!==D.preferredPayloadType&&(A=D.preferredPayloadType),D.parameters&&Object.keys(D.parameters).length){var k=[];Object.keys(D.parameters).forEach(function(R){k.push(D.parameters[R]?R+"="+D.parameters[R]:R)}),S+="a=fmtp:"+A+" "+k.join(";")+"\r\n"}return S},P.parseRtcpFb=function(D){var S=D.substr(D.indexOf(" ")+1).split(" ");return{type:S.shift(),parameter:S.join(" ")}},P.writeRtcpFb=function(D){var S="",A=D.payloadType;return void 0!==D.preferredPayloadType&&(A=D.preferredPayloadType),D.rtcpFeedback&&D.rtcpFeedback.length&&D.rtcpFeedback.forEach(function(k){S+="a=rtcp-fb:"+A+" "+k.type+(k.parameter&&k.parameter.length?" "+k.parameter:"")+"\r\n"}),S},P.parseSsrcMedia=function(D){var S=D.indexOf(" "),A={ssrc:parseInt(D.substr(7,S-7),10)},k=D.indexOf(":",S);return k>-1?(A.attribute=D.substr(S+1,k-S-1),A.value=D.substr(k+1)):A.attribute=D.substr(S+1),A},P.parseSsrcGroup=function(D){var S=D.substr(13).split(" ");return{semantics:S.shift(),ssrcs:S.map(function(A){return parseInt(A,10)})}},P.getMid=function(D){var S=P.matchPrefix(D,"a=mid:")[0];if(S)return S.substr(6)},P.parseFingerprint=function(D){var S=D.substr(14).split(" ");return{algorithm:S[0].toLowerCase(),value:S[1]}},P.getDtlsParameters=function(D,S){return{role:"auto",fingerprints:P.matchPrefix(D+S,"a=fingerprint:").map(P.parseFingerprint)}},P.writeDtlsParameters=function(D,S){var A="a=setup:"+S+"\r\n";return D.fingerprints.forEach(function(k){A+="a=fingerprint:"+k.algorithm+" "+k.value+"\r\n"}),A},P.parseCryptoLine=function(D){var S=D.substr(9).split(" ");return{tag:parseInt(S[0],10),cryptoSuite:S[1],keyParams:S[2],sessionParams:S.slice(3)}},P.writeCryptoLine=function(D){return"a=crypto:"+D.tag+" "+D.cryptoSuite+" "+("object"==typeof D.keyParams?P.writeCryptoKeyParams(D.keyParams):D.keyParams)+(D.sessionParams?" "+D.sessionParams.join(" "):"")+"\r\n"},P.parseCryptoKeyParams=function(D){if(0!==D.indexOf("inline:"))return null;var S=D.substr(7).split("|");return{keyMethod:"inline",keySalt:S[0],lifeTime:S[1],mkiValue:S[2]?S[2].split(":")[0]:void 0,mkiLength:S[2]?S[2].split(":")[1]:void 0}},P.writeCryptoKeyParams=function(D){return D.keyMethod+":"+D.keySalt+(D.lifeTime?"|"+D.lifeTime:"")+(D.mkiValue&&D.mkiLength?"|"+D.mkiValue+":"+D.mkiLength:"")},P.getCryptoParameters=function(D,S){return P.matchPrefix(D+S,"a=crypto:").map(P.parseCryptoLine)},P.getIceParameters=function(D,S){var A=P.matchPrefix(D+S,"a=ice-ufrag:")[0],k=P.matchPrefix(D+S,"a=ice-pwd:")[0];return A&&k?{usernameFragment:A.substr(12),password:k.substr(10)}:null},P.writeIceParameters=function(D){return"a=ice-ufrag:"+D.usernameFragment+"\r\na=ice-pwd:"+D.password+"\r\n"},P.parseRtpParameters=function(D){for(var S={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},A=P.splitLines(D)[0].split(" "),k=3;k<A.length;k++){var R=A[k],I=P.matchPrefix(D,"a=rtpmap:"+R+" ")[0];if(I){var h=P.parseRtpMap(I),C=P.matchPrefix(D,"a=fmtp:"+R+" ");switch(h.parameters=C.length?P.parseFmtp(C[0]):{},h.rtcpFeedback=P.matchPrefix(D,"a=rtcp-fb:"+R+" ").map(P.parseRtcpFb),S.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":S.fecMechanisms.push(h.name.toUpperCase())}}}return P.matchPrefix(D,"a=extmap:").forEach(function(_){S.headerExtensions.push(P.parseExtmap(_))}),S},P.writeRtpDescription=function(D,S){var A="";A+="m="+D+" ",A+=S.codecs.length>0?"9":"0",A+=" UDP/TLS/RTP/SAVPF ",A+=S.codecs.map(function(R){return void 0!==R.preferredPayloadType?R.preferredPayloadType:R.payloadType}).join(" ")+"\r\n",A+="c=IN IP4 0.0.0.0\r\n",A+="a=rtcp:9 IN IP4 0.0.0.0\r\n",S.codecs.forEach(function(R){A+=P.writeRtpMap(R),A+=P.writeFmtp(R),A+=P.writeRtcpFb(R)});var k=0;return S.codecs.forEach(function(R){R.maxptime>k&&(k=R.maxptime)}),k>0&&(A+="a=maxptime:"+k+"\r\n"),A+="a=rtcp-mux\r\n",S.headerExtensions&&S.headerExtensions.forEach(function(R){A+=P.writeExtmap(R)}),A},P.parseRtpEncodingParameters=function(D){var S,A=[],k=P.parseRtpParameters(D),R=-1!==k.fecMechanisms.indexOf("RED"),I=-1!==k.fecMechanisms.indexOf("ULPFEC"),h=P.matchPrefix(D,"a=ssrc:").map(function(E){return P.parseSsrcMedia(E)}).filter(function(E){return"cname"===E.attribute}),C=h.length>0&&h[0].ssrc,_=P.matchPrefix(D,"a=ssrc-group:FID").map(function(E){return E.substr(17).split(" ").map(function(m){return parseInt(m,10)})});_.length>0&&_[0].length>1&&_[0][0]===C&&(S=_[0][1]),k.codecs.forEach(function(E){if("RTX"===E.name.toUpperCase()&&E.parameters.apt){var m={ssrc:C,codecPayloadType:parseInt(E.parameters.apt,10)};C&&S&&(m.rtx={ssrc:S}),A.push(m),R&&((m=JSON.parse(JSON.stringify(m))).fec={ssrc:C,mechanism:I?"red+ulpfec":"red"},A.push(m))}}),0===A.length&&C&&A.push({ssrc:C});var w=P.matchPrefix(D,"b=");return w.length&&(w=0===w[0].indexOf("b=TIAS:")?parseInt(w[0].substr(7),10):0===w[0].indexOf("b=AS:")?1e3*parseInt(w[0].substr(5),10)*.95-16e3:void 0,A.forEach(function(E){E.maxBitrate=w})),A},P.parseRtcpParameters=function(D){var S={},A=P.matchPrefix(D,"a=ssrc:").map(function(I){return P.parseSsrcMedia(I)}).filter(function(I){return"cname"===I.attribute})[0];A&&(S.cname=A.value,S.ssrc=A.ssrc);var k=P.matchPrefix(D,"a=rtcp-rsize");S.reducedSize=k.length>0,S.compound=0===k.length;var R=P.matchPrefix(D,"a=rtcp-mux");return S.mux=R.length>0,S},P.parseMsid=function(D){var S,A=P.matchPrefix(D,"a=msid:");if(1===A.length)return{stream:(S=A[0].substr(7).split(" "))[0],track:S[1]};var k=P.matchPrefix(D,"a=ssrc:").map(function(R){return P.parseSsrcMedia(R)}).filter(function(R){return"msid"===R.attribute});return k.length>0?{stream:(S=k[0].value.split(" "))[0],track:S[1]}:void 0},P.parseSctpDescription=function(D){var S,A=P.parseMLine(D),k=P.matchPrefix(D,"a=max-message-size:");k.length>0&&(S=parseInt(k[0].substr(19),10)),isNaN(S)&&(S=65536);var R=P.matchPrefix(D,"a=sctp-port:");if(R.length>0)return{port:parseInt(R[0].substr(12),10),protocol:A.fmt,maxMessageSize:S};if(P.matchPrefix(D,"a=sctpmap:").length>0){var I=P.matchPrefix(D,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(I[0],10),protocol:I[1],maxMessageSize:S}}},P.writeSctpDescription=function(D,S){var A=[];return A="DTLS/SCTP"!==D.protocol?["m="+D.kind+" 9 "+D.protocol+" "+S.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+S.port+"\r\n"]:["m="+D.kind+" 9 "+D.protocol+" "+S.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+S.port+" "+S.protocol+" 65535\r\n"],void 0!==S.maxMessageSize&&A.push("a=max-message-size:"+S.maxMessageSize+"\r\n"),A.join("")},P.generateSessionId=function(){return Math.random().toString().substr(2,21)},P.writeSessionBoilerplate=function(D,S,A){var k=void 0!==S?S:2;return"v=0\r\no="+(A||"thisisadapterortc")+" "+(D||P.generateSessionId())+" "+k+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},P.writeMediaSection=function(D,S,A,k){var R=P.writeRtpDescription(D.kind,S);if(R+=P.writeIceParameters(D.iceGatherer.getLocalParameters()),R+=P.writeDtlsParameters(D.dtlsTransport.getLocalParameters(),"offer"===A?"actpass":"active"),R+="a=mid:"+D.mid+"\r\n",R+=D.direction?"a="+D.direction+"\r\n":D.rtpSender&&D.rtpReceiver?"a=sendrecv\r\n":D.rtpSender?"a=sendonly\r\n":D.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",D.rtpSender){var I="msid:"+k.id+" "+D.rtpSender.track.id+"\r\n";R+="a="+I,R+="a=ssrc:"+D.sendEncodingParameters[0].ssrc+" "+I,D.sendEncodingParameters[0].rtx&&(R+="a=ssrc:"+D.sendEncodingParameters[0].rtx.ssrc+" "+I,R+="a=ssrc-group:FID "+D.sendEncodingParameters[0].ssrc+" "+D.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return R+="a=ssrc:"+D.sendEncodingParameters[0].ssrc+" cname:"+P.localCName+"\r\n",D.rtpSender&&D.sendEncodingParameters[0].rtx&&(R+="a=ssrc:"+D.sendEncodingParameters[0].rtx.ssrc+" cname:"+P.localCName+"\r\n"),R},P.getDirection=function(D,S){for(var A=P.splitLines(D),k=0;k<A.length;k++)switch(A[k]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return A[k].substr(2)}return S?P.getDirection(S):"sendrecv"},P.getKind=function(D){return P.splitLines(D)[0].split(" ")[0].substr(2)},P.isRejected=function(D){return"0"===D.split(" ",2)[1]},P.parseMLine=function(D){var S=P.splitLines(D)[0].substr(2).split(" ");return{kind:S[0],port:parseInt(S[1],10),protocol:S[2],fmt:S.slice(3).join(" ")}},P.parseOLine=function(D){var S=P.matchPrefix(D,"o=")[0].substr(2).split(" ");return{username:S[0],sessionId:S[1],sessionVersion:parseInt(S[2],10),netType:S[3],addressType:S[4],address:S[5]}},P.isValidSDP=function(D){if("string"!=typeof D||0===D.length)return!1;for(var S=P.splitLines(D),A=0;A<S.length;A++)if(S[A].length<2||"="!==S[A].charAt(1))return!1;return!0},"object"==typeof re&&(re.exports=P)},{}],NJ2u:[function(H,re,L){"use strict";var P=H("sdp");function S(C,_,w,E,m){var v=P.writeRtpDescription(C.kind,_);if(v+=P.writeIceParameters(C.iceGatherer.getLocalParameters()),v+=P.writeDtlsParameters(C.dtlsTransport.getLocalParameters(),"offer"===w?"actpass":m||"active"),v+="a=mid:"+C.mid+"\r\n",v+=C.rtpSender&&C.rtpReceiver?"a=sendrecv\r\n":C.rtpSender?"a=sendonly\r\n":C.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",C.rtpSender){var p=C.rtpSender._initialTrackId||C.rtpSender.track.id;C.rtpSender._initialTrackId=p;var d="msid:"+(E?E.id:"-")+" "+p+"\r\n";v+="a="+d,v+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" "+d,C.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" "+d,v+="a=ssrc-group:FID "+C.sendEncodingParameters[0].ssrc+" "+C.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return v+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" cname:"+P.localCName+"\r\n",C.rtpSender&&C.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" cname:"+P.localCName+"\r\n"),v}function k(C,_){var w={codecs:[],headerExtensions:[],fecMechanisms:[]},E=function(v,p){v=parseInt(v,10);for(var d=0;d<p.length;d++)if(p[d].payloadType===v||p[d].preferredPayloadType===v)return p[d]},m=function(v,p,d,l){var f=E(v.parameters.apt,d),b=E(p.parameters.apt,l);return f&&b&&f.name.toLowerCase()===b.name.toLowerCase()};return C.codecs.forEach(function(v){for(var p=0;p<_.codecs.length;p++){var d=_.codecs[p];if(v.name.toLowerCase()===d.name.toLowerCase()&&v.clockRate===d.clockRate){if("rtx"===v.name.toLowerCase()&&v.parameters&&d.parameters.apt&&!m(v,d,C.codecs,_.codecs))continue;(d=JSON.parse(JSON.stringify(d))).numChannels=Math.min(v.numChannels,d.numChannels),w.codecs.push(d),d.rtcpFeedback=d.rtcpFeedback.filter(function(l){for(var f=0;f<v.rtcpFeedback.length;f++)if(v.rtcpFeedback[f].type===l.type&&v.rtcpFeedback[f].parameter===l.parameter)return!0;return!1});break}}}),C.headerExtensions.forEach(function(v){for(var p=0;p<_.headerExtensions.length;p++){var d=_.headerExtensions[p];if(v.uri===d.uri){w.headerExtensions.push(d);break}}}),w}function R(C,_,w){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[_][C].indexOf(w)}function I(C,_){var w=C.getRemoteCandidates().find(function(E){return _.foundation===E.foundation&&_.ip===E.ip&&_.port===E.port&&_.priority===E.priority&&_.protocol===E.protocol&&_.type===E.type});return w||C.addRemoteCandidate(_),!w}function h(C,_){var w=new Error(_);return w.name=C,w.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[C],w}re.exports=function(C,_){function w(p,d){d.addTrack(p),d.dispatchEvent(new C.MediaStreamTrackEvent("addtrack",{track:p}))}function E(p,d,l,f){var b=new Event("track");b.track=d,b.receiver=l,b.transceiver={receiver:l},b.streams=f,C.setTimeout(function(){p._dispatchEvent("track",b)})}var m=function(p){var d=this,l=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(b){d[b]=l[b].bind(l)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",p=JSON.parse(JSON.stringify(p||{})),this.usingBundle="max-bundle"===p.bundlePolicy,"negotiate"===p.rtcpMuxPolicy)throw h("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(p.rtcpMuxPolicy||(p.rtcpMuxPolicy="require"),p.iceTransportPolicy){case"all":case"relay":break;default:p.iceTransportPolicy="all"}switch(p.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:p.bundlePolicy="balanced"}if(p.iceServers=function A(C,_){var w=!1;return(C=JSON.parse(JSON.stringify(C))).filter(function(E){if(E&&(E.urls||E.url)){var m=E.urls||E.url;E.url&&!E.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var v="string"==typeof m;return v&&(m=[m]),m=m.filter(function(p){return 0!==p.indexOf("turn:")||-1===p.indexOf("transport=udp")||-1!==p.indexOf("turn:[")||w?0===p.indexOf("stun:")&&_>=14393&&-1===p.indexOf("?transport=udp"):(w=!0,!0)}),delete E.url,E.urls=v?m[0]:m,!!m.length}})}(p.iceServers||[],_),this._iceGatherers=[],p.iceCandidatePoolSize)for(var f=p.iceCandidatePoolSize;f>0;f--)this._iceGatherers.push(new C.RTCIceGatherer({iceServers:p.iceServers,gatherPolicy:p.iceTransportPolicy}));else p.iceCandidatePoolSize=0;this._config=p,this.transceivers=[],this._sdpSessionId=P.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(m.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(m.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),m.prototype.onicecandidate=null,m.prototype.onaddstream=null,m.prototype.ontrack=null,m.prototype.onremovestream=null,m.prototype.onsignalingstatechange=null,m.prototype.oniceconnectionstatechange=null,m.prototype.onconnectionstatechange=null,m.prototype.onicegatheringstatechange=null,m.prototype.onnegotiationneeded=null,m.prototype.ondatachannel=null,m.prototype._dispatchEvent=function(p,d){this._isClosed||(this.dispatchEvent(d),"function"==typeof this["on"+p]&&this["on"+p](d))},m.prototype._emitGatheringStateChange=function(){var p=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",p)},m.prototype.getConfiguration=function(){return this._config},m.prototype.getLocalStreams=function(){return this.localStreams},m.prototype.getRemoteStreams=function(){return this.remoteStreams},m.prototype._createTransceiver=function(p,d){var f={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:p,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)f.iceTransport=this.transceivers[0].iceTransport,f.dtlsTransport=this.transceivers[0].dtlsTransport;else{var b=this._createIceAndDtlsTransports();f.iceTransport=b.iceTransport,f.dtlsTransport=b.dtlsTransport}return d||this.transceivers.push(f),f},m.prototype.addTrack=function(p,d){if(this._isClosed)throw h("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var l;if(this.transceivers.find(function(b){return b.track===p}))throw h("InvalidAccessError","Track already exists.");for(var f=0;f<this.transceivers.length;f++)this.transceivers[f].track||this.transceivers[f].kind!==p.kind||(l=this.transceivers[f]);return l||(l=this._createTransceiver(p.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(d)&&this.localStreams.push(d),l.track=p,l.stream=d,l.rtpSender=new C.RTCRtpSender(p,l.dtlsTransport),l.rtpSender},m.prototype.addStream=function(p){var d=this;if(_>=15025)p.getTracks().forEach(function(f){d.addTrack(f,p)});else{var l=p.clone();p.getTracks().forEach(function(f,b){var O=l.getTracks()[b];f.addEventListener("enabled",function(x){O.enabled=x.enabled})}),l.getTracks().forEach(function(f){d.addTrack(f,l)})}},m.prototype.removeTrack=function(p){if(this._isClosed)throw h("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(p instanceof C.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var d=this.transceivers.find(function(f){return f.rtpSender===p});if(!d)throw h("InvalidAccessError","Sender was not created by this connection.");var l=d.stream;d.rtpSender.stop(),d.rtpSender=null,d.track=null,d.stream=null,-1===this.transceivers.map(function(f){return f.stream}).indexOf(l)&&this.localStreams.indexOf(l)>-1&&this.localStreams.splice(this.localStreams.indexOf(l),1),this._maybeFireNegotiationNeeded()},m.prototype.removeStream=function(p){var d=this;p.getTracks().forEach(function(l){var f=d.getSenders().find(function(b){return b.track===l});f&&d.removeTrack(f)})},m.prototype.getSenders=function(){return this.transceivers.filter(function(p){return!!p.rtpSender}).map(function(p){return p.rtpSender})},m.prototype.getReceivers=function(){return this.transceivers.filter(function(p){return!!p.rtpReceiver}).map(function(p){return p.rtpReceiver})},m.prototype._createIceGatherer=function(p,d){var l=this;if(d&&p>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var f=new C.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(f,"state",{value:"new",writable:!0}),this.transceivers[p].bufferedCandidateEvents=[],this.transceivers[p].bufferCandidates=function(b){var O=!b.candidate||0===Object.keys(b.candidate).length;f.state=O?"completed":"gathering",null!==l.transceivers[p].bufferedCandidateEvents&&l.transceivers[p].bufferedCandidateEvents.push(b)},f.addEventListener("localcandidate",this.transceivers[p].bufferCandidates),f},m.prototype._gather=function(p,d){var l=this,f=this.transceivers[d].iceGatherer;if(!f.onlocalcandidate){var b=this.transceivers[d].bufferedCandidateEvents;this.transceivers[d].bufferedCandidateEvents=null,f.removeEventListener("localcandidate",this.transceivers[d].bufferCandidates),f.onlocalcandidate=function(O){if(!(l.usingBundle&&d>0)){var x=new Event("icecandidate");x.candidate={sdpMid:p,sdpMLineIndex:d};var N=O.candidate,j=!N||0===Object.keys(N).length;if(j)"new"!==f.state&&"gathering"!==f.state||(f.state="completed");else{"new"===f.state&&(f.state="gathering"),N.component=1,N.ufrag=f.getLocalParameters().usernameFragment;var B=P.writeCandidate(N);x.candidate=Object.assign(x.candidate,P.parseCandidate(B)),x.candidate.candidate=B,x.candidate.toJSON=function(){return{candidate:x.candidate.candidate,sdpMid:x.candidate.sdpMid,sdpMLineIndex:x.candidate.sdpMLineIndex,usernameFragment:x.candidate.usernameFragment}}}var V=P.getMediaSections(l._localDescription.sdp);V[x.candidate.sdpMLineIndex]+=j?"a=end-of-candidates\r\n":"a="+x.candidate.candidate+"\r\n",l._localDescription.sdp=P.getDescription(l._localDescription.sdp)+V.join("");var W=l.transceivers.every(function(K){return K.iceGatherer&&"completed"===K.iceGatherer.state});"gathering"!==l.iceGatheringState&&(l.iceGatheringState="gathering",l._emitGatheringStateChange()),j||l._dispatchEvent("icecandidate",x),W&&(l._dispatchEvent("icecandidate",new Event("icecandidate")),l.iceGatheringState="complete",l._emitGatheringStateChange())}},C.setTimeout(function(){b.forEach(function(O){f.onlocalcandidate(O)})},0)}},m.prototype._createIceAndDtlsTransports=function(){var p=this,d=new C.RTCIceTransport(null);d.onicestatechange=function(){p._updateIceConnectionState(),p._updateConnectionState()};var l=new C.RTCDtlsTransport(d);return l.ondtlsstatechange=function(){p._updateConnectionState()},l.onerror=function(){Object.defineProperty(l,"state",{value:"failed",writable:!0}),p._updateConnectionState()},{iceTransport:d,dtlsTransport:l}},m.prototype._disposeIceAndDtlsTransports=function(p){var d=this.transceivers[p].iceGatherer;d&&(delete d.onlocalcandidate,delete this.transceivers[p].iceGatherer);var l=this.transceivers[p].iceTransport;l&&(delete l.onicestatechange,delete this.transceivers[p].iceTransport);var f=this.transceivers[p].dtlsTransport;f&&(delete f.ondtlsstatechange,delete f.onerror,delete this.transceivers[p].dtlsTransport)},m.prototype._transceive=function(p,d,l){var f=k(p.localCapabilities,p.remoteCapabilities);d&&p.rtpSender&&(f.encodings=p.sendEncodingParameters,f.rtcp={cname:P.localCName,compound:p.rtcpParameters.compound},p.recvEncodingParameters.length&&(f.rtcp.ssrc=p.recvEncodingParameters[0].ssrc),p.rtpSender.send(f)),l&&p.rtpReceiver&&f.codecs.length>0&&("video"===p.kind&&p.recvEncodingParameters&&_<15019&&p.recvEncodingParameters.forEach(function(b){delete b.rtx}),f.encodings=p.recvEncodingParameters.length?p.recvEncodingParameters:[{}],f.rtcp={compound:p.rtcpParameters.compound},p.rtcpParameters.cname&&(f.rtcp.cname=p.rtcpParameters.cname),p.sendEncodingParameters.length&&(f.rtcp.ssrc=p.sendEncodingParameters[0].ssrc),p.rtpReceiver.receive(f))},m.prototype.setLocalDescription=function(p){var d,l,f=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!R("setLocalDescription",p.type,f.signalingState)||f._isClosed)return Promise.reject(h("InvalidStateError","Can not set local "+p.type+" in state "+f.signalingState));if("offer"===p.type)d=P.splitSections(p.sdp),l=d.shift(),d.forEach(function(O,x){var N=P.parseRtpParameters(O);f.transceivers[x].localCapabilities=N}),f.transceivers.forEach(function(O,x){f._gather(O.mid,x)});else if("answer"===p.type){d=P.splitSections(f._remoteDescription.sdp),l=d.shift();var b=P.matchPrefix(l,"a=ice-lite").length>0;d.forEach(function(O,x){var N=f.transceivers[x],j=N.iceGatherer,B=N.iceTransport,V=N.dtlsTransport,W=N.localCapabilities,K=N.remoteCapabilities;if(!(P.isRejected(O)&&0===P.matchPrefix(O,"a=bundle-only").length||N.rejected)){var ce=P.getIceParameters(O,l),ie=P.getDtlsParameters(O,l);b&&(ie.role="server"),f.usingBundle&&0!==x||(f._gather(N.mid,x),"new"===B.state&&B.start(j,ce,b?"controlling":"controlled"),"new"===V.state&&V.start(ie));var ue=k(W,K);f._transceive(N,ue.codecs.length>0,!1)}})}return f._localDescription={type:p.type,sdp:p.sdp},f._updateSignalingState("offer"===p.type?"have-local-offer":"stable"),Promise.resolve()},m.prototype.setRemoteDescription=function(p){var d=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!R("setRemoteDescription",p.type,d.signalingState)||d._isClosed)return Promise.reject(h("InvalidStateError","Can not set remote "+p.type+" in state "+d.signalingState));var l={};d.remoteStreams.forEach(function(B){l[B.id]=B});var f=[],b=P.splitSections(p.sdp),O=b.shift(),x=P.matchPrefix(O,"a=ice-lite").length>0,N=P.matchPrefix(O,"a=group:BUNDLE ").length>0;d.usingBundle=N;var j=P.matchPrefix(O,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!j&&j.substr(14).split(" ").indexOf("trickle")>=0,b.forEach(function(B,V){var W=P.splitLines(B),K=P.getKind(B),ce=P.isRejected(B)&&0===P.matchPrefix(B,"a=bundle-only").length,ie=W[0].substr(2).split(" ")[2],ue=P.getDirection(B,O),He=P.parseMsid(B),Ss=P.getMid(B)||P.generateIdentifier();if(ce||"application"===K&&("DTLS/SCTP"===ie||"UDP/DTLS/SCTP"===ie))d.transceivers[V]={mid:Ss,kind:K,protocol:ie,rejected:!0};else{var Se,Ms,We,ti,tn,Xe,Qe,Ar,we;!ce&&d.transceivers[V]&&d.transceivers[V].rejected&&(d.transceivers[V]=d._createTransceiver(K,!0));var ni,Ic,ro=P.parseRtpParameters(B);ce||(ni=P.getIceParameters(B,O),(Ic=P.getDtlsParameters(B,O)).role="client"),Qe=P.parseRtpEncodingParameters(B);var Ac=P.parseRtcpParameters(B),Pc=P.matchPrefix(B,"a=end-of-candidates",O).length>0,Pr=P.matchPrefix(B,"a=candidate:").map(function(Tt){return P.parseCandidate(Tt)}).filter(function(Tt){return 1===Tt.component});if(("offer"===p.type||"answer"===p.type)&&!ce&&N&&V>0&&d.transceivers[V]&&(d._disposeIceAndDtlsTransports(V),d.transceivers[V].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[V].iceTransport=d.transceivers[0].iceTransport,d.transceivers[V].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[V].rtpSender&&d.transceivers[V].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[V].rtpReceiver&&d.transceivers[V].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==p.type||ce)"answer"===p.type&&!ce&&(Ms=(Se=d.transceivers[V]).iceGatherer,We=Se.iceTransport,ti=Se.dtlsTransport,tn=Se.rtpReceiver,Xe=Se.sendEncodingParameters,Ar=Se.localCapabilities,d.transceivers[V].recvEncodingParameters=Qe,d.transceivers[V].remoteCapabilities=ro,d.transceivers[V].rtcpParameters=Ac,Pr.length&&"new"===We.state&&(!x&&!Pc||N&&0!==V?Pr.forEach(function(Tt){I(Se.iceTransport,Tt)}):We.setRemoteCandidates(Pr)),N&&0!==V||("new"===We.state&&We.start(Ms,ni,"controlling"),"new"===ti.state&&ti.start(Ic)),!k(Se.localCapabilities,Se.remoteCapabilities).codecs.filter(function(Tt){return"rtx"===Tt.name.toLowerCase()}).length&&Se.sendEncodingParameters[0].rtx&&delete Se.sendEncodingParameters[0].rtx,d._transceive(Se,"sendrecv"===ue||"recvonly"===ue,"sendrecv"===ue||"sendonly"===ue),!tn||"sendrecv"!==ue&&"sendonly"!==ue?delete Se.rtpReceiver:(we=tn.track,He?(l[He.stream]||(l[He.stream]=new C.MediaStream),w(we,l[He.stream]),f.push([we,tn,l[He.stream]])):(l.default||(l.default=new C.MediaStream),w(we,l.default),f.push([we,tn,l.default]))));else{(Se=d.transceivers[V]||d._createTransceiver(K)).mid=Ss,Se.iceGatherer||(Se.iceGatherer=d._createIceGatherer(V,N)),Pr.length&&"new"===Se.iceTransport.state&&(!Pc||N&&0!==V?Pr.forEach(function(Tt){I(Se.iceTransport,Tt)}):Se.iceTransport.setRemoteCandidates(Pr)),Ar=C.RTCRtpReceiver.getCapabilities(K),_<15019&&(Ar.codecs=Ar.codecs.filter(function(Tt){return"rtx"!==Tt.name})),Xe=Se.sendEncodingParameters||[{ssrc:1001*(2*V+2)}];var Rr,io=!1;"sendrecv"===ue||"sendonly"===ue?(io=!Se.rtpReceiver,tn=Se.rtpReceiver||new C.RTCRtpReceiver(Se.dtlsTransport,K),io&&(we=tn.track,He&&"-"===He.stream||(He?(l[He.stream]||(l[He.stream]=new C.MediaStream,Object.defineProperty(l[He.stream],"id",{get:function(){return He.stream}})),Object.defineProperty(we,"id",{get:function(){return He.track}}),Rr=l[He.stream]):(l.default||(l.default=new C.MediaStream),Rr=l.default)),Rr&&(w(we,Rr),Se.associatedRemoteMediaStreams.push(Rr)),f.push([we,tn,Rr]))):Se.rtpReceiver&&Se.rtpReceiver.track&&(Se.associatedRemoteMediaStreams.forEach(function(Tt){var ri,Rc,oo=Tt.getTracks().find(function(Oc){return Oc.id===Se.rtpReceiver.track.id});oo&&((Rc=Tt).removeTrack(ri=oo),Rc.dispatchEvent(new C.MediaStreamTrackEvent("removetrack",{track:ri})))}),Se.associatedRemoteMediaStreams=[]),Se.localCapabilities=Ar,Se.remoteCapabilities=ro,Se.rtpReceiver=tn,Se.rtcpParameters=Ac,Se.sendEncodingParameters=Xe,Se.recvEncodingParameters=Qe,d._transceive(d.transceivers[V],!1,io)}}}),void 0===d._dtlsRole&&(d._dtlsRole="offer"===p.type?"active":"passive"),d._remoteDescription={type:p.type,sdp:p.sdp},d._updateSignalingState("offer"===p.type?"have-remote-offer":"stable"),Object.keys(l).forEach(function(B){var V=l[B];if(V.getTracks().length){if(-1===d.remoteStreams.indexOf(V)){d.remoteStreams.push(V);var W=new Event("addstream");W.stream=V,C.setTimeout(function(){d._dispatchEvent("addstream",W)})}f.forEach(function(K){V.id===K[2].id&&E(d,K[0],K[1],[V])})}}),f.forEach(function(B){B[2]||E(d,B[0],B[1],[])}),C.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(B){B.iceTransport&&"new"===B.iceTransport.state&&B.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),B.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},m.prototype.close=function(){this.transceivers.forEach(function(p){p.iceTransport&&p.iceTransport.stop(),p.dtlsTransport&&p.dtlsTransport.stop(),p.rtpSender&&p.rtpSender.stop(),p.rtpReceiver&&p.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},m.prototype._updateSignalingState=function(p){this.signalingState=p;var d=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",d)},m.prototype._maybeFireNegotiationNeeded=function(){var p=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,C.setTimeout(function(){if(p.needNegotiation){p.needNegotiation=!1;var d=new Event("negotiationneeded");p._dispatchEvent("negotiationneeded",d)}},0))},m.prototype._updateIceConnectionState=function(){var p,d={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&!f.rejected&&d[f.iceTransport.state]++}),p="new",d.failed>0?p="failed":d.checking>0?p="checking":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0?p="connected":d.completed>0&&(p="completed"),p!==this.iceConnectionState){this.iceConnectionState=p;var l=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",l)}},m.prototype._updateConnectionState=function(){var p,d={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&f.dtlsTransport&&!f.rejected&&(d[f.iceTransport.state]++,d[f.dtlsTransport.state]++)}),d.connected+=d.completed,p="new",d.failed>0?p="failed":d.connecting>0?p="connecting":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0&&(p="connected"),p!==this.connectionState){this.connectionState=p;var l=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",l)}},m.prototype.createOffer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createOffer after close"));var d=p.transceivers.filter(function(x){return"audio"===x.kind}).length,l=p.transceivers.filter(function(x){return"video"===x.kind}).length,f=arguments[0];if(f){if(f.mandatory||f.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==f.offerToReceiveAudio&&(d=!0===f.offerToReceiveAudio?1:!1===f.offerToReceiveAudio?0:f.offerToReceiveAudio),void 0!==f.offerToReceiveVideo&&(l=!0===f.offerToReceiveVideo?1:!1===f.offerToReceiveVideo?0:f.offerToReceiveVideo)}for(p.transceivers.forEach(function(x){"audio"===x.kind?--d<0&&(x.wantReceive=!1):"video"===x.kind&&--l<0&&(x.wantReceive=!1)});d>0||l>0;)d>0&&(p._createTransceiver("audio"),d--),l>0&&(p._createTransceiver("video"),l--);var b=P.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.transceivers.forEach(function(x,N){var j=x.track,B=x.kind,V=x.mid||P.generateIdentifier();x.mid=V,x.iceGatherer||(x.iceGatherer=p._createIceGatherer(N,p.usingBundle));var W=C.RTCRtpSender.getCapabilities(B);_<15019&&(W.codecs=W.codecs.filter(function(ce){return"rtx"!==ce.name})),W.codecs.forEach(function(ce){"H264"===ce.name&&void 0===ce.parameters["level-asymmetry-allowed"]&&(ce.parameters["level-asymmetry-allowed"]="1"),x.remoteCapabilities&&x.remoteCapabilities.codecs&&x.remoteCapabilities.codecs.forEach(function(ie){ce.name.toLowerCase()===ie.name.toLowerCase()&&ce.clockRate===ie.clockRate&&(ce.preferredPayloadType=ie.payloadType)})}),W.headerExtensions.forEach(function(ce){(x.remoteCapabilities&&x.remoteCapabilities.headerExtensions||[]).forEach(function(ie){ce.uri===ie.uri&&(ce.id=ie.id)})});var K=x.sendEncodingParameters||[{ssrc:1001*(2*N+1)}];j&&_>=15019&&"video"===B&&!K[0].rtx&&(K[0].rtx={ssrc:K[0].ssrc+1}),x.wantReceive&&(x.rtpReceiver=new C.RTCRtpReceiver(x.dtlsTransport,B)),x.localCapabilities=W,x.sendEncodingParameters=K}),"max-compat"!==p._config.bundlePolicy&&(b+="a=group:BUNDLE "+p.transceivers.map(function(x){return x.mid}).join(" ")+"\r\n"),b+="a=ice-options:trickle\r\n",p.transceivers.forEach(function(x,N){b+=S(x,x.localCapabilities,"offer",x.stream,p._dtlsRole),b+="a=rtcp-rsize\r\n",!x.iceGatherer||"new"===p.iceGatheringState||0!==N&&p.usingBundle||(x.iceGatherer.getLocalCandidates().forEach(function(j){j.component=1,b+="a="+P.writeCandidate(j)+"\r\n"}),"completed"===x.iceGatherer.state&&(b+="a=end-of-candidates\r\n"))});var O=new C.RTCSessionDescription({type:"offer",sdp:b});return Promise.resolve(O)},m.prototype.createAnswer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==p.signalingState&&"have-local-pranswer"!==p.signalingState)return Promise.reject(h("InvalidStateError","Can not call createAnswer in signalingState "+p.signalingState));var d=P.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.usingBundle&&(d+="a=group:BUNDLE "+p.transceivers.map(function(b){return b.mid}).join(" ")+"\r\n"),d+="a=ice-options:trickle\r\n";var l=P.getMediaSections(p._remoteDescription.sdp).length;p.transceivers.forEach(function(b,O){if(!(O+1>l)){if(b.rejected)return"application"===b.kind?d+="DTLS/SCTP"===b.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+b.protocol+" webrtc-datachannel\r\n":"audio"===b.kind?d+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===b.kind&&(d+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(d+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+b.mid+"\r\n");var x;b.stream&&("audio"===b.kind?x=b.stream.getAudioTracks()[0]:"video"===b.kind&&(x=b.stream.getVideoTracks()[0]),x&&_>=15019&&"video"===b.kind&&!b.sendEncodingParameters[0].rtx&&(b.sendEncodingParameters[0].rtx={ssrc:b.sendEncodingParameters[0].ssrc+1}));var N=k(b.localCapabilities,b.remoteCapabilities);!N.codecs.filter(function(j){return"rtx"===j.name.toLowerCase()}).length&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,d+=S(b,N,"answer",b.stream,p._dtlsRole),b.rtcpParameters&&b.rtcpParameters.reducedSize&&(d+="a=rtcp-rsize\r\n")}});var f=new C.RTCSessionDescription({type:"answer",sdp:d});return Promise.resolve(f)},m.prototype.addIceCandidate=function(p){var d,l=this;return p&&void 0===p.sdpMLineIndex&&!p.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(f,b){if(!l._remoteDescription)return b(h("InvalidStateError","Can not add ICE candidate without a remote description"));if(p&&""!==p.candidate){var O=p.sdpMLineIndex;if(p.sdpMid)for(var x=0;x<l.transceivers.length;x++)if(l.transceivers[x].mid===p.sdpMid){O=x;break}var N=l.transceivers[O];if(!N)return b(h("OperationError","Can not add ICE candidate"));if(N.rejected)return f();var j=Object.keys(p.candidate).length>0?P.parseCandidate(p.candidate):{};if("tcp"===j.protocol&&(0===j.port||9===j.port)||j.component&&1!==j.component)return f();if((0===O||O>0&&N.iceTransport!==l.transceivers[0].iceTransport)&&!I(N.iceTransport,j))return b(h("OperationError","Can not add ICE candidate"));var B=p.candidate.trim();0===B.indexOf("a=")&&(B=B.substr(2)),(d=P.getMediaSections(l._remoteDescription.sdp))[O]+="a="+(j.type?B:"end-of-candidates")+"\r\n",l._remoteDescription.sdp=P.getDescription(l._remoteDescription.sdp)+d.join("")}else for(var V=0;V<l.transceivers.length&&(l.transceivers[V].rejected||(l.transceivers[V].iceTransport.addRemoteCandidate({}),(d=P.getMediaSections(l._remoteDescription.sdp))[V]+="a=end-of-candidates\r\n",l._remoteDescription.sdp=P.getDescription(l._remoteDescription.sdp)+d.join(""),!l.usingBundle));V++);f()})},m.prototype.getStats=function(p){if(p&&p instanceof C.MediaStreamTrack){var d=null;if(this.transceivers.forEach(function(f){f.rtpSender&&f.rtpSender.track===p?d=f.rtpSender:f.rtpReceiver&&f.rtpReceiver.track===p&&(d=f.rtpReceiver)}),!d)throw h("InvalidAccessError","Invalid selector.");return d.getStats()}var l=[];return this.transceivers.forEach(function(f){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(b){f[b]&&l.push(f[b].getStats())})}),Promise.all(l).then(function(f){var b=new Map;return f.forEach(function(O){O.forEach(function(x){b.set(x.id,x)})}),b})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(p){var d=C[p];if(d&&d.prototype&&d.prototype.getStats){var l=d.prototype.getStats;d.prototype.getStats=function(){return l.apply(this).then(function(f){var b=new Map;return Object.keys(f).forEach(function(O){f[O].type=function D(C){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[C.type]||C.type}(f[O]),b.set(O,f[O])}),b})}}});var v=["createOffer","createAnswer"];return v.forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[0]||"function"==typeof l[1]?d.apply(this,[arguments[2]]).then(function(f){"function"==typeof l[0]&&l[0].apply(null,[f])},function(f){"function"==typeof l[1]&&l[1].apply(null,[f])}):d.apply(this,arguments)}}),(v=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]||"function"==typeof l[2]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)},function(f){"function"==typeof l[2]&&l[2].apply(null,[f])}):d.apply(this,arguments)}}),["getStats"].forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)}):d.apply(this,arguments)}}),m}},{sdp:"YHvh"}],YdKx:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetUserMedia=function P(D){var S=D&&D.navigator,A=S.mediaDevices.getUserMedia.bind(S.mediaDevices);S.mediaDevices.getUserMedia=function(k){return A(k).catch(function(R){return Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[(I=R).name]||I.name,message:I.message,constraint:I.constraint,toString:function(){return this.name}});var I})}}},{}],P3bV:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetDisplayMedia=function P(D){"getDisplayMedia"in D.navigator&&D.navigator.mediaDevices&&(D.navigator.mediaDevices&&"getDisplayMedia"in D.navigator.mediaDevices||(D.navigator.mediaDevices.getDisplayMedia=D.navigator.getDisplayMedia.bind(D.navigator)))}},{}],XRic:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimPeerConnection=function C(w,E){if(w.RTCIceGatherer&&(w.RTCIceCandidate||(w.RTCIceCandidate=function(p){return p}),w.RTCSessionDescription||(w.RTCSessionDescription=function(p){return p}),E.version<15025)){var m=Object.getOwnPropertyDescriptor(w.MediaStreamTrack.prototype,"enabled");Object.defineProperty(w.MediaStreamTrack.prototype,"enabled",{set:function(p){m.set.call(this,p);var d=new Event("enabled");d.enabled=p,this.dispatchEvent(d)}})}!w.RTCRtpSender||"dtmf"in w.RTCRtpSender.prototype||Object.defineProperty(w.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new w.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),w.RTCDtmfSender&&!w.RTCDTMFSender&&(w.RTCDTMFSender=w.RTCDtmfSender);var v=(0,S.default)(w,E.version);w.RTCPeerConnection=function(p){return p&&p.iceServers&&(p.iceServers=(0,D.filterIceServers)(p.iceServers,E.version),P.log("ICE servers after filtering:",p.iceServers)),new v(p)},w.RTCPeerConnection.prototype=v.prototype},L.shimReplaceTrack=function _(w){!w.RTCRtpSender||"replaceTrack"in w.RTCRtpSender.prototype||(w.RTCRtpSender.prototype.replaceTrack=w.RTCRtpSender.prototype.setTrack)},Object.defineProperty(L,"shimGetUserMedia",{enumerable:!0,get:function(){return A.shimGetUserMedia}}),Object.defineProperty(L,"shimGetDisplayMedia",{enumerable:!0,get:function(){return k.shimGetDisplayMedia}});var P=function h(w){if(w&&w.__esModule)return w;if(null===w||"object"!=typeof w&&"function"!=typeof w)return{default:w};var E=I();if(E&&E.has(w))return E.get(w);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in w)if(Object.prototype.hasOwnProperty.call(w,p)){var d=v?Object.getOwnPropertyDescriptor(w,p):null;d&&(d.get||d.set)?Object.defineProperty(m,p,d):m[p]=w[p]}return m.default=w,E&&E.set(w,m),m}(H("../utils")),D=H("./filtericeservers"),S=function R(w){return w&&w.__esModule?w:{default:w}}(H("rtcpeerconnection-shim")),A=H("./getusermedia"),k=H("./getdisplaymedia");function I(){if("function"!=typeof WeakMap)return null;var w=new WeakMap;return I=function(){return w},w}},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetUserMedia=function k(R,I){var h=R&&R.navigator,C=R&&R.MediaStreamTrack;if(h.getUserMedia=function(v,p,d){P.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),h.mediaDevices.getUserMedia(v).then(p,d)},!(I.version>55&&"autoGainControl"in h.mediaDevices.getSupportedConstraints())){var _=function(v,p,d){p in v&&!(d in v)&&(v[d]=v[p],delete v[p])},w=h.mediaDevices.getUserMedia.bind(h.mediaDevices);if(h.mediaDevices.getUserMedia=function(v){return"object"===A(v)&&"object"===A(v.audio)&&(v=JSON.parse(JSON.stringify(v)),_(v.audio,"autoGainControl","mozAutoGainControl"),_(v.audio,"noiseSuppression","mozNoiseSuppression")),w(v)},C&&C.prototype.getSettings){var E=C.prototype.getSettings;C.prototype.getSettings=function(){var v=E.apply(this,arguments);return _(v,"mozAutoGainControl","autoGainControl"),_(v,"mozNoiseSuppression","noiseSuppression"),v}}if(C&&C.prototype.applyConstraints){var m=C.prototype.applyConstraints;C.prototype.applyConstraints=function(v){return"audio"===this.kind&&"object"===A(v)&&(v=JSON.parse(JSON.stringify(v)),_(v,"autoGainControl","mozAutoGainControl"),_(v,"noiseSuppression","mozNoiseSuppression")),m.apply(this,[v])}}}};var P=function S(R){if(R&&R.__esModule)return R;if(null===R||"object"!=typeof R&&"function"!=typeof R)return{default:R};var I=D();if(I&&I.has(R))return I.get(R);var h={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in R)if(Object.prototype.hasOwnProperty.call(R,_)){var w=C?Object.getOwnPropertyDescriptor(R,_):null;w&&(w.get||w.set)?Object.defineProperty(h,_,w):h[_]=R[_]}return h.default=R,I&&I.set(R,h),h}(H("../utils"));function D(){if("function"!=typeof WeakMap)return null;var R=new WeakMap;return D=function(){return R},R}function A(R){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(R)}},{"../utils":"iSxC"}],UuGU:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetDisplayMedia=function P(D,S){D.navigator.mediaDevices&&"getDisplayMedia"in D.navigator.mediaDevices||D.navigator.mediaDevices&&(D.navigator.mediaDevices.getDisplayMedia=function(A){if(!A||!A.video){var k=new DOMException("getDisplayMedia without video constraints is undefined");return k.name="NotFoundError",k.code=8,Promise.reject(k)}return!0===A.video?A.video={mediaSource:S}:A.video.mediaSource=S,D.navigator.mediaDevices.getUserMedia(A)})}},{}],Fzdr:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimOnTrack=function h(f){"object"===I(f)&&f.RTCTrackEvent&&"receiver"in f.RTCTrackEvent.prototype&&!("transceiver"in f.RTCTrackEvent.prototype)&&Object.defineProperty(f.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},L.shimPeerConnection=function C(f,b){if("object"===I(f)&&(f.RTCPeerConnection||f.mozRTCPeerConnection)){!f.RTCPeerConnection&&f.mozRTCPeerConnection&&(f.RTCPeerConnection=f.mozRTCPeerConnection),b.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(N){var j=f.RTCPeerConnection.prototype[N],B=function R(f,b,O){return b in f?Object.defineProperty(f,b,{value:O,enumerable:!0,configurable:!0,writable:!0}):f[b]=O,f}({},N,function(){return arguments[0]=new("addIceCandidate"===N?f.RTCIceCandidate:f.RTCSessionDescription)(arguments[0]),j.apply(this,arguments)});f.RTCPeerConnection.prototype[N]=B[N]});var O={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},x=f.RTCPeerConnection.prototype.getStats;f.RTCPeerConnection.prototype.getStats=function(){var[N,j,B]=arguments;return x.apply(this,[N||null]).then(function(V){if(b.version<53&&!j)try{V.forEach(function(W){W.type=O[W.type]||W.type})}catch(W){if("TypeError"!==W.name)throw W;V.forEach(function(K,ce){V.set(ce,Object.assign({},K,{type:O[K.type]||K.type}))})}return V}).then(j,B)}}},L.shimSenderGetStats=function _(f){if("object"===I(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpSender.prototype))){var b=f.RTCPeerConnection.prototype.getSenders;b&&(f.RTCPeerConnection.prototype.getSenders=function(){var x=this,N=b.apply(this,[]);return N.forEach(function(j){return j._pc=x}),N});var O=f.RTCPeerConnection.prototype.addTrack;O&&(f.RTCPeerConnection.prototype.addTrack=function(){var x=O.apply(this,arguments);return x._pc=this,x}),f.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},L.shimReceiverGetStats=function w(f){if("object"===I(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpReceiver.prototype))){var b=f.RTCPeerConnection.prototype.getReceivers;b&&(f.RTCPeerConnection.prototype.getReceivers=function(){var O=this,x=b.apply(this,[]);return x.forEach(function(N){return N._pc=O}),x}),P.wrapPeerConnectionEvent(f,"track",function(O){return O.receiver._pc=O.srcElement,O}),f.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},L.shimRemoveStream=function E(f){!f.RTCPeerConnection||"removeStream"in f.RTCPeerConnection.prototype||(f.RTCPeerConnection.prototype.removeStream=function(b){var O=this;P.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(x){x.track&&b.getTracks().includes(x.track)&&O.removeTrack(x)})})},L.shimRTCDataChannel=function m(f){f.DataChannel&&!f.RTCDataChannel&&(f.RTCDataChannel=f.DataChannel)},L.shimAddTransceiver=function v(f){if("object"===I(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.addTransceiver;b&&(f.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var O=arguments[1],x=O&&"sendEncodings"in O;x&&O.sendEncodings.forEach(function(V){if("rid"in V&&!/^[a-z0-9]{0,16}$/i.test(V.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in V&&!(parseFloat(V.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in V&&!(parseFloat(V.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var N=b.apply(this,arguments);if(x){var{sender:j}=N,B=j.getParameters();"encodings"in B&&(1!==B.encodings.length||0!==Object.keys(B.encodings[0]).length)||(B.encodings=O.sendEncodings,j.sendEncodings=O.sendEncodings,this.setParametersPromises.push(j.setParameters(B).then(function(){delete j.sendEncodings}).catch(function(){delete j.sendEncodings})))}return N})}},L.shimGetParameters=function p(f){if("object"===I(f)&&f.RTCRtpSender){var b=f.RTCRtpSender.prototype.getParameters;b&&(f.RTCRtpSender.prototype.getParameters=function(){var O=b.apply(this,arguments);return"encodings"in O||(O.encodings=[].concat(this.sendEncodings||[{}])),O})}},L.shimCreateOffer=function d(f){if("object"===I(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.createOffer;f.RTCPeerConnection.prototype.createOffer=function(){var O=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return b.apply(x,O)}).finally(function(){x.setParametersPromises=[]}):b.apply(this,arguments)}}},L.shimCreateAnswer=function l(f){if("object"===I(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.createAnswer;f.RTCPeerConnection.prototype.createAnswer=function(){var O=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return b.apply(x,O)}).finally(function(){x.setParametersPromises=[]}):b.apply(this,arguments)}}},Object.defineProperty(L,"shimGetUserMedia",{enumerable:!0,get:function(){return D.shimGetUserMedia}}),Object.defineProperty(L,"shimGetDisplayMedia",{enumerable:!0,get:function(){return S.shimGetDisplayMedia}});var P=function k(f){if(f&&f.__esModule)return f;if(null===f||"object"!=typeof f&&"function"!=typeof f)return{default:f};var b=A();if(b&&b.has(f))return b.get(f);var O={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in f)if(Object.prototype.hasOwnProperty.call(f,N)){var j=x?Object.getOwnPropertyDescriptor(f,N):null;j&&(j.get||j.set)?Object.defineProperty(O,N,j):O[N]=f[N]}return O.default=f,b&&b.set(f,O),O}(H("../utils")),D=H("./getusermedia"),S=H("./getdisplaymedia");function A(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return A=function(){return f},f}function I(f){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimLocalStreamsAPI=function k(v){if("object"===A(v)&&v.RTCPeerConnection){if("getLocalStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in v.RTCPeerConnection.prototype)){var p=v.RTCPeerConnection.prototype.addTrack;v.RTCPeerConnection.prototype.addStream=function(d){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(d)||this._localStreams.push(d),d.getAudioTracks().forEach(function(f){return p.call(l,f,d)}),d.getVideoTracks().forEach(function(f){return p.call(l,f,d)})},v.RTCPeerConnection.prototype.addTrack=function(d){for(var l=this,f=arguments.length,b=new Array(f>1?f-1:0),O=1;O<f;O++)b[O-1]=arguments[O];return b&&b.forEach(function(x){l._localStreams?l._localStreams.includes(x)||l._localStreams.push(x):l._localStreams=[x]}),p.apply(this,arguments)}}"removeStream"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.removeStream=function(d){var l=this;this._localStreams||(this._localStreams=[]);var f=this._localStreams.indexOf(d);if(-1!==f){this._localStreams.splice(f,1);var b=d.getTracks();this.getSenders().forEach(function(O){b.includes(O.track)&&l.removeTrack(O)})}})}},L.shimRemoteStreamsAPI=function R(v){if("object"===A(v)&&v.RTCPeerConnection&&("getRemoteStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in v.RTCPeerConnection.prototype))){Object.defineProperty(v.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(d){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=d),this.addEventListener("track",this._onaddstreampoly=function(f){f.streams.forEach(function(b){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(b)){l._remoteStreams.push(b);var O=new Event("addstream");O.stream=b,l.dispatchEvent(O)}})})}});var p=v.RTCPeerConnection.prototype.setRemoteDescription;v.RTCPeerConnection.prototype.setRemoteDescription=function(){var d=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(f){if(d._remoteStreams||(d._remoteStreams=[]),!(d._remoteStreams.indexOf(f)>=0)){d._remoteStreams.push(f);var b=new Event("addstream");b.stream=f,d.dispatchEvent(b)}})}),p.apply(d,arguments)}}},L.shimCallbacksAPI=function I(v){if("object"===A(v)&&v.RTCPeerConnection){var p=v.RTCPeerConnection.prototype,d=p.createOffer,l=p.createAnswer,f=p.setLocalDescription,b=p.setRemoteDescription,O=p.addIceCandidate;p.createOffer=function(N,j){var B=arguments.length>=2?arguments[2]:arguments[0],V=d.apply(this,[B]);return j?(V.then(N,j),Promise.resolve()):V},p.createAnswer=function(N,j){var B=arguments.length>=2?arguments[2]:arguments[0],V=l.apply(this,[B]);return j?(V.then(N,j),Promise.resolve()):V};var x=function(N,j,B){var V=f.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V};p.setLocalDescription=x,p.setRemoteDescription=x=function(N,j,B){var V=b.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V},p.addIceCandidate=x=function(N,j,B){var V=O.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V}}},L.shimGetUserMedia=function h(v){var p=v&&v.navigator;if(p.mediaDevices&&p.mediaDevices.getUserMedia){var d=p.mediaDevices,l=d.getUserMedia.bind(d);p.mediaDevices.getUserMedia=function(f){return l(C(f))}}!p.getUserMedia&&p.mediaDevices&&p.mediaDevices.getUserMedia&&(p.getUserMedia=function(f,b,O){p.mediaDevices.getUserMedia(f).then(b,O)}.bind(p))},L.shimConstraints=C,L.shimRTCIceServerUrls=function _(v){if(v.RTCPeerConnection){var p=v.RTCPeerConnection;v.RTCPeerConnection=function(d,l){if(d&&d.iceServers){for(var f=[],b=0;b<d.iceServers.length;b++){var O=d.iceServers[b];!O.hasOwnProperty("urls")&&O.hasOwnProperty("url")?(P.deprecated("RTCIceServer.url","RTCIceServer.urls"),(O=JSON.parse(JSON.stringify(O))).urls=O.url,delete O.url,f.push(O)):f.push(d.iceServers[b])}d.iceServers=f}return new p(d,l)},v.RTCPeerConnection.prototype=p.prototype,"generateCertificate"in p&&Object.defineProperty(v.RTCPeerConnection,"generateCertificate",{get:function(){return p.generateCertificate}})}},L.shimTrackEventTransceiver=function w(v){"object"===A(v)&&v.RTCTrackEvent&&"receiver"in v.RTCTrackEvent.prototype&&!("transceiver"in v.RTCTrackEvent.prototype)&&Object.defineProperty(v.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},L.shimCreateOfferLegacy=function E(v){var p=v.RTCPeerConnection.prototype.createOffer;v.RTCPeerConnection.prototype.createOffer=function(d){if(d){void 0!==d.offerToReceiveAudio&&(d.offerToReceiveAudio=!!d.offerToReceiveAudio);var l=this.getTransceivers().find(function(b){return"audio"===b.receiver.track.kind});!1===d.offerToReceiveAudio&&l?"sendrecv"===l.direction?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":"recvonly"===l.direction&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):!0!==d.offerToReceiveAudio||l||this.addTransceiver("audio"),void 0!==d.offerToReceiveVideo&&(d.offerToReceiveVideo=!!d.offerToReceiveVideo);var f=this.getTransceivers().find(function(b){return"video"===b.receiver.track.kind});!1===d.offerToReceiveVideo&&f?"sendrecv"===f.direction?f.setDirection?f.setDirection("sendonly"):f.direction="sendonly":"recvonly"===f.direction&&(f.setDirection?f.setDirection("inactive"):f.direction="inactive"):!0!==d.offerToReceiveVideo||f||this.addTransceiver("video")}return p.apply(this,arguments)}},L.shimAudioContext=function m(v){"object"!==A(v)||v.AudioContext||(v.AudioContext=v.webkitAudioContext)};var P=function S(v){if(v&&v.__esModule)return v;if(null===v||"object"!=typeof v&&"function"!=typeof v)return{default:v};var p=D();if(p&&p.has(v))return p.get(v);var d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var b=l?Object.getOwnPropertyDescriptor(v,f):null;b&&(b.get||b.set)?Object.defineProperty(d,f,b):d[f]=v[f]}return d.default=v,p&&p.set(v,d),d}(H("../utils"));function D(){if("function"!=typeof WeakMap)return null;var v=new WeakMap;return D=function(){return v},v}function A(v){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function C(v){return v&&void 0!==v.video?Object.assign({},v,{video:P.compactObject(v.video)}):v}},{"../utils":"iSxC"}],GOQK:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimRTCIceCandidate=function I(m){if(m.RTCIceCandidate&&(!m.RTCIceCandidate||!("foundation"in m.RTCIceCandidate.prototype))){var v=m.RTCIceCandidate;m.RTCIceCandidate=function(p){if("object"===R(p)&&p.candidate&&0===p.candidate.indexOf("a=")&&((p=JSON.parse(JSON.stringify(p))).candidate=p.candidate.substr(2)),p.candidate&&p.candidate.length){var d=new v(p),l=P.default.parseCandidate(p.candidate),f=Object.assign(d,l);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new v(p)},m.RTCIceCandidate.prototype=v.prototype,D.wrapPeerConnectionEvent(m,"icecandidate",function(p){return p.candidate&&Object.defineProperty(p,"candidate",{value:new m.RTCIceCandidate(p.candidate),writable:"false"}),p})}},L.shimMaxMessageSize=function h(m,v){if(m.RTCPeerConnection){"sctp"in m.RTCPeerConnection.prototype||Object.defineProperty(m.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===v.browser&&v.version>=76){var{sdpSemantics:d}=this.getConfiguration();"plan-b"===d&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(B){if(!B||!B.sdp)return!1;var V=P.default.splitSections(B.sdp);return V.shift(),V.some(function(W){var K=P.default.parseMLine(W);return K&&"application"===K.kind&&-1!==K.protocol.indexOf("SCTP")})}(arguments[0])){var l,f=function(B){var V=B.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===V||V.length<2)return-1;var W=parseInt(V[1],10);return W!=W?-1:W}(arguments[0]),b=(N=f,j=65536,"firefox"===v.browser&&(j=v.version<57?-1===N?16384:2147483637:v.version<60?57===v.version?65535:65536:2147483637),j),O=function(B,V){var W=65536;"firefox"===v.browser&&57===v.version&&(W=65535);var K=P.default.matchPrefix(B.sdp,"a=max-message-size:");return K.length>0?W=parseInt(K[0].substr(19),10):"firefox"===v.browser&&-1!==V&&(W=2147483637),W}(arguments[0],f);l=0===b&&0===O?Number.POSITIVE_INFINITY:0===b||0===O?Math.max(b,O):Math.min(b,O);var x={};Object.defineProperty(x,"maxMessageSize",{get:function(){return l}}),this._sctp=x}var N,j;return p.apply(this,arguments)}}},L.shimSendThrowTypeError=function C(m){if(m.RTCPeerConnection&&"createDataChannel"in m.RTCPeerConnection.prototype){var v=m.RTCPeerConnection.prototype.createDataChannel;m.RTCPeerConnection.prototype.createDataChannel=function(){var d=v.apply(this,arguments);return p(d,this),d},D.wrapPeerConnectionEvent(m,"datachannel",function(d){return p(d.channel,d.target),d})}function p(d,l){var f=d.send;d.send=function(){var b=arguments[0],O=b.length||b.size||b.byteLength;if("open"===d.readyState&&l.sctp&&O>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return f.apply(d,arguments)}}},L.shimConnectionState=function _(m){if(m.RTCPeerConnection&&!("connectionState"in m.RTCPeerConnection.prototype)){var v=m.RTCPeerConnection.prototype;Object.defineProperty(v,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(v,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(p){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),p&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=p)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(p){var d=v[p];v[p]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(l){var f=l.target;if(f._lastConnectionState!==f.connectionState){f._lastConnectionState=f.connectionState;var b=new Event("connectionstatechange",l);f.dispatchEvent(b)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),d.apply(this,arguments)}})}},L.removeExtmapAllowMixed=function w(m,v){if(m.RTCPeerConnection&&!("chrome"===v.browser&&v.version>=71||"safari"===v.browser&&v.version>=605)){var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(d){if(d&&d.sdp&&-1!==d.sdp.indexOf("\na=extmap-allow-mixed")){var l=d.sdp.split("\n").filter(function(f){return"a=extmap-allow-mixed"!==f.trim()}).join("\n");m.RTCSessionDescription&&d instanceof m.RTCSessionDescription?arguments[0]=new m.RTCSessionDescription({type:d.type,sdp:l}):d.sdp=l}return p.apply(this,arguments)}}},L.shimAddIceCandidateNullOrEmpty=function E(m,v){if(m.RTCPeerConnection&&m.RTCPeerConnection.prototype){var p=m.RTCPeerConnection.prototype.addIceCandidate;p&&0!==p.length&&(m.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===v.browser&&v.version<78||"firefox"===v.browser&&v.version<68||"safari"===v.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():p.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}};var P=function k(m){return m&&m.__esModule?m:{default:m}}(H("sdp")),D=function A(m){if(m&&m.__esModule)return m;if(null===m||"object"!=typeof m&&"function"!=typeof m)return{default:m};var v=S();if(v&&v.has(m))return v.get(m);var p={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in m)if(Object.prototype.hasOwnProperty.call(m,l)){var f=d?Object.getOwnPropertyDescriptor(m,l):null;f&&(f.get||f.set)?Object.defineProperty(p,l,f):p[l]=m[l]}return p.default=m,v&&v.set(m,p),p}(H("./utils"));function S(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return S=function(){return m},m}function R(m){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.adapterFactory=function C(){var{window:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},E=P.log,m=P.detectBrowser(_),v={browserDetails:m,commonShim:R,extractVersion:P.extractVersion,disableLog:P.disableLog,disableWarnings:P.disableWarnings};switch(m.browser){case"chrome":if(!D||!D.shimPeerConnection||!w.shimChrome)return E("Chrome shim is not included in this adapter release."),v;if(null===m.version)return E("Chrome shim can not determine version, not shimming."),v;E("adapter.js shimming chrome."),v.browserShim=D,R.shimAddIceCandidateNullOrEmpty(_,m),D.shimGetUserMedia(_,m),D.shimMediaStream(_,m),D.shimPeerConnection(_,m),D.shimOnTrack(_,m),D.shimAddTrackRemoveTrack(_,m),D.shimGetSendersWithDtmf(_,m),D.shimGetStats(_,m),D.shimSenderReceiverGetStats(_,m),D.fixNegotiationNeeded(_,m),R.shimRTCIceCandidate(_,m),R.shimConnectionState(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m),R.removeExtmapAllowMixed(_,m);break;case"firefox":if(!A||!A.shimPeerConnection||!w.shimFirefox)return E("Firefox shim is not included in this adapter release."),v;E("adapter.js shimming firefox."),v.browserShim=A,R.shimAddIceCandidateNullOrEmpty(_,m),A.shimGetUserMedia(_,m),A.shimPeerConnection(_,m),A.shimOnTrack(_,m),A.shimRemoveStream(_,m),A.shimSenderGetStats(_,m),A.shimReceiverGetStats(_,m),A.shimRTCDataChannel(_,m),A.shimAddTransceiver(_,m),A.shimGetParameters(_,m),A.shimCreateOffer(_,m),A.shimCreateAnswer(_,m),R.shimRTCIceCandidate(_,m),R.shimConnectionState(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m);break;case"edge":if(!S||!S.shimPeerConnection||!w.shimEdge)return E("MS edge shim is not included in this adapter release."),v;E("adapter.js shimming edge."),v.browserShim=S,S.shimGetUserMedia(_,m),S.shimGetDisplayMedia(_,m),S.shimPeerConnection(_,m),S.shimReplaceTrack(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m);break;case"safari":if(!k||!w.shimSafari)return E("Safari shim is not included in this adapter release."),v;E("adapter.js shimming safari."),v.browserShim=k,R.shimAddIceCandidateNullOrEmpty(_,m),k.shimRTCIceServerUrls(_,m),k.shimCreateOfferLegacy(_,m),k.shimCallbacksAPI(_,m),k.shimLocalStreamsAPI(_,m),k.shimRemoteStreamsAPI(_,m),k.shimTrackEventTransceiver(_,m),k.shimGetUserMedia(_,m),k.shimAudioContext(_,m),R.shimRTCIceCandidate(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m),R.removeExtmapAllowMixed(_,m);break;default:E("Unsupported browser!")}return v};var P=h(H("./utils")),D=h(H("./chrome/chrome_shim")),S=h(H("./edge/edge_shim")),A=h(H("./firefox/firefox_shim")),k=h(H("./safari/safari_shim")),R=h(H("./common_shim"));function I(){if("function"!=typeof WeakMap)return null;var _=new WeakMap;return I=function(){return _},_}function h(_){if(_&&_.__esModule)return _;if(null===_||"object"!=typeof _&&"function"!=typeof _)return{default:_};var w=I();if(w&&w.has(_))return w.get(_);var E={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in _)if(Object.prototype.hasOwnProperty.call(_,v)){var p=m?Object.getOwnPropertyDescriptor(_,v):null;p&&(p.get||p.set)?Object.defineProperty(E,v,p):E[v]=_[v]}return E.default=_,w&&w.set(_,E),E}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var D=(0,H("./adapter_factory.js").adapterFactory)({window:"undefined"==typeof window?void 0:window});L.default=D},{"./adapter_factory.js":"KtlG"}],sXtV:[function(H,re,L){"use strict";var P=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(L,"__esModule",{value:!0}),L.webRTCAdapter=void 0;var D=P(H("webrtc-adapter"));L.webRTCAdapter=D.default},{"webrtc-adapter":"tI1X"}],I31f:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Supports=void 0;var P=H("./adapter");L.Supports=new(function(){function D(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return D.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},D.prototype.isBrowserSupported=function(){var S=this.getBrowser(),A=this.getVersion();return!!this.supportedBrowsers.includes(S)&&("chrome"===S?A>=this.minChromeVersion:"firefox"===S?A>=this.minFirefoxVersion:"safari"===S&&!this.isIOS&&A>=this.minSafariVersion)},D.prototype.getBrowser=function(){return P.webRTCAdapter.browserDetails.browser},D.prototype.getVersion=function(){return P.webRTCAdapter.browserDetails.version||0},D.prototype.isUnifiedPlanSupported=function(){var S,A=this.getBrowser(),k=P.webRTCAdapter.browserDetails.version||0;if("chrome"===A&&k<72)return!1;if("firefox"===A&&k>=59)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var R=!1;try{(S=new RTCPeerConnection).addTransceiver("audio"),R=!0}catch(I){}finally{S&&S.close()}return R},D.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},D}())},{"./adapter":"sXtV"}],BHXf:[function(H,re,L){"use strict";var P=this&&this.__createBinding||(Object.create?function(I,h,C,_){void 0===_&&(_=C),Object.defineProperty(I,_,{enumerable:!0,get:function(){return h[C]}})}:function(I,h,C,_){void 0===_&&(_=C),I[_]=h[C]}),D=this&&this.__setModuleDefault||(Object.create?function(I,h){Object.defineProperty(I,"default",{enumerable:!0,value:h})}:function(I,h){I.default=h}),S=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var h={};if(null!=I)for(var C in I)"default"!==C&&Object.prototype.hasOwnProperty.call(I,C)&&P(h,I,C);return D(h,I),h};Object.defineProperty(L,"__esModule",{value:!0}),L.util=void 0;var A=S(H("peerjs-js-binarypack")),k=H("./supports"),R={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};L.util=new(function(){function I(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=R,this.browser=k.Supports.getBrowser(),this.browserVersion=k.Supports.getVersion(),this.supports=function(){var h,C={browser:k.Supports.isBrowserSupported(),webRTC:k.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!C.webRTC)return C;try{h=new RTCPeerConnection(R),C.audioVideo=!0;var _=void 0;try{_=h.createDataChannel("_PEERJSTEST",{ordered:!0}),C.data=!0,C.reliable=!!_.ordered;try{_.binaryType="blob",C.binaryBlob=!k.Supports.isIOS}catch(w){}}catch(w){}finally{_&&_.close()}}catch(w){}finally{h&&h.close()}return C}(),this.pack=A.pack,this.unpack=A.unpack,this._dataCount=1}return I.prototype.noop=function(){},I.prototype.validateId=function(h){return!h||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(h)},I.prototype.chunk=function(h){for(var C=[],_=h.size,w=Math.ceil(_/L.util.chunkedMTU),E=0,m=0;m<_;){var v=Math.min(_,m+L.util.chunkedMTU),p=h.slice(m,v);C.push({__peerData:this._dataCount,n:E,data:p,total:w}),m=v,E++}return this._dataCount++,C},I.prototype.blobToArrayBuffer=function(h,C){var _=new FileReader;return _.onload=function(w){w.target&&C(w.target.result)},_.readAsArrayBuffer(h),_},I.prototype.binaryStringToArrayBuffer=function(h){for(var C=new Uint8Array(h.length),_=0;_<h.length;_++)C[_]=255&h.charCodeAt(_);return C.buffer},I.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},I.prototype.isSecure=function(){return"https:"===location.protocol},I}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(H,re,L){"use strict";var P=Object.prototype.hasOwnProperty,D="~";function S(){}function A(h,C,_){this.fn=h,this.context=C,this.once=_||!1}function k(h,C,_,w,E){if("function"!=typeof _)throw new TypeError("The listener must be a function");var m=new A(_,w||h,E),v=D?D+C:C;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],m]:h._events[v].push(m):(h._events[v]=m,h._eventsCount++),h}function R(h,C){0==--h._eventsCount?h._events=new S:delete h._events[C]}function I(){this._events=new S,this._eventsCount=0}Object.create&&(S.prototype=Object.create(null),(new S).__proto__||(D=!1)),I.prototype.eventNames=function(){var h,C,_=[];if(0===this._eventsCount)return _;for(C in h=this._events)P.call(h,C)&&_.push(D?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(h)):_},I.prototype.listeners=function(h){var _=this._events[D?D+h:h];if(!_)return[];if(_.fn)return[_.fn];for(var w=0,E=_.length,m=new Array(E);w<E;w++)m[w]=_[w].fn;return m},I.prototype.listenerCount=function(h){var _=this._events[D?D+h:h];return _?_.fn?1:_.length:0},I.prototype.emit=function(h,C,_,w,E,m){var v=D?D+h:h;if(!this._events[v])return!1;var p,d,l=this._events[v],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(h,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,C),!0;case 3:return l.fn.call(l.context,C,_),!0;case 4:return l.fn.call(l.context,C,_,w),!0;case 5:return l.fn.call(l.context,C,_,w,E),!0;case 6:return l.fn.call(l.context,C,_,w,E,m),!0}for(d=1,p=new Array(f-1);d<f;d++)p[d-1]=arguments[d];l.fn.apply(l.context,p)}else{var b,O=l.length;for(d=0;d<O;d++)switch(l[d].once&&this.removeListener(h,l[d].fn,void 0,!0),f){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,C);break;case 3:l[d].fn.call(l[d].context,C,_);break;case 4:l[d].fn.call(l[d].context,C,_,w);break;default:if(!p)for(b=1,p=new Array(f-1);b<f;b++)p[b-1]=arguments[b];l[d].fn.apply(l[d].context,p)}}return!0},I.prototype.on=function(h,C,_){return k(this,h,C,_,!1)},I.prototype.once=function(h,C,_){return k(this,h,C,_,!0)},I.prototype.removeListener=function(h,C,_,w){var E=D?D+h:h;if(!this._events[E])return this;if(!C)return R(this,E),this;var m=this._events[E];if(m.fn)m.fn!==C||w&&!m.once||_&&m.context!==_||R(this,E);else{for(var v=0,p=[],d=m.length;v<d;v++)(m[v].fn!==C||w&&!m[v].once||_&&m[v].context!==_)&&p.push(m[v]);p.length?this._events[E]=1===p.length?p[0]:p:R(this,E)}return this},I.prototype.removeAllListeners=function(h){var C;return h?this._events[C=D?D+h:h]&&R(this,C):(this._events=new S,this._eventsCount=0),this},I.prototype.off=I.prototype.removeListener,I.prototype.addListener=I.prototype.on,I.prefixed=D,I.EventEmitter=I,void 0!==re&&(re.exports=I)},{}],WOs9:[function(H,re,L){"use strict";var P=this&&this.__read||function(R,I){var h="function"==typeof Symbol&&R[Symbol.iterator];if(!h)return R;var C,_,w=h.call(R),E=[];try{for(;(void 0===I||I-- >0)&&!(C=w.next()).done;)E.push(C.value)}catch(m){_={error:m}}finally{try{C&&!C.done&&(h=w.return)&&h.call(w)}finally{if(_)throw _.error}}return E},D=this&&this.__spreadArray||function(R,I){for(var h=0,C=I.length,_=R.length;h<C;h++,_++)R[_]=I[h];return R};Object.defineProperty(L,"__esModule",{value:!0}),L.LogLevel=void 0;var S,R,A="PeerJS: ";(R=S=L.LogLevel||(L.LogLevel={}))[R.Disabled=0]="Disabled",R[R.Errors=1]="Errors",R[R.Warnings=2]="Warnings",R[R.All=3]="All";var k=function(){function R(){this._logLevel=S.Disabled}return Object.defineProperty(R.prototype,"logLevel",{get:function(){return this._logLevel},set:function(I){this._logLevel=I},enumerable:!1,configurable:!0}),R.prototype.log=function(){for(var I=[],h=0;h<arguments.length;h++)I[h]=arguments[h];this._logLevel>=S.All&&this._print.apply(this,D([S.All],P(I)))},R.prototype.warn=function(){for(var I=[],h=0;h<arguments.length;h++)I[h]=arguments[h];this._logLevel>=S.Warnings&&this._print.apply(this,D([S.Warnings],P(I)))},R.prototype.error=function(){for(var I=[],h=0;h<arguments.length;h++)I[h]=arguments[h];this._logLevel>=S.Errors&&this._print.apply(this,D([S.Errors],P(I)))},R.prototype.setLogFunction=function(I){this._print=I},R.prototype._print=function(I){for(var h=[],C=1;C<arguments.length;C++)h[C-1]=arguments[C];var _=D([A],P(h));for(var w in _)_[w]instanceof Error&&(_[w]="("+_[w].name+") "+_[w].message);I>=S.All?console.log.apply(console,D([],P(_))):I>=S.Warnings?console.warn.apply(console,D(["WARNING"],P(_))):I>=S.Errors&&console.error.apply(console,D(["ERROR"],P(_)))},R}();L.default=new k},{}],ZRYf:[function(H,re,L){"use strict";var h;Object.defineProperty(L,"__esModule",{value:!0}),L.ServerMessageType=L.SocketEventType=L.SerializationType=L.PeerErrorType=L.PeerEventType=L.ConnectionType=L.ConnectionEventType=void 0,(h=L.ConnectionEventType||(L.ConnectionEventType={})).Open="open",h.Stream="stream",h.Data="data",h.Close="close",h.Error="error",h.IceStateChanged="iceStateChanged",function(h){h.Data="data",h.Media="media"}(L.ConnectionType||(L.ConnectionType={})),function(h){h.Open="open",h.Close="close",h.Connection="connection",h.Call="call",h.Disconnected="disconnected",h.Error="error"}(L.PeerEventType||(L.PeerEventType={})),function(h){h.BrowserIncompatible="browser-incompatible",h.Disconnected="disconnected",h.InvalidID="invalid-id",h.InvalidKey="invalid-key",h.Network="network",h.PeerUnavailable="peer-unavailable",h.SslUnavailable="ssl-unavailable",h.ServerError="server-error",h.SocketError="socket-error",h.SocketClosed="socket-closed",h.UnavailableID="unavailable-id",h.WebRTC="webrtc"}(L.PeerErrorType||(L.PeerErrorType={})),function(h){h.Binary="binary",h.BinaryUTF8="binary-utf8",h.JSON="json"}(L.SerializationType||(L.SerializationType={})),function(h){h.Message="message",h.Disconnected="disconnected",h.Error="error",h.Close="close"}(L.SocketEventType||(L.SocketEventType={})),function(h){h.Heartbeat="HEARTBEAT",h.Candidate="CANDIDATE",h.Offer="OFFER",h.Answer="ANSWER",h.Open="OPEN",h.Error="ERROR",h.IdTaken="ID-TAKEN",h.InvalidKey="INVALID-KEY",h.Leave="LEAVE",h.Expire="EXPIRE"}(L.ServerMessageType||(L.ServerMessageType={}))},{}],wJlv:[function(H,re,L){"use strict";var _,P=this&&this.__extends||(_=function(w,E){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])})(w,E)},function(w,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function m(){this.constructor=w}_(w,E),w.prototype=null===E?Object.create(E):(m.prototype=E.prototype,new m)}),D=this&&this.__read||function(_,w){var E="function"==typeof Symbol&&_[Symbol.iterator];if(!E)return _;var m,v,p=E.call(_),d=[];try{for(;(void 0===w||w-- >0)&&!(m=p.next()).done;)d.push(m.value)}catch(l){v={error:l}}finally{try{m&&!m.done&&(E=p.return)&&E.call(p)}finally{if(v)throw v.error}}return d},S=this&&this.__spreadArray||function(_,w){for(var E=0,m=w.length,v=_.length;E<m;E++,v++)_[v]=w[E];return _},A=this&&this.__values||function(_){var w="function"==typeof Symbol&&Symbol.iterator,E=w&&_[w],m=0;if(E)return E.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&m>=_.length&&(_=void 0),{value:_&&_[m++],done:!_}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},k=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(L,"__esModule",{value:!0}),L.Socket=void 0;var R=H("eventemitter3"),I=k(H("./logger")),h=H("./enums"),C=function(_){function w(E,m,v,p,d,l){void 0===l&&(l=5e3);var f=_.call(this)||this;return f.pingInterval=l,f._disconnected=!0,f._messagesQueue=[],f._baseUrl=(E?"wss://":"ws://")+m+":"+v+p+"peerjs?key="+d,f}return P(w,_),w.prototype.start=function(E,m){var v=this;this._id=E,!this._socket&&this._disconnected&&(this._socket=new WebSocket(this._baseUrl+"&id="+E+"&token="+m),this._disconnected=!1,this._socket.onmessage=function(d){var l;try{l=JSON.parse(d.data),I.default.log("Server message received:",l)}catch(f){return void I.default.log("Invalid server message",d.data)}v.emit(h.SocketEventType.Message,l)},this._socket.onclose=function(d){v._disconnected||(I.default.log("Socket closed.",d),v._cleanup(),v._disconnected=!0,v.emit(h.SocketEventType.Disconnected))},this._socket.onopen=function(){v._disconnected||(v._sendQueuedMessages(),I.default.log("Socket open"),v._scheduleHeartbeat())})},w.prototype._scheduleHeartbeat=function(){var E=this;this._wsPingTimer=setTimeout(function(){E._sendHeartbeat()},this.pingInterval)},w.prototype._sendHeartbeat=function(){if(this._wsOpen()){var E=JSON.stringify({type:h.ServerMessageType.Heartbeat});this._socket.send(E),this._scheduleHeartbeat()}else I.default.log("Cannot send heartbeat, because socket closed")},w.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},w.prototype._sendQueuedMessages=function(){var E,m,v=S([],D(this._messagesQueue));this._messagesQueue=[];try{for(var p=A(v),d=p.next();!d.done;d=p.next())this.send(d.value)}catch(f){E={error:f}}finally{try{d&&!d.done&&(m=p.return)&&m.call(p)}finally{if(E)throw E.error}}},w.prototype.send=function(E){if(!this._disconnected)if(this._id)if(E.type){if(this._wsOpen()){var m=JSON.stringify(E);this._socket.send(m)}}else this.emit(h.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(E)},w.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},w.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},w}(R.EventEmitter);L.Socket=C},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(H,re,L){"use strict";var P=this&&this.__assign||function(){return(P=Object.assign||function(C){for(var _,w=1,E=arguments.length;w<E;w++)for(var m in _=arguments[w])Object.prototype.hasOwnProperty.call(_,m)&&(C[m]=_[m]);return C}).apply(this,arguments)},D=this&&this.__awaiter||function(C,_,w,E){return new(w||(w=Promise))(function(m,v){function p(f){try{l(E.next(f))}catch(b){v(b)}}function d(f){try{l(E.throw(f))}catch(b){v(b)}}function l(f){var b;f.done?m(f.value):(b=f.value,b instanceof w?b:new w(function(O){O(b)})).then(p,d)}l((E=E.apply(C,_||[])).next())})},S=this&&this.__generator||function(C,_){var w,E,m,v,p={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return v={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function d(l){return function(f){return function(b){if(w)throw new TypeError("Generator is already executing.");for(;p;)try{if(w=1,E&&(m=2&b[0]?E.return:b[0]?E.throw||((m=E.return)&&m.call(E),0):E.next)&&!(m=m.call(E,b[1])).done)return m;switch(E=0,m&&(b=[2&b[0],m.value]),b[0]){case 0:case 1:m=b;break;case 4:return p.label++,{value:b[1],done:!1};case 5:p.label++,E=b[1],b=[0];continue;case 7:b=p.ops.pop(),p.trys.pop();continue;default:if(!(m=(m=p.trys).length>0&&m[m.length-1])&&(6===b[0]||2===b[0])){p=0;continue}if(3===b[0]&&(!m||b[1]>m[0]&&b[1]<m[3])){p.label=b[1];break}if(6===b[0]&&p.label<m[1]){p.label=m[1],m=b;break}if(m&&p.label<m[2]){p.label=m[2],p.ops.push(b);break}m[2]&&p.ops.pop(),p.trys.pop();continue}b=_.call(C,p)}catch(O){b=[6,O],E=0}finally{w=m=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([l,f])}}},A=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(L,"__esModule",{value:!0}),L.Negotiator=void 0;var k=H("./util"),R=A(H("./logger")),I=H("./enums"),h=function(){function C(_){this.connection=_}return C.prototype.startConnection=function(_){var w=this._startPeerConnection();if(this.connection.peerConnection=w,this.connection.type===I.ConnectionType.Media&&_._stream&&this._addTracksToConnection(_._stream,w),_.originator){if(this.connection.type===I.ConnectionType.Data){var E=this.connection,v=w.createDataChannel(E.label,{ordered:!!_.reliable});E.initialize(v)}this._makeOffer()}else this.handleSDP("OFFER",_.sdp)},C.prototype._startPeerConnection=function(){R.default.log("Creating RTCPeerConnection.");var _=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(_),_},C.prototype._setupListeners=function(_){var w=this,E=this.connection.peer,m=this.connection.connectionId,v=this.connection.type,p=this.connection.provider;R.default.log("Listening for ICE candidates."),_.onicecandidate=function(d){d.candidate&&d.candidate.candidate&&(R.default.log("Received ICE candidates for "+E+":",d.candidate),p.socket.send({type:I.ServerMessageType.Candidate,payload:{candidate:d.candidate,type:v,connectionId:m},dst:E}))},_.oniceconnectionstatechange=function(){switch(_.iceConnectionState){case"failed":R.default.log("iceConnectionState is failed, closing connections to "+E),w.connection.emit(I.ConnectionEventType.Error,new Error("Negotiation of connection to "+E+" failed.")),w.connection.close();break;case"closed":R.default.log("iceConnectionState is closed, closing connections to "+E),w.connection.emit(I.ConnectionEventType.Error,new Error("Connection to "+E+" closed.")),w.connection.close();break;case"disconnected":R.default.log("iceConnectionState changed to disconnected on the connection with "+E);break;case"completed":_.onicecandidate=k.util.noop}w.connection.emit(I.ConnectionEventType.IceStateChanged,_.iceConnectionState)},R.default.log("Listening for data channel"),_.ondatachannel=function(d){R.default.log("Received data channel");var l=d.channel;p.getConnection(E,m).initialize(l)},R.default.log("Listening for remote stream"),_.ontrack=function(d){R.default.log("Received remote stream");var l=d.streams[0],f=p.getConnection(E,m);f.type===I.ConnectionType.Media&&w._addStreamToMediaConnection(l,f)}},C.prototype.cleanup=function(){R.default.log("Cleaning up PeerConnection to "+this.connection.peer);var _=this.connection.peerConnection;if(_){this.connection.peerConnection=null,_.onicecandidate=_.oniceconnectionstatechange=_.ondatachannel=_.ontrack=function(){};var E=!1;if(this.connection.type===I.ConnectionType.Data){var m=this.connection.dataChannel;m&&(E=!!m.readyState&&"closed"!==m.readyState)}("closed"!==_.signalingState||E)&&_.close()}},C.prototype._makeOffer=function(){return D(this,void 0,Promise,function(){var _,w,E,m,v,p,d;return S(this,function(l){switch(l.label){case 0:_=this.connection.peerConnection,w=this.connection.provider,l.label=1;case 1:return l.trys.push([1,7,,8]),[4,_.createOffer(this.connection.options.constraints)];case 2:E=l.sent(),R.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return l.sent(),R.default.log("Set localDescription:",E,"for:"+this.connection.peer),m={sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:k.util.browser},this.connection.type===I.ConnectionType.Data&&(v=this.connection,m=P(P({},m),{label:v.label,reliable:v.reliable,serialization:v.serialization})),w.socket.send({type:I.ServerMessageType.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(p=l.sent())&&(w.emitError(I.PeerErrorType.WebRTC,p),R.default.log("Failed to setLocalDescription, ",p)),[3,6];case 6:return[3,8];case 7:return d=l.sent(),w.emitError(I.PeerErrorType.WebRTC,d),R.default.log("Failed to createOffer, ",d),[3,8];case 8:return[2]}})})},C.prototype._makeAnswer=function(){return D(this,void 0,Promise,function(){var _,w,E,m,v;return S(this,function(p){switch(p.label){case 0:_=this.connection.peerConnection,w=this.connection.provider,p.label=1;case 1:return p.trys.push([1,7,,8]),[4,_.createAnswer()];case 2:E=p.sent(),R.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),p.label=3;case 3:return p.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return p.sent(),R.default.log("Set localDescription:",E,"for:"+this.connection.peer),w.socket.send({type:I.ServerMessageType.Answer,payload:{sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,browser:k.util.browser},dst:this.connection.peer}),[3,6];case 5:return m=p.sent(),w.emitError(I.PeerErrorType.WebRTC,m),R.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return v=p.sent(),w.emitError(I.PeerErrorType.WebRTC,v),R.default.log("Failed to create answer, ",v),[3,8];case 8:return[2]}})})},C.prototype.handleSDP=function(_,w){return D(this,void 0,Promise,function(){var E,m,v,p;return S(this,function(d){switch(d.label){case 0:w=new RTCSessionDescription(w),E=this.connection.peerConnection,m=this.connection.provider,R.default.log("Setting remote description",w),v=this,d.label=1;case 1:return d.trys.push([1,5,,6]),[4,E.setRemoteDescription(w)];case 2:return d.sent(),R.default.log("Set remoteDescription:"+_+" for:"+this.connection.peer),"OFFER"!==_?[3,4]:[4,v._makeAnswer()];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:return p=d.sent(),m.emitError(I.PeerErrorType.WebRTC,p),R.default.log("Failed to setRemoteDescription, ",p),[3,6];case 6:return[2]}})})},C.prototype.handleCandidate=function(_){return D(this,void 0,Promise,function(){var w,E,m,v,p,d;return S(this,function(l){switch(l.label){case 0:R.default.log("handleCandidate:",_),w=_.candidate,E=_.sdpMLineIndex,m=_.sdpMid,v=this.connection.peerConnection,p=this.connection.provider,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,v.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:E,candidate:w}))];case 2:return l.sent(),R.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return d=l.sent(),p.emitError(I.PeerErrorType.WebRTC,d),R.default.log("Failed to handleCandidate, ",d),[3,4];case 4:return[2]}})})},C.prototype._addTracksToConnection=function(_,w){if(R.default.log("add tracks from stream "+_.id+" to peer connection"),!w.addTrack)return R.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");_.getTracks().forEach(function(E){w.addTrack(E,_)})},C.prototype._addStreamToMediaConnection=function(_,w){R.default.log("add stream "+_.id+" to media connection "+w.connectionId),w.addStream(_)},C}();L.Negotiator=h},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(H,re,L){"use strict";var A,P=this&&this.__extends||(A=function(k,R){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,h){I.__proto__=h}||function(I,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(I[C]=h[C])})(k,R)},function(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=k}A(k,R),k.prototype=null===R?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(L,"__esModule",{value:!0}),L.BaseConnection=void 0;var S=function(A){function k(R,I,h){var C=A.call(this)||this;return C.peer=R,C.provider=I,C.options=h,C._open=!1,C.metadata=h.metadata,C}return P(k,A),Object.defineProperty(k.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),k}(H("eventemitter3").EventEmitter);L.BaseConnection=S},{eventemitter3:"JJlS"}],dbHP:[function(H,re,L){"use strict";var w,P=this&&this.__extends||(w=function(E,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(v[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=E}w(E,m),E.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)}),D=this&&this.__assign||function(){return(D=Object.assign||function(w){for(var E,m=1,v=arguments.length;m<v;m++)for(var p in E=arguments[m])Object.prototype.hasOwnProperty.call(E,p)&&(w[p]=E[p]);return w}).apply(this,arguments)},S=this&&this.__values||function(w){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&w[E],v=0;if(m)return m.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&v>=w.length&&(w=void 0),{value:w&&w[v++],done:!w}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(L,"__esModule",{value:!0}),L.MediaConnection=void 0;var k=H("./util"),R=A(H("./logger")),I=H("./negotiator"),h=H("./enums"),_=function(w){function E(m,v,p){var d=w.call(this,m,v,p)||this;return d._localStream=d.options._stream,d.connectionId=d.options.connectionId||E.ID_PREFIX+k.util.randomToken(),d._negotiator=new I.Negotiator(d),d._localStream&&d._negotiator.startConnection({_stream:d._localStream,originator:!0}),d}return P(E,w),Object.defineProperty(E.prototype,"type",{get:function(){return h.ConnectionType.Media},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),E.prototype.addStream=function(m){R.default.log("Receiving stream",m),this._remoteStream=m,w.prototype.emit.call(this,h.ConnectionEventType.Stream,m)},E.prototype.handleMessage=function(m){var v=m.type,p=m.payload;switch(m.type){case h.ServerMessageType.Answer:this._negotiator.handleSDP(v,p.sdp),this._open=!0;break;case h.ServerMessageType.Candidate:this._negotiator.handleCandidate(p.candidate);break;default:R.default.warn("Unrecognized message type:"+v+" from peer:"+this.peer)}},E.prototype.answer=function(m,v){var p,d;if(void 0===v&&(v={}),this._localStream)R.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=m,v&&v.sdpTransform&&(this.options.sdpTransform=v.sdpTransform),this._negotiator.startConnection(D(D({},this.options._payload),{_stream:m}));var l=this.provider._getMessages(this.connectionId);try{for(var f=S(l),b=f.next();!b.done;b=f.next())this.handleMessage(b.value)}catch(x){p={error:x}}finally{try{b&&!b.done&&(d=f.return)&&d.call(f)}finally{if(p)throw p.error}}this._open=!0}},E.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,w.prototype.emit.call(this,h.ConnectionEventType.Close))},E.ID_PREFIX="mc_",E}(H("./baseconnection").BaseConnection);L.MediaConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(H,re,L){"use strict";var R,P=this&&this.__extends||(R=function(I,h){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,_){C.__proto__=_}||function(C,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(C[w]=_[w])})(I,h)},function(I,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function C(){this.constructor=I}R(I,h),I.prototype=null===h?Object.create(h):(C.prototype=h.prototype,new C)}),D=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(L,"__esModule",{value:!0}),L.EncodingQueue=void 0;var S=H("eventemitter3"),A=D(H("./logger")),k=function(R){function I(){var h=R.call(this)||this;return h.fileReader=new FileReader,h._queue=[],h._processing=!1,h.fileReader.onload=function(C){h._processing=!1,C.target&&h.emit("done",C.target.result),h.doNextTask()},h.fileReader.onerror=function(C){A.default.error("EncodingQueue error:",C),h._processing=!1,h.destroy(),h.emit("error",C)},h}return P(I,R),Object.defineProperty(I.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),I.prototype.enque=function(h){this.queue.push(h),this.processing||this.doNextTask()},I.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},I.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},I}(S.EventEmitter);L.EncodingQueue=k},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(H,re,L){"use strict";var w,P=this&&this.__extends||(w=function(E,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(v[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=E}w(E,m),E.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)}),D=this&&this.__values||function(w){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&w[E],v=0;if(m)return m.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&v>=w.length&&(w=void 0),{value:w&&w[v++],done:!w}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},S=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(L,"__esModule",{value:!0}),L.DataConnection=void 0;var A=H("./util"),k=S(H("./logger")),R=H("./negotiator"),I=H("./enums"),h=H("./baseconnection"),C=H("./encodingQueue"),_=function(w){function E(m,v,p){var d=w.call(this,m,v,p)||this;return d.stringify=JSON.stringify,d.parse=JSON.parse,d._buffer=[],d._bufferSize=0,d._buffering=!1,d._chunkedData={},d._encodingQueue=new C.EncodingQueue,d.connectionId=d.options.connectionId||E.ID_PREFIX+A.util.randomToken(),d.label=d.options.label||d.connectionId,d.serialization=d.options.serialization||I.SerializationType.Binary,d.reliable=!!d.options.reliable,d._encodingQueue.on("done",function(l){d._bufferedSend(l)}),d._encodingQueue.on("error",function(){k.default.error("DC#"+d.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),d.close()}),d._negotiator=new R.Negotiator(d),d._negotiator.startConnection(d.options._payload||{originator:!0}),d}return P(E,w),Object.defineProperty(E.prototype,"type",{get:function(){return I.ConnectionType.Data},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),E.prototype.initialize=function(m){this._dc=m,this._configureDataChannel()},E.prototype._configureDataChannel=function(){var m=this;A.util.supports.binaryBlob&&!A.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){k.default.log("DC#"+m.connectionId+" dc connection success"),m._open=!0,m.emit(I.ConnectionEventType.Open)},this.dataChannel.onmessage=function(v){k.default.log("DC#"+m.connectionId+" dc onmessage:",v.data),m._handleDataMessage(v)},this.dataChannel.onclose=function(){k.default.log("DC#"+m.connectionId+" dc closed for:",m.peer),m.close()}},E.prototype._handleDataMessage=function(m){var v=this,p=m.data,d=p.constructor,l=p;if(this.serialization===I.SerializationType.Binary||this.serialization===I.SerializationType.BinaryUTF8){if(d===Blob)return void A.util.blobToArrayBuffer(p,function(b){var O=A.util.unpack(b);v.emit(I.ConnectionEventType.Data,O)});if(d===ArrayBuffer)l=A.util.unpack(p);else if(d===String){var f=A.util.binaryStringToArrayBuffer(p);l=A.util.unpack(f)}}else this.serialization===I.SerializationType.JSON&&(l=this.parse(p));l.__peerData?this._handleChunk(l):w.prototype.emit.call(this,I.ConnectionEventType.Data,l)},E.prototype._handleChunk=function(m){var v=m.__peerData,p=this._chunkedData[v]||{data:[],count:0,total:m.total};if(p.data[m.n]=m.data,p.count++,this._chunkedData[v]=p,p.total===p.count){delete this._chunkedData[v];var d=new Blob(p.data);this._handleDataMessage({data:d})}},E.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,w.prototype.emit.call(this,I.ConnectionEventType.Close))},E.prototype.send=function(m,v){if(this.open)if(this.serialization===I.SerializationType.JSON)this._bufferedSend(this.stringify(m));else if(this.serialization===I.SerializationType.Binary||this.serialization===I.SerializationType.BinaryUTF8){var p=A.util.pack(m);if(!v&&p.size>A.util.chunkedMTU)return void this._sendChunks(p);A.util.supports.binaryBlob?this._bufferedSend(p):this._encodingQueue.enque(p)}else this._bufferedSend(m);else w.prototype.emit.call(this,I.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},E.prototype._bufferedSend=function(m){!this._buffering&&this._trySend(m)||(this._buffer.push(m),this._bufferSize=this._buffer.length)},E.prototype._trySend=function(m){var v=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>E.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){v._buffering=!1,v._tryBuffer()},50),!1;try{this.dataChannel.send(m)}catch(p){return k.default.error("DC#:"+this.connectionId+" Error when sending:",p),this._buffering=!0,this.close(),!1}return!0},E.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},E.prototype._sendChunks=function(m){var v,p,d=A.util.chunk(m);k.default.log("DC#"+this.connectionId+" Try to send "+d.length+" chunks...");try{for(var l=D(d),f=l.next();!f.done;f=l.next())this.send(f.value,!0)}catch(O){v={error:O}}finally{try{f&&!f.done&&(p=l.return)&&p.call(l)}finally{if(v)throw v.error}}},E.prototype.handleMessage=function(m){var v=m.payload;switch(m.type){case I.ServerMessageType.Answer:this._negotiator.handleSDP(m.type,v.sdp);break;case I.ServerMessageType.Candidate:this._negotiator.handleCandidate(v.candidate);break;default:k.default.warn("Unrecognized message type:",m.type,"from peer:",this.peer)}},E.ID_PREFIX="dc_",E.MAX_BUFFERED_AMOUNT=8388608,E}(h.BaseConnection);L.DataConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(H,re,L){"use strict";var P=this&&this.__awaiter||function(I,h,C,_){return new(C||(C=Promise))(function(w,E){function m(d){try{p(_.next(d))}catch(l){E(l)}}function v(d){try{p(_.throw(d))}catch(l){E(l)}}function p(d){var l;d.done?w(d.value):(l=d.value,l instanceof C?l:new C(function(f){f(l)})).then(m,v)}p((_=_.apply(I,h||[])).next())})},D=this&&this.__generator||function(I,h){var C,_,w,E,m={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return E={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function v(p){return function(d){return function(l){if(C)throw new TypeError("Generator is already executing.");for(;m;)try{if(C=1,_&&(w=2&l[0]?_.return:l[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,l[1])).done)return w;switch(_=0,w&&(l=[2&l[0],w.value]),l[0]){case 0:case 1:w=l;break;case 4:return m.label++,{value:l[1],done:!1};case 5:m.label++,_=l[1],l=[0];continue;case 7:l=m.ops.pop(),m.trys.pop();continue;default:if(!(w=(w=m.trys).length>0&&w[w.length-1])&&(6===l[0]||2===l[0])){m=0;continue}if(3===l[0]&&(!w||l[1]>w[0]&&l[1]<w[3])){m.label=l[1];break}if(6===l[0]&&m.label<w[1]){m.label=w[1],w=l;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(l);break}w[2]&&m.ops.pop(),m.trys.pop();continue}l=h.call(I,m)}catch(f){l=[6,f],_=0}finally{C=w=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([p,d])}}},S=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(L,"__esModule",{value:!0}),L.API=void 0;var A=H("./util"),k=S(H("./logger")),R=function(){function I(h){this._options=h}return I.prototype._buildUrl=function(h){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+h+"?ts="+(new Date).getTime()+Math.random()},I.prototype.retrieveId=function(){return P(this,void 0,Promise,function(){var h,C,_,w;return D(this,function(E){switch(E.label){case 0:h=this._buildUrl("id"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw new Error("Error. Status:"+C.status);return[2,C.text()];case 3:throw _=E.sent(),k.default.error("Error retrieving ID",_),w="","/"===this._options.path&&this._options.host!==A.util.CLOUD_HOST&&(w=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+w);case 4:return[2]}})})},I.prototype.listAllPeers=function(){return P(this,void 0,Promise,function(){var h,C,w;return D(this,function(E){switch(E.label){case 0:h=this._buildUrl("peers"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw 401===C.status?new Error("It doesn't look like you have permission to list peers IDs. "+(this._options.host===A.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.")):new Error("Error. Status:"+C.status);return[2,C.json()];case 3:throw w=E.sent(),k.default.error("Error retrieving list peers",w),new Error("Could not get list peers from the server."+w);case 4:return[2]}})})},I}();L.API=R},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(H,re,L){"use strict";var d,P=this&&this.__extends||(d=function(l,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,O){b.__proto__=O}||function(b,O){for(var x in O)Object.prototype.hasOwnProperty.call(O,x)&&(b[x]=O[x])})(l,f)},function(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=l}d(l,f),l.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}),D=this&&this.__assign||function(){return(D=Object.assign||function(d){for(var l,f=1,b=arguments.length;f<b;f++)for(var O in l=arguments[f])Object.prototype.hasOwnProperty.call(l,O)&&(d[O]=l[O]);return d}).apply(this,arguments)},S=this&&this.__values||function(d){var l="function"==typeof Symbol&&Symbol.iterator,f=l&&d[l],b=0;if(f)return f.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&b>=d.length&&(d=void 0),{value:d&&d[b++],done:!d}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__read||function(d,l){var f="function"==typeof Symbol&&d[Symbol.iterator];if(!f)return d;var b,O,x=f.call(d),N=[];try{for(;(void 0===l||l-- >0)&&!(b=x.next()).done;)N.push(b.value)}catch(j){O={error:j}}finally{try{b&&!b.done&&(f=x.return)&&f.call(x)}finally{if(O)throw O.error}}return N},k=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(L,"__esModule",{value:!0}),L.Peer=void 0;var R=H("eventemitter3"),I=H("./util"),h=k(H("./logger")),C=H("./socket"),_=H("./mediaconnection"),w=H("./dataconnection"),E=H("./enums"),m=H("./api"),p=function(d){function l(f,b){var O,x=d.call(this)||this;return x._id=null,x._lastServerId=null,x._destroyed=!1,x._disconnected=!1,x._open=!1,x._connections=new Map,x._lostMessages=new Map,f&&f.constructor==Object?b=f:f&&(O=f.toString()),b=D({debug:0,host:I.util.CLOUD_HOST,port:I.util.CLOUD_PORT,path:"/",key:l.DEFAULT_KEY,token:I.util.randomToken(),config:I.util.defaultConfig},b),x._options=b,"/"===x._options.host&&(x._options.host=window.location.hostname),x._options.path&&("/"!==x._options.path[0]&&(x._options.path="/"+x._options.path),"/"!==x._options.path[x._options.path.length-1]&&(x._options.path+="/")),void 0===x._options.secure&&x._options.host!==I.util.CLOUD_HOST?x._options.secure=I.util.isSecure():x._options.host==I.util.CLOUD_HOST&&(x._options.secure=!0),x._options.logFunction&&h.default.setLogFunction(x._options.logFunction),h.default.logLevel=x._options.debug||0,x._api=new m.API(b),x._socket=x._createServerConnection(),I.util.supports.audioVideo||I.util.supports.data?O&&!I.util.validateId(O)?(x._delayedAbort(E.PeerErrorType.InvalidID,'ID "'+O+'" is invalid'),x):(O?x._initialize(O):x._api.retrieveId().then(function(N){return x._initialize(N)}).catch(function(N){return x._abort(E.PeerErrorType.ServerError,N)}),x):(x._delayedAbort(E.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),x)}return P(l,d),Object.defineProperty(l.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"connections",{get:function(){var f,b,O=Object.create(null);try{for(var x=S(this._connections),N=x.next();!N.done;N=x.next()){var j=A(N.value,2);O[j[0]]=j[1]}}catch(W){f={error:W}}finally{try{N&&!N.done&&(b=x.return)&&b.call(x)}finally{if(f)throw f.error}}return O},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),l.prototype._createServerConnection=function(){var f=this,b=new C.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return b.on(E.SocketEventType.Message,function(O){f._handleMessage(O)}),b.on(E.SocketEventType.Error,function(O){f._abort(E.PeerErrorType.SocketError,O)}),b.on(E.SocketEventType.Disconnected,function(){f.disconnected||(f.emitError(E.PeerErrorType.Network,"Lost connection to server."),f.disconnect())}),b.on(E.SocketEventType.Close,function(){f.disconnected||f._abort(E.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),b},l.prototype._initialize=function(f){this._id=f,this.socket.start(f,this._options.token)},l.prototype._handleMessage=function(f){var b,O,x=f.type,N=f.payload,j=f.src;switch(x){case E.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(E.PeerEventType.Open,this.id);break;case E.ServerMessageType.Error:this._abort(E.PeerErrorType.ServerError,N.msg);break;case E.ServerMessageType.IdTaken:this._abort(E.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case E.ServerMessageType.InvalidKey:this._abort(E.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case E.ServerMessageType.Leave:h.default.log("Received leave message from "+j),this._cleanupPeer(j),this._connections.delete(j);break;case E.ServerMessageType.Expire:this.emitError(E.PeerErrorType.PeerUnavailable,"Could not connect to peer "+j);break;case E.ServerMessageType.Offer:var B=N.connectionId;if((ie=this.getConnection(j,B))&&(ie.close(),h.default.warn("Offer received for existing Connection ID:"+B)),N.type===E.ConnectionType.Media)ie=new _.MediaConnection(j,this,{connectionId:B,_payload:N,metadata:N.metadata}),this._addConnection(j,ie),this.emit(E.PeerEventType.Call,ie);else{if(N.type!==E.ConnectionType.Data)return void h.default.warn("Received malformed connection type:"+N.type);ie=new w.DataConnection(j,this,{connectionId:B,_payload:N,metadata:N.metadata,label:N.label,serialization:N.serialization,reliable:N.reliable}),this._addConnection(j,ie),this.emit(E.PeerEventType.Connection,ie)}var V=this._getMessages(B);try{for(var W=S(V),K=W.next();!K.done;K=W.next())ie.handleMessage(K.value)}catch(ue){b={error:ue}}finally{try{K&&!K.done&&(O=W.return)&&O.call(W)}finally{if(b)throw b.error}}break;default:if(!N)return void h.default.warn("You received a malformed message from "+j+" of type "+x);var ie;(ie=this.getConnection(j,B=N.connectionId))&&ie.peerConnection?ie.handleMessage(f):B?this._storeMessage(B,f):h.default.warn("You received an unrecognized message:",f)}},l.prototype._storeMessage=function(f,b){this._lostMessages.has(f)||this._lostMessages.set(f,[]),this._lostMessages.get(f).push(b)},l.prototype._getMessages=function(f){var b=this._lostMessages.get(f);return b?(this._lostMessages.delete(f),b):[]},l.prototype.connect=function(f,b){if(void 0===b&&(b={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var O=new w.DataConnection(f,this,b);return this._addConnection(f,O),O},l.prototype.call=function(f,b,O){if(void 0===O&&(O={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(b){O._stream=b;var x=new _.MediaConnection(f,this,O);return this._addConnection(f,x),x}h.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},l.prototype._addConnection=function(f,b){h.default.log("add connection "+b.type+":"+b.connectionId+" to peerId:"+f),this._connections.has(f)||this._connections.set(f,[]),this._connections.get(f).push(b)},l.prototype._removeConnection=function(f){var b=this._connections.get(f.peer);if(b){var O=b.indexOf(f);-1!==O&&b.splice(O,1)}this._lostMessages.delete(f.connectionId)},l.prototype.getConnection=function(f,b){var O,x,N=this._connections.get(f);if(!N)return null;try{for(var j=S(N),B=j.next();!B.done;B=j.next()){var V=B.value;if(V.connectionId===b)return V}}catch(W){O={error:W}}finally{try{B&&!B.done&&(x=j.return)&&x.call(j)}finally{if(O)throw O.error}}return null},l.prototype._delayedAbort=function(f,b){var O=this;setTimeout(function(){O._abort(f,b)},0)},l.prototype._abort=function(f,b){h.default.error("Aborting!"),this.emitError(f,b),this._lastServerId?this.disconnect():this.destroy()},l.prototype.emitError=function(f,b){var O;h.default.error("Error:",b),(O="string"==typeof b?new Error(b):b).type=f,this.emit(E.PeerEventType.Error,O)},l.prototype.destroy=function(){this.destroyed||(h.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(E.PeerEventType.Close))},l.prototype._cleanup=function(){var f,b;try{for(var O=S(this._connections.keys()),x=O.next();!x.done;x=O.next()){var N=x.value;this._cleanupPeer(N),this._connections.delete(N)}}catch(j){f={error:j}}finally{try{x&&!x.done&&(b=O.return)&&b.call(O)}finally{if(f)throw f.error}}this.socket.removeAllListeners()},l.prototype._cleanupPeer=function(f){var b,O,x=this._connections.get(f);if(x)try{for(var N=S(x),j=N.next();!j.done;j=N.next())j.value.close()}catch(B){b={error:B}}finally{try{j&&!j.done&&(O=N.return)&&O.call(N)}finally{if(b)throw b.error}}},l.prototype.disconnect=function(){if(!this.disconnected){var f=this.id;h.default.log("Disconnect peer with ID:"+f),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=f,this._id=null,this.emit(E.PeerEventType.Disconnected,f)}},l.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)h.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");h.default.error("In a hurry? We're still trying to make the initial connection!")}},l.prototype.listAllPeers=function(f){var b=this;void 0===f&&(f=function(O){}),this._api.listAllPeers().then(function(O){return f(O)}).catch(function(O){return b._abort(E.PeerErrorType.ServerError,O)})},l.DEFAULT_KEY="peerjs",l}(R.EventEmitter);L.Peer=p},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(H,re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.peerjs=void 0;var P=H("./util"),D=H("./peer");L.peerjs={Peer:D.Peer,util:P.util},L.default=D.Peer,window.peerjs=L.peerjs,window.Peer=D.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])},784:Mr=>{function zn(Ir){var H=new Error("Cannot find module '"+Ir+"'");throw H.code="MODULE_NOT_FOUND",H}zn.keys=()=>[],zn.resolve=zn,zn.id=784,Mr.exports=zn}},Mr=>{Mr(Mr.s=460)}]);