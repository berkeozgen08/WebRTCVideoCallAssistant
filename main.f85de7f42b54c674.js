(self.webpackChunkWebRTCVideoCallAssistant_Client=self.webpackChunkWebRTCVideoCallAssistant_Client||[]).push([[179],{0:(yr,Nn,vr)=>{"use strict";function U(e){return"function"==typeof e}function X(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const N=X(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function A(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class b{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(U(r))try{r()}catch(o){t=o instanceof N?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{k(o)}catch(s){t=null!=t?t:[],s instanceof N?t=[...t,...s.errors]:t.push(s)}}if(t)throw new N(t)}}add(t){var n;if(t&&t!==this)if(this.closed)k(t);else{if(t instanceof b){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&A(n,t)}remove(t){const{_finalizers:n}=this;n&&A(n,t),t instanceof b&&t._removeParent(this)}}b.EMPTY=(()=>{const e=new b;return e.closed=!0,e})();const T=b.EMPTY;function I(e){return e instanceof b||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function k(e){U(e)?e():e.unsubscribe()}const P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout(e,t,...n){const{delegate:r}=M;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=M;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function h(e){M.setTimeout(()=>{const{onUnhandledError:t}=P;if(!t)throw e;t(e)})}function C(){}const _=m("C",void 0,void 0);function m(e,t,n){return{kind:e,value:t,error:n}}let y=null;function p(e){if(P.useDeprecatedSynchronousErrorHandling){const t=!y;if(t&&(y={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=y;if(y=null,n)throw r}}else e()}class l extends b{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,I(t)&&t.add(this)):this.destination=L}static create(t,n,r){return new x(t,n,r)}next(t){this.isStopped?B(function E(e){return m("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?B(function w(e){return m("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?B(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f=Function.prototype.bind;function D(e,t){return f.call(e,t)}class R{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){F(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){F(r)}else F(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){F(n)}}}class x extends l{constructor(t,n,r){let i;if(super(),U(t)||!t)i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&P.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&D(t.next,o),error:t.error&&D(t.error,o),complete:t.complete&&D(t.complete,o)}):i=t}this.destination=new R(i)}}function F(e){P.useDeprecatedSynchronousErrorHandling?function d(e){P.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=e)}(e):h(e)}function B(e,t){const{onStoppedNotification:n}=P;n&&M.setTimeout(()=>n(e,t))}const L={closed:!0,next:C,error:function j(e){throw e},complete:C},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function Z(e){return e}let se=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Ce(e){return e&&e instanceof l||function is(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}(e)&&I(e)}(n)?n:new x(n,r,i);return p(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ve(r))((i,o)=>{const s=new x({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[z](){return this}pipe(...n){return function ee(e){return 0===e.length?Z:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Ve(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Ve(e){var t;return null!==(t=null!=e?e:P.Promise)&&void 0!==t?t:Promise}const os=X(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lt=(()=>{class e extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $r(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new os}next(n){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?T:(this.currentObservers=null,o.push(n),new b(()=>{this.currentObservers=null,A(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new se;return n.source=this,n}}return e.create=(t,n)=>new $r(t,n),e})();class $r extends lt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:T}}function Ht(e){return U(null==e?void 0:e.lift)}function Qe(e){return t=>{if(Ht(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(e,t,n,r,i){return new _r(e,t,n,r,i)}class _r extends l{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(e,t){return Qe((n,r)=>{let i=0;n.subscribe($e(r,o=>{r.next(e.call(t,o,i++))}))})}function br(e){return this instanceof br?(this.v=e,this):new br(e)}function rD(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(S){r[S]&&(i[S]=function(O){return new Promise(function(V,$){o.push([S,O,V,$])>1||a(S,O)})})}function a(S,O){try{!function u(S){S.value instanceof br?Promise.resolve(S.value.v).then(c,g):v(o[0][2],S)}(r[S](O))}catch(V){v(o[0][3],V)}}function c(S){a("next",S)}function g(S){a("throw",S)}function v(S,O){S(O),o.shift(),o.length&&a(o[0][0],o[0][1])}}function iD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Hi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=e[o](s)).done,s.value)})}}}const ff=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function hf(e){return U(null==e?void 0:e.then)}function pf(e){return U(e[z])}function gf(e){return Symbol.asyncIterator&&U(null==e?void 0:e[Symbol.asyncIterator])}function mf(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yf=function sD(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vf(e){return U(null==e?void 0:e[yf])}function _f(e){return rD(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield br(n.read());if(i)return yield br(void 0);yield yield br(r)}}finally{n.releaseLock()}})}function Cf(e){return U(null==e?void 0:e.getReader)}function vn(e){if(e instanceof se)return e;if(null!=e){if(pf(e))return function aD(e){return new se(t=>{const n=e[z]();if(U(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ff(e))return function uD(e){return new se(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(hf(e))return function cD(e){return new se(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,h)})}(e);if(gf(e))return Df(e);if(vf(e))return function lD(e){return new se(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Cf(e))return function dD(e){return Df(_f(e))}(e)}throw mf(e)}function Df(e){return new se(t=>{(function fD(e,t){var n,r,i,o;return function Ui(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(g){try{c(r.next(g))}catch(v){s(v)}}function u(g){try{c(r.throw(g))}catch(v){s(v)}}function c(g){g.done?o(g.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(g.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=iD(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ln(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ot(e,t,n=1/0){return U(t)?ot((r,i)=>we((o,s)=>t(r,o,i,s))(vn(e(r,i))),n):("number"==typeof t&&(n=t),Qe((r,i)=>function hD(e,t,n,r,i,o,s,a){const u=[];let c=0,g=0,v=!1;const S=()=>{v&&!u.length&&!c&&t.complete()},O=$=>c<r?V($):u.push($),V=$=>{o&&t.next($),c++;let q=!1;vn(n($,g++)).subscribe($e(t,Q=>{null==i||i(Q),o?O(Q):t.next(Q)},()=>{q=!0},void 0,()=>{if(q)try{for(c--;u.length&&c<r;){const Q=u.shift();s?Ln(t,s,()=>V(Q)):V(Q)}S()}catch(Q){t.error(Q)}}))};return e.subscribe($e(t,O,()=>{v=!0,S()})),()=>{null==a||a()}}(r,i,e,n)))}function $i(e=1/0){return ot(Z,e)}const Vn=new se(e=>e.complete());function iu(e){return e[e.length-1]}function bf(e){return U(iu(e))?e.pop():void 0}function Gi(e){return function gD(e){return e&&U(e.schedule)}(iu(e))?e.pop():void 0}function wf(e,t=0){return Qe((n,r)=>{n.subscribe($e(r,i=>Ln(r,e,()=>r.next(i),t),()=>Ln(r,e,()=>r.complete(),t),i=>Ln(r,e,()=>r.error(i),t)))})}function Ef(e,t=0){return Qe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Sf(e,t){if(!e)throw new Error("Iterable cannot be null");return new se(n=>{Ln(n,t,()=>{const r=e[Symbol.asyncIterator]();Ln(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function st(e,t){return t?function bD(e,t){if(null!=e){if(pf(e))return function yD(e,t){return vn(e).pipe(Ef(t),wf(t))}(e,t);if(ff(e))return function _D(e,t){return new se(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(hf(e))return function vD(e,t){return vn(e).pipe(Ef(t),wf(t))}(e,t);if(gf(e))return Sf(e,t);if(vf(e))return function CD(e,t){return new se(n=>{let r;return Ln(n,t,()=>{r=e[yf](),Ln(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>U(null==r?void 0:r.return)&&r.return()})}(e,t);if(Cf(e))return function DD(e,t){return Sf(_f(e),t)}(e,t)}throw mf(e)}(e,t):vn(e)}function ss(e){return e<=0?()=>Vn:Qe((t,n)=>{let r=0;t.subscribe($e(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ou(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(ss(1)).subscribe(()=>e())}function xe(e){for(let t in e)if(e[t]===xe)return t;throw Error("Could not find renamed property on target object.")}function su(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Pe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Pe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function au(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const SD=xe({__forward_ref__:xe});function Fe(e){return e.__forward_ref__=Fe,e.toString=function(){return Pe(this())},e}function pe(e){return Tf(e)?e():e}function Tf(e){return"function"==typeof e&&e.hasOwnProperty(SD)&&e.__forward_ref__===Fe}class Me extends Error{constructor(t,n){super(function uu(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function vt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function le(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function as(e,t){const n=t?` in ${t}`:"";throw new Me(-201,`No provider for ${vt(e)} found${n}`)}function Pt(e,t){null==e&&function je(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ee(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tn(e){return{providers:e.providers||[],imports:e.imports||[]}}function cu(e){return Mf(e,us)||Mf(e,Af)}function Mf(e,t){return e.hasOwnProperty(t)?e[t]:null}function If(e){return e&&(e.hasOwnProperty(lu)||e.hasOwnProperty(OD))?e[lu]:null}const us=xe({\u0275prov:xe}),lu=xe({\u0275inj:xe}),Af=xe({ngInjectableDef:xe}),OD=xe({ngInjectorDef:xe});var ue=(()=>((ue=ue||{})[ue.Default=0]="Default",ue[ue.Host=1]="Host",ue[ue.Self=2]="Self",ue[ue.SkipSelf=4]="SkipSelf",ue[ue.Optional=8]="Optional",ue))();let du;function Jn(e){const t=du;return du=e,t}function Pf(e,t,n){const r=cu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ue.Optional?null:void 0!==t?t:void as(Pe(e),"Injector")}function Xn(e){return{toString:e}.toString()}var nn=(()=>((nn=nn||{})[nn.OnPush=0]="OnPush",nn[nn.Default=1]="Default",nn))(),_n=(()=>{return(e=_n||(_n={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",_n;var e})();const kD="undefined"!=typeof globalThis&&globalThis,FD="undefined"!=typeof window&&window,ND="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Oe=kD||"undefined"!=typeof global&&global||FD||ND,Wr={},ke=[],cs=xe({\u0275cmp:xe}),fu=xe({\u0275dir:xe}),hu=xe({\u0275pipe:xe}),Rf=xe({\u0275mod:xe}),Bn=xe({\u0275fac:xe}),zi=xe({__NG_ELEMENT_ID__:xe});let LD=0;function er(e){return Xn(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ke,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||_n.Emulated,id:"c",styles:e.styles||ke,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,s=e.pipes;return r.id+=LD++,r.inputs=Ff(e.inputs,n),r.outputs=Ff(e.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Of):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(xf):null,r})}function Of(e){return dt(e)||function tr(e){return e[fu]||null}(e)}function xf(e){return function wr(e){return e[hu]||null}(e)}const kf={};function Cn(e){return Xn(()=>{const t={type:e.type,bootstrap:e.bootstrap||ke,declarations:e.declarations||ke,imports:e.imports||ke,exports:e.exports||ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(kf[e.id]=e.type),t})}function Ff(e,t){if(null==e)return Wr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const oe=er;function dt(e){return e[cs]||null}function $t(e,t){const n=e[Rf]||null;if(!n&&!0===t)throw new Error(`Type ${Pe(e)} does not have '\u0275mod' property.`);return n}function Dn(e){return Array.isArray(e)&&"object"==typeof e[1]}function on(e){return Array.isArray(e)&&!0===e[1]}function mu(e){return 0!=(8&e.flags)}function hs(e){return 2==(2&e.flags)}function ps(e){return 1==(1&e.flags)}function sn(e){return null!==e.template}function $D(e){return 0!=(512&e[2])}function Mr(e,t){return e.hasOwnProperty(Bn)?e[Bn]:null}class WD{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function zt(){return Lf}function Lf(e){return e.type.prototype.ngOnChanges&&(e.setInput=QD),qD}function qD(){const e=jf(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Wr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function QD(e,t,n,r){const i=jf(e)||function ZD(e,t){return e[Vf]=t}(e,{previous:Wr,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new WD(u&&u.currentValue,t,s===Wr),e[r]=t}zt.ngInherit=!0;const Vf="__ngSimpleChanges__";function jf(e){return e[Vf]||null}let Du;function Ge(e){return!!e.listen}const Bf={createRenderer:(e,t)=>function bu(){return void 0!==Du?Du:"undefined"!=typeof document?document:void 0}()};function Ke(e){for(;Array.isArray(e);)e=e[0];return e}function qt(e,t){return Ke(t[e.index])}function wu(e,t){return e.data[t]}function Ot(e,t){const n=t[e];return Dn(n)?n:n[0]}function Uf(e){return 4==(4&e[2])}function Eu(e){return 128==(128&e[2])}function nr(e,t){return null==t?null:e[t]}function Hf(e){e[18]=0}function Su(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const ae={lFrame:Yf(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $f(){return ae.bindingsEnabled}function G(){return ae.lFrame.lView}function Ie(){return ae.lFrame.tView}function tt(){let e=Gf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Gf(){return ae.lFrame.currentTNode}function bn(e,t){const n=ae.lFrame;n.currentTNode=e,n.isParent=t}function Tu(){return ae.lFrame.isParent}function ms(){return ae.isInCheckNoChangesMode}function ys(e){ae.isInCheckNoChangesMode=e}function hb(e,t){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=e,Iu(t)}function Iu(e){ae.lFrame.currentDirectiveIndex=e}function qf(){return ae.lFrame.currentQueryIndex}function Pu(e){ae.lFrame.currentQueryIndex=e}function gb(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Qf(e,t,n){if(n&ue.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&ue.Host||(i=gb(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=ae.lFrame=Zf();return r.currentTNode=t,r.lView=e,!0}function vs(e){const t=Zf(),n=e[1];ae.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Zf(){const e=ae.lFrame,t=null===e?null:e.child;return null===t?Yf(e):t}function Yf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Kf(){const e=ae.lFrame;return ae.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Jf=Kf;function _s(){const e=Kf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ct(){return ae.lFrame.selectedIndex}function rr(e){ae.lFrame.selectedIndex=e}function Cs(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:g}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=g&&(e.destroyHooks||(e.destroyHooks=[])).push(n,g)}}function Ds(e,t,n){Xf(e,t,3,n)}function bs(e,t,n,r){(3&e[2])===n&&Xf(e,t,n,r)}function Ru(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Xf(e,t,n,r){const o=null!=r?r:-1,s=t.length-1;let a=0;for(let u=void 0!==r?65535&e[18]:0;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<o||-1==o)&&(Eb(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function Eb(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Yi{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ws(e,t,n){const r=Ge(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];xu(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function eh(e){return 3===e||4===e||6===e}function xu(e){return 64===e.charCodeAt(0)}function Es(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||th(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function th(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function nh(e){return-1!==e}function Xr(e){return 32767&e}function ei(e,t){let n=function Ab(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let ku=!0;function Ss(e){const t=ku;return ku=e,t}let Pb=0;function Ji(e,t){const n=Nu(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Fu(r.data,e),Fu(t,null),Fu(r.blueprint,null));const i=Ts(e,t),o=e.injectorIndex;if(nh(i)){const s=Xr(i),a=ei(i,t),u=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c]}return t[o+8]=i,o}function Fu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Nu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ts(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ms(e,t,n){!function Rb(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(zi)&&(r=n[zi]),null==r&&(r=n[zi]=Pb++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function oh(e,t,n){if(n&ue.Optional)return e;as(t,"NodeInjector")}function sh(e,t,n,r){if(n&ue.Optional&&void 0===r&&(r=null),0==(n&(ue.Self|ue.Host))){const i=e[9],o=Jn(void 0);try{return i?i.get(t,r,n&ue.Optional):Pf(t,r,n&ue.Optional)}finally{Jn(o)}}return oh(r,t,n)}function ah(e,t,n,r=ue.Default,i){if(null!==e){const o=function Fb(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(zi)?e[zi]:void 0;return"number"==typeof t?t>=0?255&t:xb:t}(n);if("function"==typeof o){if(!Qf(t,e,r))return r&ue.Host?oh(i,n,r):sh(t,n,r,i);try{const s=o(r);if(null!=s||r&ue.Optional)return s;as(n)}finally{Jf()}}else if("number"==typeof o){let s=null,a=Nu(e,t),u=-1,c=r&ue.Host?t[16][6]:null;for((-1===a||r&ue.SkipSelf)&&(u=-1===a?Ts(e,t):t[a+8],-1!==u&&lh(r,!1)?(s=t[1],a=Xr(u),t=ei(u,t)):a=-1);-1!==a;){const g=t[1];if(ch(o,a,g.data)){const v=kb(a,t,n,s,r,c);if(v!==uh)return v}u=t[a+8],-1!==u&&lh(r,t[1].data[a+8]===c)&&ch(o,a,t)?(s=g,a=Xr(u),t=ei(u,t)):a=-1}}}return sh(t,n,r,i)}const uh={};function xb(){return new ti(tt(),G())}function kb(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],g=Is(a,s,n,null==r?hs(a)&&ku:r!=s&&0!=(3&a.type),i&ue.Host&&o===a);return null!==g?Xi(t,s,g,a):uh}function Is(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,g=o>>20,S=i?a+g:e.directiveEnd;for(let O=r?a:a+g;O<S;O++){const V=s[O];if(O<u&&n===V||O>=u&&V.type===n)return O}if(i){const O=s[u];if(O&&sn(O)&&O.type===n)return u}return null}function Xi(e,t,n,r){let i=e[n];const o=t.data;if(function Sb(e){return e instanceof Yi}(i)){const s=i;s.resolving&&function TD(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Me(-200,`Circular dependency in DI detected for ${e}${n}`)}(vt(o[n]));const a=Ss(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Jn(s.injectImpl):null;Qf(e,r,ue.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function wb(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Lf(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==u&&Jn(u),Ss(a),s.resolving=!1,Jf()}}return i}function ch(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function lh(e,t){return!(e&ue.Self||e&ue.Host&&t)}class ti{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ah(this._tNode,this._lView,t,r,n)}}function ht(e){return Xn(()=>{const t=e.prototype.constructor,n=t[Bn]||Lu(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Bn]||Lu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lu(e){return Tf(e)?()=>{const t=Lu(pe(e));return t&&t()}:Mr(e)}function eo(e){return function Ob(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(eh(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(tt(),e)}const ri="__parameters__";function oi(e,t,n){return Xn(()=>{const r=function Vu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,g){const v=u.hasOwnProperty(ri)?u[ri]:Object.defineProperty(u,ri,{value:[]})[ri];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class De{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lb=new De("AnalyzeForEntryComponents");function Qt(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Qt(r,t)):t!==e&&t.push(r)}return t}function wn(e,t){e.forEach(n=>Array.isArray(n)?wn(n,t):t(n))}function fh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function As(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function xt(e,t,n){let r=si(e,t);return r>=0?e[1|r]=n:(r=~r,function Bb(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Bu(e,t){const n=si(e,t);if(n>=0)return e[1|n]}function si(e,t){return function gh(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const io={},Hu="__NG_DI_FLAG__",Rs="ngTempTokenPath",qb=/\n/gm,yh="__source",Zb=xe({provide:String,useValue:xe});let oo;function vh(e){const t=oo;return oo=e,t}function Yb(e,t=ue.Default){if(void 0===oo)throw new Me(203,"");return null===oo?Pf(e,void 0,t):oo.get(e,t&ue.Optional?null:void 0,t)}function ne(e,t=ue.Default){return(function xD(){return du}()||Yb)(pe(e),t)}const Kb=ne;function $u(e){const t=[];for(let n=0;n<e.length;n++){const r=pe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Me(900,"");let i,o=ue.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Jb(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}t.push(ne(i,o))}else t.push(ne(r))}return t}function so(e,t){return e[Hu]=t,e.prototype[Hu]=t,e}function Jb(e){return e[Hu]}const Os=so(oi("Inject",e=>({token:e})),-1),or=so(oi("Optional"),8),ao=so(oi("SkipSelf"),4);const Lh="__ngContext__";function pt(e,t){e[Lh]=t}function Xu(e){const t=function ho(e){return e[Lh]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function tc(e){return e.ngOriginalError}function Gw(e,...t){e.error(...t)}class po{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function $w(e){return e&&e.ngErrorLogger||Gw}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&tc(t);for(;n&&tc(n);)n=tc(n);return n||null}}const e0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))();function Sn(e){return e instanceof Function?e():e}var kt=(()=>((kt=kt||{})[kt.Important=1]="Important",kt[kt.DashCase=2]="DashCase",kt))();function rc(e,t){return undefined(e,t)}function go(e){const t=e[3];return on(t)?t[3]:t}function ic(e){return Wh(e[13])}function oc(e){return Wh(e[4])}function Wh(e){for(;null!==e&&!on(e);)e=e[4];return e}function li(e,t,n,r,i){if(null!=r){let o,s=!1;on(r)?o=r:Dn(r)&&(s=!0,r=r[0]);const a=Ke(r);0===e&&null!==n?null==i?Jh(t,n,a):Ir(t,n,a,i||null,!0):1===e&&null!==n?Ir(t,n,a,i||null,!0):2===e?function op(e,t,n){const r=Vs(e,t);r&&function g0(e,t,n,r){Ge(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function v0(e,t,n,r,i){const o=n[7];o!==Ke(n)&&li(t,e,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];mo(u[1],u,e,t,r,o)}}(t,e,o,n,i)}}function ac(e,t,n){if(Ge(e))return e.createElement(t,n);{const r=null!==n?function XD(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function Qh(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Su(i,-1)),n.splice(r,1)}function uc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Qh(i,r),t>0&&(e[n-1][4]=r[4]);const o=As(e,10+t);!function a0(e,t){mo(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Zh(e,t){if(!(256&t[2])){const n=t[11];Ge(n)&&n.destroyNode&&mo(e,t,n,3,null,null),function l0(e){let t=e[13];if(!t)return cc(e[1],e);for(;t;){let n=null;if(Dn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Dn(t)&&cc(t[1],t),t=t[3];null===t&&(t=e),Dn(t)&&cc(t[1],t),n=t&&t[4]}t=n}}(t)}}function cc(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function p0(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Yi)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function h0(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(t):Ke(t[s]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(e,t),1===t[1].type&&Ge(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&on(t[3])){n!==t[3]&&Qh(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Yh(e,t,n){return function Kh(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===_n.None||i===_n.Emulated)return null}return qt(r,n)}(e,t.parent,n)}function Ir(e,t,n,r,i){Ge(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Jh(e,t,n){Ge(e)?e.appendChild(t,n):t.appendChild(n)}function Xh(e,t,n,r,i){null!==r?Ir(e,t,n,r,i):Jh(e,t,n)}function Vs(e,t){return Ge(e)?e.parentNode(t):t.parentNode}let np=function tp(e,t,n){return 40&e.type?qt(e,n):null};function js(e,t,n,r){const i=Yh(e,r,t),o=t[11],a=function ep(e,t,n){return np(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Xh(o,i,n[u],a,!1);else Xh(o,i,n,a,!1)}function Bs(e,t){if(null!==t){const n=t.type;if(3&n)return qt(t,e);if(4&n)return dc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Bs(e,r);{const i=e[t.index];return on(i)?dc(-1,i):Ke(i)}}if(32&n)return rc(t,e)()||Ke(e[t.index]);{const r=ip(e,t);return null!==r?Array.isArray(r)?r[0]:Bs(go(e[16]),r):Bs(e,t.next)}}return null}function ip(e,t){return null!==t?e[16][6].projection[t.projection]:null}function dc(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Bs(r,i)}return t[7]}function fc(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===t&&(a&&pt(Ke(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)fc(e,t,n.child,r,i,o,!1),li(t,e,i,a,o);else if(32&u){const c=rc(n,r);let g;for(;g=c();)li(t,e,i,g,o);li(t,e,i,a,o)}else 16&u?sp(e,t,r,n,i,o):li(t,e,i,a,o);n=s?n.projectionNext:n.next}}function mo(e,t,n,r,i,o){fc(n,r,e.firstChild,t,i,o,!1)}function sp(e,t,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)li(t,e,i,u[c],o);else fc(e,t,u,s[3],i,o,!0)}function ap(e,t,n){Ge(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function hc(e,t,n){Ge(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function up(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const cp="ng-template";function C0(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==up(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function lp(e){return 4===e.type&&e.value!==cp}function D0(e,t,n){return t===(4!==e.type||n?e.value:cp)}function b0(e,t,n){let r=4;const i=e.attrs||[],o=function S0(e){for(let t=0;t<e.length;t++)if(eh(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!D0(e,u,n)||""===u&&1===t.length){if(an(r))return!1;s=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!C0(e.attrs,c,n)){if(an(r))return!1;s=!0}continue}const v=w0(8&r?"class":u,i,lp(e),n);if(-1===v){if(an(r))return!1;s=!0;continue}if(""!==c){let S;S=v>o?"":i[v+1].toLowerCase();const O=8&r?S:null;if(O&&-1!==up(O,c,0)||2&r&&c!==S){if(an(r))return!1;s=!0}}}}else{if(!s&&!an(r)&&!an(u))return!1;if(s&&an(u))continue;s=!1,r=u|1&r}}return an(r)||s}function an(e){return 0==(1&e)}function w0(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function T0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function dp(e,t,n=!1){for(let r=0;r<t.length;r++)if(b0(e,t[r],n))return!0;return!1}function fp(e,t){return e?":not("+t.trim()+")":t}function I0(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!an(s)&&(t+=fp(o,i),i=""),r=s,o=o||!an(r);n++}return""!==i&&(t+=fp(o,i)),t}const de={};function Tn(e){hp(Ie(),G(),Ct()+e,ms())}function hp(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&Ds(t,o,n)}else{const o=e.preOrderHooks;null!==o&&bs(t,o,0,n)}rr(n)}function Us(e,t){return e<<17|t<<2}function un(e){return e>>17&32767}function pc(e){return 2|e}function $n(e){return(131068&e)>>2}function gc(e,t){return-131069&e|t<<2}function mc(e){return 1|e}function Ep(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=e.data[o];Pu(i),s.contentQueries(2,t[o],o)}}}function yo(e,t,n,r,i,o,s,a,u,c){const g=t.blueprint.slice();return g[0]=i,g[2]=140|r,Hf(g),g[3]=g[15]=e,g[8]=n,g[10]=s||e&&e[10],g[11]=a||e&&e[11],g[12]=u||e&&e[12]||null,g[9]=c||e&&e[9]||null,g[6]=o,g[16]=2==t.type?e[16]:g,g}function di(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Sc(e,t,n,r,i){const o=Gf(),s=Tu(),u=e.data[t]=function W0(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(e,t,n,r,i),function fb(){return ae.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Zi(){const e=ae.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return bn(o,!0),o}function fi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function vo(e,t,n){vs(t);try{const r=e.viewQuery;null!==r&&kc(1,r,n);const i=e.template;null!==i&&Sp(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ep(e,t),e.staticViewQueries&&kc(2,e.viewQuery,n);const o=e.components;null!==o&&function $0(e,t){for(let n=0;n<t.length;n++)lE(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,_s()}}function hi(e,t,n,r){const i=t[2];if(256==(256&i))return;vs(t);const o=ms();try{Hf(t),function zf(e){return ae.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Sp(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const c=e.preOrderCheckHooks;null!==c&&Ds(t,c,null)}else{const c=e.preOrderHooks;null!==c&&bs(t,c,0,null),Ru(t,0)}if(function uE(e){for(let t=ic(e);null!==t;t=oc(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&Su(o,1),i[2]|=1024}}}(t),function aE(e){for(let t=ic(e);null!==t;t=oc(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Eu(r)&&hi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ep(e,t),!o)if(s){const c=e.contentCheckHooks;null!==c&&Ds(t,c)}else{const c=e.contentHooks;null!==c&&bs(t,c,1),Ru(t,1)}!function U0(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)rr(~i);else{const o=i,s=n[++r],a=n[++r];hb(s,o),a(2,t[o])}}}finally{rr(-1)}}(e,t);const a=e.components;null!==a&&function H0(e,t){for(let n=0;n<t.length;n++)cE(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&kc(2,u,r),!o)if(s){const c=e.viewCheckHooks;null!==c&&Ds(t,c)}else{const c=e.viewHooks;null!==c&&bs(t,c,2),Ru(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Su(t[3],-1))}finally{_s()}}function G0(e,t,n,r){const i=t[10],o=!ms(),s=Uf(t);try{o&&!s&&i.begin&&i.begin(),s&&vo(e,t,r),hi(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function Sp(e,t,n,r,i){const o=Ct(),s=2&r;try{rr(-1),s&&t.length>20&&hp(e,t,20,ms()),n(r,i)}finally{rr(o)}}function Tc(e,t,n){!$f()||(function X0(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Ji(n,t),pt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const u=e.data[a],c=sn(u);c&&iE(t,n,u);const g=Xi(t,e,a,n);pt(g,t),null!==s&&oE(0,a-i,g,u,0,s),c&&(Ot(n.index,t)[8]=g)}}(e,t,n,qt(n,t)),128==(128&n.flags)&&function eE(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function pb(){return ae.lFrame.currentDirectiveIndex}();try{rr(s);for(let u=r;u<i;u++){const c=e.data[u],g=t[u];Iu(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&kp(c,g)}}finally{rr(-1),Iu(a)}}(e,t,n))}function Mc(e,t,n=qt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Mp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Gs(e,t,n,r,i,o,s,a,u,c){const g=20+r,v=g+i,S=function z0(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:de);return n}(g,v),O="function"==typeof c?c():c;return S[1]={type:e,blueprint:S,template:n,queries:null,viewQuery:a,declTNode:t,data:S.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:O,incompleteFirstPass:!1}}function Pp(e,t,n,r){const i=Bp(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Up(e).push(r,i.length-1))}function Rp(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ic(e,t,n,r){let i=!1;if($f()){const o=function tE(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];dp(n,s.selectors,!1)&&(i||(i=[]),Ms(Ji(n,t),e,s.type),sn(s)?(Fp(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Np(n,e.data.length,o.length);for(let g=0;g<o.length;g++){const v=o[g];v.providersResolver&&v.providersResolver(v)}let a=!1,u=!1,c=fi(e,t,o.length,null);for(let g=0;g<o.length;g++){const v=o[g];n.mergedAttrs=Es(n.mergedAttrs,v.hostAttrs),Lp(e,n,t,c,v),rE(c,v,s),null!==v.contentQueries&&(n.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(n.flags|=128);const S=v.type.prototype;!a&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!u&&(S.ngOnChanges||S.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function q0(e,t){const r=t.directiveEnd,i=e.data,o=t.attrs,s=[];let a=null,u=null;for(let c=t.directiveStart;c<r;c++){const g=i[c],v=g.inputs,S=null===o||lp(t)?null:sE(v,o);s.push(S),a=Rp(v,c,a),u=Rp(g.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=u}(e,n)}s&&function nE(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Me(-301,!1);r.push(t[i],o)}}}(n,r,s)}return n.mergedAttrs=Es(n.mergedAttrs,n.attrs),i}function xp(e,t,n,r,i,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const u=~t.index;(function J0(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function kp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Fp(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function rE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;sn(t)&&(n[""]=e)}}function Np(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Lp(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Mr(i.type)),s=new Yi(o,sn(i),null);e.blueprint[r]=s,n[r]=s,xp(e,t,0,r,fi(e,n,i.hostVars,de),i)}function iE(e,t,n){const r=qt(t,e),i=Mp(n),o=e[10],s=zs(e,yo(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function oE(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],g=s[u++],v=s[u++];null!==a?r.setInput(n,v,c,g):n[g]=v}}}function sE(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Vp(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function cE(e,t){const n=Ot(t,e);if(Eu(n)){const r=n[1];80&n[2]?hi(r,n,r.template,n[8]):n[5]>0&&Pc(n)}}function Pc(e){for(let r=ic(e);null!==r;r=oc(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];hi(s,o,s.template,o[8])}else o[5]>0&&Pc(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ot(n[r],e);Eu(i)&&i[5]>0&&Pc(i)}}function lE(e,t){const n=Ot(t,e),r=n[1];(function dE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),vo(r,n,n[8])}function zs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Rc(e){for(;e;){e[2]|=64;const t=go(e);if($D(e)&&!t)return e;e=t}return null}function xc(e,t,n){const r=t[10];r.begin&&r.begin();try{hi(e,t,e.template,n)}catch(i){throw $p(t,i),i}finally{r.end&&r.end()}}function jp(e){!function Oc(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Xu(n),i=r[1];G0(i,r,i.template,n)}}(e[8])}function kc(e,t,n){Pu(0),t(e,n)}const gE=(()=>Promise.resolve(null))();function Bp(e){return e[7]||(e[7]=[])}function Up(e){return e.cleanup||(e.cleanup=[])}function $p(e,t){const n=e[9],r=n?n.get(po,null):null;r&&r.handleError(t)}function Gp(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ws(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=au(i,a):2==o&&(r=au(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Fc=new De("INJECTOR",-1);class zp{get(t,n=io){if(n===io){const r=new Error(`NullInjectorError: No provider for ${Pe(t)}!`);throw r.name="NullInjectorError",r}return n}}const Nc=new De("Set Injector scope."),_o={},vE={};let Lc;function Wp(){return void 0===Lc&&(Lc=new zp),Lc}function qp(e,t=null,n=null,r){const i=Qp(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Qp(e,t=null,n=null,r){return new _E(e,n,t||Wp(),r)}class _E{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&wn(n,a=>this.processProvider(a,t,n)),wn([t],a=>this.processInjectorType(a,[],o)),this.records.set(Fc,pi(void 0,this));const s=this.records.get(Nc);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:Pe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=io,r=ue.Default){this.assertNotDestroyed();const i=vh(this),o=Jn(void 0);try{if(!(r&ue.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function ME(e){return"function"==typeof e||"object"==typeof e&&e instanceof De}(t)&&cu(t);a=u&&this.injectableDefInScope(u)?pi(Vc(t),_o):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&ue.Self?Wp():this.parent).get(t,n=r&ue.Optional&&n===io?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Rs]=s[Rs]||[]).unshift(Pe(t)),i)throw s;return function Xb(e,t,n,r){const i=e[Rs];throw t[yh]&&i.unshift(t[yh]),e.message=function ew(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=Pe(t);if(Array.isArray(t))i=t.map(Pe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(qb,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Rs]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{Jn(o),vh(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Pe(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(t,n,r){if(!(t=pe(t)))return!1;let i=If(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=If(o)),null==i)return!1;if(null!=i.imports&&!a){let g;r.push(s);try{wn(i.imports,v=>{this.processInjectorType(v,n,r)&&(void 0===g&&(g=[]),g.push(v))})}finally{}if(void 0!==g)for(let v=0;v<g.length;v++){const{ngModule:S,providers:O}=g[v];wn(O,V=>this.processProvider(V,S,O||ke))}}this.injectorDefTypes.add(s);const u=Mr(s)||(()=>new s);this.records.set(s,pi(u,_o));const c=i.providers;if(null!=c&&!a){const g=t;wn(c,v=>this.processProvider(v,g,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,r){let i=gi(t=pe(t))?t:pe(t&&t.provide);const o=function DE(e,t,n){return Yp(e)?pi(void 0,e.useValue):pi(Zp(e),_o)}(t);if(gi(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=pi(void 0,_o,!0),s.factory=()=>$u(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,n){return n.value===_o&&(n.value=vE,n.value=n.factory()),"object"==typeof n.value&&n.value&&function TE(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=pe(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Vc(e){const t=cu(e),n=null!==t?t.factory:Mr(e);if(null!==n)return n;if(e instanceof De)throw new Me(204,!1);if(e instanceof Function)return function CE(e){const t=e.length;if(t>0)throw function ro(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Me(204,!1);const n=function PD(e){const t=e&&(e[us]||e[Af]);if(t){const n=function RD(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Me(204,!1)}function Zp(e,t,n){let r;if(gi(e)){const i=pe(e);return Mr(i)||Vc(i)}if(Yp(e))r=()=>pe(e.useValue);else if(function wE(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...$u(e.deps||[]));else if(function bE(e){return!(!e||!e.useExisting)}(e))r=()=>ne(pe(e.useExisting));else{const i=pe(e&&(e.useClass||e.provide));if(!function SE(e){return!!e.deps}(e))return Mr(i)||Vc(i);r=()=>new i(...$u(e.deps))}return r}function pi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Yp(e){return null!==e&&"object"==typeof e&&Zb in e}function gi(e){return"function"==typeof e}let bt=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return qp({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return qp({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=io,e.NULL=new zp,e.\u0275prov=Ee({token:e,providedIn:"any",factory:()=>ne(Fc)}),e.__NG_ELEMENT_ID__=-1,e})();function FE(e,t){Cs(Xu(e)[1],tt())}function Re(e){let t=function ug(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(sn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Me(903,"");i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=Uc(e.inputs),s.declaredInputs=Uc(e.declaredInputs),s.outputs=Uc(e.outputs);const a=i.hostBindings;a&&jE(e,a);const u=i.viewQuery,c=i.contentQueries;if(u&&LE(e,u),c&&VE(e,c),su(e.inputs,i.inputs),su(e.declaredInputs,i.declaredInputs),su(e.outputs,i.outputs),sn(i)&&i.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Re&&(n=!1)}}t=Object.getPrototypeOf(t)}!function NE(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Es(i.hostAttrs,n=Es(n,i.hostAttrs))}}(r)}function Uc(e){return e===Wr?{}:e===ke?[]:e}function LE(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function VE(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function jE(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let qs=null;function mi(){if(!qs){const e=Oe.Symbol;if(e&&e.iterator)qs=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(qs=r)}}}return qs}function gt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function bo(e,t,n,r,i,o,s,a){const u=G(),c=Ie(),g=e+20,v=c.firstCreatePass?function WE(e,t,n,r,i,o,s,a,u){const c=t.consts,g=di(t,e,4,s||null,nr(c,a));Ic(t,n,g,nr(c,u)),Cs(t,g);const v=g.tViews=Gs(2,g,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,g),v.queries=t.queries.embeddedTView(g)),g}(g,c,u,t,n,r,i,o,s):c.data[g];bn(v,!1);const S=u[11].createComment("");js(c,u,S,v),pt(S,u),zs(u,u[g]=Vp(S,u,S,v)),ps(v)&&Tc(c,u,v),null!=s&&Mc(u,v,a)}function W(e,t=ue.Default){const n=G();return null===n?ne(e,t):ah(tt(),n,pe(e),t)}function qc(){throw new Error("invalid")}function Yt(e,t,n){const r=G();return gt(r,function Jr(){return ae.lFrame.bindingIndex++}(),t)&&function Ft(e,t,n,r,i,o,s,a){const u=qt(t,n);let g,c=t.inputs;!a&&null!=c&&(g=c[r])?(Gp(e,n,g,r,i),hs(t)&&function Z0(e,t){const n=Ot(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function Q0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,Ge(o)?o.setProperty(u,r,i):xu(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(Ie(),function ze(){const e=ae.lFrame;return wu(e.tView,e.selectedIndex)}(),r,e,t,r[11],n,!1),Yt}function Qc(e,t,n,r,i){const s=i?"class":"style";Gp(e,n,t.inputs[s],s,r)}function ce(e,t,n,r){const i=G(),o=Ie(),s=20+e,a=i[11],u=i[s]=ac(a,t,function bb(){return ae.lFrame.currentNamespace}()),c=o.firstCreatePass?function pS(e,t,n,r,i,o,s){const a=t.consts,c=di(t,e,2,i,nr(a,o));return Ic(t,n,c,nr(a,s)),null!==c.attrs&&Ws(c,c.attrs,!1),null!==c.mergedAttrs&&Ws(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,0,t,n,r):o.data[s];bn(c,!0);const g=c.mergedAttrs;null!==g&&ws(a,u,g);const v=c.classes;null!==v&&hc(a,u,v);const S=c.styles;return null!==S&&ap(a,u,S),64!=(64&c.flags)&&js(o,i,u,c),0===function ob(){return ae.lFrame.elementDepthCount}()&&pt(u,i),function sb(){ae.lFrame.elementDepthCount++}(),ps(c)&&(Tc(o,i,c),function Tp(e,t,n){if(mu(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,c,i)),null!==r&&Mc(i,c),ce}function fe(){let e=tt();Tu()?function Mu(){ae.lFrame.isParent=!1}():(e=e.parent,bn(e,!1));const t=e;!function ab(){ae.lFrame.elementDepthCount--}();const n=Ie();return n.firstCreatePass&&(Cs(n,e),mu(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Mb(e){return 0!=(16&e.flags)}(t)&&Qc(n,t,G(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ib(e){return 0!=(32&e.flags)}(t)&&Qc(n,t,G(),t.stylesWithoutHost,!1),fe}function ln(e,t,n,r){return ce(e,t,n,r),fe(),ln}function wo(e){return!!e&&"function"==typeof e.then}const Kc=function Ag(e){return!!e&&"function"==typeof e.subscribe};function Nt(e,t,n,r){const i=G(),o=Ie(),s=tt();return function Rg(e,t,n,r,i,o,s,a){const u=ps(r),g=e.firstCreatePass&&Up(e),v=t[8],S=Bp(t);let O=!0;if(3&r.type||a){const q=qt(r,t),Q=a?a(q):q,H=S.length,J=a?ye=>a(Ke(ye[r.index])):r.index;if(Ge(n)){let ye=null;if(!a&&u&&(ye=function yS(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=o,ye.__ngLastListenerFn__=o,O=!1;else{o=Jc(r,t,v,o,!1);const Ae=n.listen(Q,i,o);S.push(o,Ae),g&&g.push(i,J,H,H+1)}}else o=Jc(r,t,v,o,!0),Q.addEventListener(i,o,s),S.push(o),g&&g.push(i,J,H,s)}else o=Jc(r,t,v,o,!1);const V=r.outputs;let $;if(O&&null!==V&&($=V[i])){const q=$.length;if(q)for(let Q=0;Q<q;Q+=2){const Ut=t[$[Q]][$[Q+1]].subscribe(o),Hr=S.length;S.push(o,Ut),g&&g.push(i,r.index,Hr,-(Hr+1))}}}(o,i,i[11],s,e,t,!!n,r),Nt}function Og(e,t,n,r){try{return!1!==n(r)}catch(i){return $p(e,i),!1}}function Jc(e,t,n,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?Ot(e.index,t):t;0==(32&t[2])&&Rc(a);let u=Og(t,0,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Og(t,0,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Hg(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?un(o):$n(o),u=!1;for(;0!==a&&(!1===u||s);){const g=e[a+1];ES(e[a],t)&&(u=!0,e[a+1]=r?mc(g):pc(g)),a=r?un(g):$n(g)}u&&(e[n+1]=r?pc(o):mc(o))}function ES(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&si(e,t)>=0}function Ys(e,t){return function dn(e,t,n,r){const i=G(),o=Ie(),s=function Hn(e){const t=ae.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function Kg(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Ct()],s=function Yg(e,t){return t>=e.expandoStartIndex}(e,n);(function tm(e,t){return 0!=(e.flags&(t?16:32))})(o,r)&&null===t&&!s&&(t=!1),t=function xS(e,t,n,r){const i=function Au(e){const t=ae.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Eo(n=el(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=el(i,e,t,n,r),null===o){let u=function kS(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==$n(r))return e[un(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=el(null,e,t,u[1],r),u=Eo(u,t.attrs,r),function FS(e,t,n,r){e[un(n?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else o=function NS(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Eo(r,e[o].hostAttrs,n);return Eo(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function bS(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=un(s),u=$n(s);e[r]=n;let g,c=!1;if(Array.isArray(n)){const v=n;g=v[1],(null===g||si(v,g)>0)&&(c=!0)}else g=n;if(i)if(0!==u){const S=un(e[a+1]);e[r+1]=Us(S,a),0!==S&&(e[S+1]=gc(e[S+1],r)),e[a+1]=function R0(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Us(a,0),0!==a&&(e[a+1]=gc(e[a+1],r)),a=r;else e[r+1]=Us(u,0),0===a?a=r:e[u+1]=gc(e[u+1],r),u=r;c&&(e[r+1]=pc(e[r+1])),Hg(e,g,r,!0),Hg(e,g,r,!1),function wS(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&si(o,t)>=0&&(n[r+1]=mc(n[r+1]))}(t,g,e,r,o),s=Us(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==de&&gt(i,s,t)&&function Xg(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Ks(function mp(e){return 1==(1&e)}(c)?em(u,t,n,i,$n(c),s):void 0)||(Ks(o)||function gp(e){return 2==(2&e)}(c)&&(o=em(u,null,n,i,a,s)),function _0(e,t,n,r,i){const o=Ge(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:kt.DashCase;if(null==i)o?e.removeStyle(n,r,s):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=kt.Important),o?e.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,function gs(e,t){return Ke(t[e])}(Ct(),n),i,o))}(o,o.data[Ct()],i,i[11],e,i[s+1]=function jS(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Pe(function sr(e){return e instanceof class Mh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,s)}(e,t,null,!0),Ys}function el(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Eo(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Eo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),xt(e,s,!!n||t[++o]))}return void 0===e?null:e}function em(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const u=e[i],c=Array.isArray(u),g=c?u[1]:u,v=null===g;let S=n[i+1];S===de&&(S=v?ke:void 0);let O=v?Bu(S,r):g===r?S:void 0;if(c&&!Ks(O)&&(O=Bu(u,r)),Ks(O)&&(a=O,s))return a;const V=e[i+1];i=s?un(V):$n(V)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(a=Bu(u,r))}return a}function Ks(e){return void 0!==e}function Se(e,t=""){const n=G(),r=Ie(),i=e+20,o=r.firstCreatePass?di(r,i,1,t,null):r.data[i],s=n[i]=function sc(e,t){return Ge(e)?e.createText(t):e.createTextNode(t)}(n[11],t);js(r,n,s,o),bn(o,!1)}const Js="en-US";let Em=Js;function il(e,t,n,r,i){if(e=pe(e),Array.isArray(e))for(let o=0;o<e.length;o++)il(e[o],t,n,r,i);else{const o=Ie(),s=G();let a=gi(e)?e:pe(e.provide),u=Zp(e);const c=tt(),g=1048575&c.providerIndexes,v=c.directiveStart,S=c.providerIndexes>>20;if(gi(e)||!e.multi){const O=new Yi(u,i,W),V=sl(a,t,i?g:g+S,v);-1===V?(Ms(Ji(c,s),o,a),ol(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(O),s.push(O)):(n[V]=O,s[V]=O)}else{const O=sl(a,t,g+S,v),V=sl(a,t,g,g+S),$=O>=0&&n[O],q=V>=0&&n[V];if(i&&!q||!i&&!$){Ms(Ji(c,s),o,a);const Q=function iM(e,t,n,r,i){const o=new Yi(e,n,W);return o.multi=[],o.index=t,o.componentProviders=0,Qm(o,i,r&&!n),o}(i?rM:nM,n.length,i,r,u);!i&&q&&(n[V].providerFactory=Q),ol(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(Q),s.push(Q)}else ol(o,e,O>-1?O:V,Qm(n[i?V:O],u,!i&&r));!i&&r&&q&&n[V].componentProviders++}}}function ol(e,t,n,r){const i=gi(t),o=function EE(e){return!!e.useClass}(t);if(i||o){const u=(o?pe(t.useClass):t).prototype.ngOnDestroy;if(u){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const g=c.indexOf(n);-1===g?c.push(n,[r,u]):c[g+1].push(r,u)}else c.push(n,u)}}}function Qm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function nM(e,t,n,r){return al(this.multi,[])}function rM(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Xi(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),al(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],al(i,o);return o}function al(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ue(e,t=[]){return n=>{n.providersResolver=(r,i)=>function tM(e,t,n){const r=Ie();if(r.firstCreatePass){const i=sn(e);il(n,r.data,r.blueprint,i,!0),il(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Zm{}class aM{resolveComponentFactory(t){throw function sM(e){const t=Error(`No component factory found for ${Pe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ao=(()=>{class e{}return e.NULL=new aM,e})();function uM(){return Pi(tt(),G())}function Pi(e,t){return new Lt(qt(e,t))}let Lt=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=uM,e})();function cM(e){return e instanceof Lt?e.nativeElement:e}class Km{}let zn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function dM(){const e=G(),n=Ot(tt().index,e);return function lM(e){return e[11]}(Dn(n)?n:e)}(),e})(),fM=(()=>{class e{}return e.\u0275prov=Ee({token:e,providedIn:"root",factory:()=>null}),e})();class Po{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hM=new Po("13.2.6"),ul={};function ra(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(Ke(o)),on(o))for(let a=10;a<o.length;a++){const u=o[a],c=u[1].firstChild;null!==c&&ra(u[1],u,c,r)}const s=n.type;if(8&s)ra(e,t,n.child,r);else if(32&s){const a=rc(n,t);let u;for(;u=a();)r.push(u)}else if(16&s){const a=ip(t,n);if(Array.isArray(a))r.push(...a);else{const u=go(t[16]);ra(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ro{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return ra(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(on(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(uc(t,r),As(n,r))}this._attachedToViewContainer=!1}Zh(this._lView[1],this._lView)}onDestroy(t){Pp(this._lView[1],this._lView,null,t)}markForCheck(){Rc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){xc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function hE(e,t,n){ys(!0);try{xc(e,t,n)}finally{ys(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c0(e,t){mo(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=t}}class pM extends Ro{constructor(t){super(t),this._view=t}detectChanges(){jp(this._view)}checkNoChanges(){!function pE(e){ys(!0);try{jp(e)}finally{ys(!1)}}(this._view)}get context(){return null}}class Jm extends Ao{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=dt(t);return new cl(n,this.ngModule)}}function Xm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class cl extends Zm{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function A0(e){return e.map(I0).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Xm(this.componentDef.inputs)}get outputs(){return Xm(this.componentDef.outputs)}create(t,n,r,i){const o=(i=i||this.ngModule)?function mM(e,t){return{get:(n,r,i)=>{const o=e.get(n,ul,i);return o!==ul||r===ul?o:t.get(n,r,i)}}}(t,i.injector):t,s=o.get(Km,Bf),a=o.get(fM,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",g=r?function Ap(e,t,n){if(Ge(e))return e.selectRootElement(t,n===_n.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(u,r,this.componentDef.encapsulation):ac(s.createRenderer(null,this.componentDef),c,function gM(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),v=this.componentDef.onPush?576:528,S=function ag(e,t){return{components:[],scheduler:e||e0,clean:gE,playerHandler:t||null,flags:0}}(),O=Gs(0,null,null,1,0,null,null,null,null,null),V=yo(null,O,S,v,null,null,s,u,a,o);let $,q;vs(V);try{const Q=function og(e,t,n,r,i,o){const s=n[1];n[20]=e;const u=di(s,20,2,"#host",null),c=u.mergedAttrs=t.hostAttrs;null!==c&&(Ws(u,c,!0),null!==e&&(ws(i,e,c),null!==u.classes&&hc(i,e,u.classes),null!==u.styles&&ap(i,e,u.styles)));const g=r.createRenderer(e,t),v=yo(n,Mp(t),null,t.onPush?64:16,n[20],u,r,g,o||null,null);return s.firstCreatePass&&(Ms(Ji(u,n),s,t.type),Fp(s,u),Np(u,n.length,1)),zs(n,v),n[20]=v}(g,this.componentDef,V,s,u);if(g)if(r)ws(u,g,["ng-version",hM.full]);else{const{attrs:H,classes:J}=function P0(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!an(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);H&&ws(u,g,H),J&&J.length>0&&hc(u,g,J.join(" "))}if(q=wu(O,20),void 0!==n){const H=q.projection=[];for(let J=0;J<this.ngContentSelectors.length;J++){const ye=n[J];H.push(null!=ye?Array.from(ye):null)}}$=function sg(e,t,n,r,i){const o=n[1],s=function K0(e,t,n){const r=tt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Lp(e,r,t,fi(e,t,1,null),n));const i=Xi(t,e,r.directiveStart,r);pt(i,t);const o=qt(r,t);return o&&pt(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(u=>u(s,t)),t.contentQueries){const u=tt();t.contentQueries(1,s,u.directiveStart)}const a=tt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(rr(a.index),xp(n[1],a,0,a.directiveStart,a.directiveEnd,t),kp(t,s)),s}(Q,this.componentDef,V,S,[FE]),vo(O,V,null)}finally{_s()}return new vM(this.componentType,$,Pi(q,V),V,q)}}class vM extends class oM{}{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new pM(i),this.componentType=t}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Wn{}class ey{}const Ri=new Map;class ry extends Wn{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jm(this);const r=$t(t);this._bootstrapComponents=Sn(r.bootstrap),this._r3Injector=Qp(t,n,[{provide:Wn,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],Pe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=bt.THROW_IF_NOT_FOUND,r=ue.Default){return t===bt||t===Wn||t===Fc?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ll extends ey{constructor(t){super(),this.moduleType=t,null!==$t(t)&&function CM(e){const t=new Set;!function n(r){const i=$t(r,!0),o=i.id;null!==o&&(function ty(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Pe(t)} vs ${Pe(t.name)}`)}(o,Ri.get(o),r),Ri.set(o,r));const s=Sn(i.imports);for(const a of s)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new ry(this.moduleType,t)}}function hn(e,t,n){const r=function _t(){const e=ae.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}()+e,i=G();return i[r]===de?function In(e,t,n){return e[t]=n}(i,r,n?t.call(n):t()):function Do(e,t){return e[t]}(i,r)}function dl(e){return t=>{setTimeout(e,void 0,t)}}const qe=class LM extends lt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,o,s;let a=t,u=n||(()=>null),c=r;if(t&&"object"==typeof t){const v=t;a=null===(i=v.next)||void 0===i?void 0:i.bind(v),u=null===(o=v.error)||void 0===o?void 0:o.bind(v),c=null===(s=v.complete)||void 0===s?void 0:s.bind(v)}this.__isAsync&&(u=dl(u),a&&(a=dl(a)),c&&(c=dl(c)));const g=super.subscribe({next:a,error:u,complete:c});return t instanceof b&&t.add(g),g}};function VM(){return this._results[mi()]()}class fl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=mi(),r=fl.prototype;r[n]||(r[n]=VM)}get changes(){return this._changes||(this._changes=new qe)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Qt(t);(this._changesDetected=!function Vb(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qn=(()=>{class e{}return e.__NG_ELEMENT_ID__=UM,e})();const jM=qn,BM=class extends jM{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=yo(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),vo(n,r,t),new Ro(r)}};function UM(){return ia(tt(),G())}function ia(e,t){return 4&e.type?new BM(t,e,Pi(e,t)):null}let pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=HM,e})();function HM(){return dy(tt(),G())}const $M=pn,cy=class extends $M{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Pi(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ts(this._hostTNode,this._hostLView);if(nh(t)){const n=ei(t,this._hostLView),r=Xr(t);return new ti(n[1].data[r+8],n)}return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ly(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,o){const s=t&&!function no(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.ngModuleRef}const u=s?t:new cl(dt(t)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const S=(s?c:this.parentInjector).get(Wn,null);S&&(o=S)}const g=u.create(c,i,void 0,o);return this.insert(g.hostView,a),g}insert(t,n){const r=t._lView,i=r[1];if(function ib(e){return on(e[3])}(r)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const v=r[3],S=new cy(v,v[6],v[3]);S.detach(S.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function d0(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],fh(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function f0(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,s,o);const a=dc(o,s),u=r[11],c=Vs(u,s[7]);return null!==c&&function u0(e,t,n,r,i,o){r[0]=i,r[6]=t,mo(e,r,n,1,i,o)}(i,s[6],u,r,c,a),t.attachToViewContainerRef(),fh(hl(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ly(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);r&&(As(hl(this._lContainer),n),Zh(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);return r&&null!=As(hl(this._lContainer),n)?new Ro(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function ly(e){return e[8]}function hl(e){return e[8]||(e[8]=[])}function dy(e,t){let n;const r=t[e.index];if(on(r))n=r;else{let i;if(8&e.type)i=Ke(r);else{const o=t[11];i=o.createComment("");const s=qt(e,t);Ir(o,Vs(o,s),i,function m0(e,t){return Ge(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=Vp(r,t,i,e),zs(t,n)}return new cy(n,e,t)}class pl{constructor(t){this.queryList=t,this.matches=null}clone(){return new pl(this.queryList)}setDirty(){this.queryList.setDirty()}}class gl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new gl(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==my(t,n).matches&&this.queries[n].setDirty()}}class fy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class ml{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new ml(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yl{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new yl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,WM(n,o)),this.matchTNodeWithReadOption(t,n,Is(n,t,o,!1,!1))}else r===qn?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Is(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Lt||i===pn||i===qn&&4&n.type)this.addMatch(n.index,-2);else{const o=Is(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function WM(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function QM(e,t,n,r){return-1===n?function qM(e,t){return 11&e.type?Pi(e,t):4&e.type?ia(e,t):null}(t,e):-2===n?function ZM(e,t,n){return n===Lt?Pi(t,e):n===qn?ia(t,e):n===pn?dy(t,e):void 0}(e,t,r):Xi(e,e[1],n,t)}function hy(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:QM(t,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function vl(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=hy(e,t,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],g=t[-u];for(let v=10;v<g.length;v++){const S=g[v];S[17]===S[3]&&vl(S[1],S,c,r)}if(null!==g[9]){const v=g[9];for(let S=0;S<v.length;S++){const O=v[S];vl(O[1],O,c,r)}}}}}return r}function Rr(e){const t=G(),n=Ie(),r=qf();Pu(r+1);const i=my(n,r);if(e.dirty&&Uf(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?vl(n,t,r,[]):hy(n,t,i,r);e.reset(o,cM),e.notifyOnChanges()}return!0}return!1}function ko(e,t,n){const r=Ie();r.firstCreatePass&&(function gy(e,t,n){null===e.queries&&(e.queries=new ml),e.queries.track(new yl(t,n))}(r,new fy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function py(e,t,n){const r=new fl(4==(4&n));Pp(e,t,r,r.destroy),null===t[19]&&(t[19]=new gl),t[19].queries.push(new pl(r))}(r,G(),t)}function Or(){return function YM(e,t){return e[19].queries[t].queryList}(G(),qf())}function my(e,t){return e.queries.getByIndex(t)}function aa(...e){}const Sl=new De("Application Initializer");let Tl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=aa,this.reject=aa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(wo(o))n.push(o);else if(Kc(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ne(Sl,8))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const No=new De("AppId",{providedIn:"root",factory:function xy(){return`${Ml()}${Ml()}${Ml()}`}});function Ml(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ky=new De("Platform Initializer"),Il=new De("Platform ID"),Fy=new De("appBootstrapListener");let Ny=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();const cr=new De("LocaleId",{providedIn:"root",factory:()=>Kb(cr,ue.Optional|ue.SkipSelf)||function gI(){return"undefined"!=typeof $localize&&$localize.locale||Js}()});class yI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Ly=(()=>{class e{compileModuleSync(n){return new ll(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Sn($t(n).declarations).reduce((s,a)=>{const u=dt(a);return u&&s.push(new cl(u)),s},[]);return new yI(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _I=(()=>Promise.resolve(0))();function Al(e){"undefined"==typeof Zone?_I.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ut{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function CI(){let e=Oe.requestAnimationFrame,t=Oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function wI(e){const t=()=>{!function bI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Oe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rl(e),e.isCheckStableRunning=!0,Pl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Vy(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),jy(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Vy(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),jy(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Rl(e),Pl(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,DI,aa,aa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const DI={};function Pl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Vy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function jy(e){e._nesting--,Pl(e)}class EI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let Ol=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),Al(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Al(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(ne(ut))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})(),By=(()=>{class e{constructor(){this._applications=new Map,xl.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return xl.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();class SI{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let gn,xl=new SI;const Uy=new De("AllowMultipleToken");class Hy{constructor(t,n){this.name=t,this.token=n}}function $y(e,t,n=[]){const r=`Platform: ${t}`,i=new De(r);return(o=[])=>{let s=Gy();if(!s||s.injector.get(Uy,!1))if(e)e(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:Nc,useValue:"platform"});!function AI(e){if(gn&&!gn.destroyed&&!gn.injector.get(Uy,!1))throw new Me(400,"");gn=e.get(zy);const t=e.get(ky,null);t&&t.forEach(n=>n())}(bt.create({providers:a,name:r}))}return function PI(e){const t=Gy();if(!t)throw new Me(401,"");return t}()}}function Gy(){return gn&&!gn.destroyed?gn:null}let zy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function RI(e,t){let n;return n="noop"===e?new EI:("zone.js"===e?void 0:e)||new ut({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:ut,useValue:a}];return a.run(()=>{const c=bt.create({providers:u,parent:this.injector,name:n.moduleType.name}),g=n.create(c),v=g.injector.get(po,null);if(!v)throw new Me(402,"");return a.runOutsideAngular(()=>{const S=a.onError.subscribe({next:O=>{v.handleError(O)}});g.onDestroy(()=>{Fl(this._modules,g),S.unsubscribe()})}),function OI(e,t,n){try{const r=n();return wo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(v,a,()=>{const S=g.injector.get(Tl);return S.runInitializers(),S.donePromise.then(()=>(function lT(e){Pt(e,"Expected localeId to be defined"),"string"==typeof e&&(Em=e.toLowerCase().replace(/_/g,"-"))}(g.injector.get(cr,Js)||Js),this._moduleDoBootstrap(g),g))})})}bootstrapModule(n,r=[]){const i=Wy({},r);return function MI(e,t,n){const r=new ll(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(kl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Me(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ne(bt))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();function Wy(e,t){return Array.isArray(t)?t.reduce(Wy,e):Object.assign(Object.assign({},e),t)}let kl=(()=>{class e{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new se(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new se(c=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),Al(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});this.isStable=function wD(...e){const t=Gi(e),n=function mD(e,t){return"number"==typeof iu(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?vn(r[0]):$i(n)(st(r,t)):Vn}(a,u.pipe(function ED(e={}){const{connector:t=(()=>new lt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s=null,a=null,u=null,c=0,g=!1,v=!1;const S=()=>{null==a||a.unsubscribe(),a=null},O=()=>{S(),s=u=null,g=v=!1},V=()=>{const $=s;O(),null==$||$.unsubscribe()};return Qe(($,q)=>{c++,!v&&!g&&S();const Q=u=null!=u?u:t();q.add(()=>{c--,0===c&&!v&&!g&&(a=ou(V,i))}),Q.subscribe(q),s||(s=new x({next:H=>Q.next(H),error:H=>{v=!0,S(),a=ou(O,n,H),Q.error(H)},complete:()=>{g=!0,S(),a=ou(O,r),Q.complete()}}),st($).subscribe(s))})(o)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Me(405,"");let i;i=n instanceof Zm?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function II(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Wn),a=i.create(bt.NULL,[],r||i.selector,o),u=a.location.nativeElement,c=a.injector.get(Ol,null),g=c&&a.injector.get(By);return c&&g&&g.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Fl(this.components,a),g&&g.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Fl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Fy,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(ne(ut),ne(bt),ne(po),ne(Ao),ne(Tl))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Fl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Qy=!0,ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=FI,e})();function FI(e){return function NI(e,t,n){if(hs(e)&&!n){const r=Ot(e.index,t);return new Ro(r,r)}return 47&e.type?new Ro(t[16],t):null}(tt(),G(),16==(16&e))}const ZI=$y(null,"core",[{provide:Il,useValue:"unknown"},{provide:zy,deps:[bt]},{provide:By,deps:[]},{provide:Ny,deps:[]}]);let YI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ne(kl))},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({}),e})(),fa=null;function On(){return fa}const Kt=new De("DocumentToken");let kr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:function(){return function eA(){return ne(ov)}()},providedIn:"platform"}),e})();const tA=new De("Location Initialized");let ov=(()=>{class e extends kr{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return On().getBaseHref(this._doc)}onPopState(n){const r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){sv()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){sv()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ne(Kt))},e.\u0275prov=Ee({token:e,factory:function(){return function nA(){return new ov(ne(Kt))}()},providedIn:"platform"}),e})();function sv(){return!!window.history.pushState}function Bl(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function av(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Qn(e){return e&&"?"!==e[0]?"?"+e:e}let xi=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:function(){return function rA(e){const t=ne(Kt).location;return new uv(ne(kr),t&&t.origin||"")}()},providedIn:"root"}),e})();const Ul=new De("appBaseHref");let uv=(()=>{class e extends xi{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bl(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Qn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Qn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Qn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(ne(kr),ne(Ul,8))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})(),iA=(()=>{class e extends xi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Bl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(ne(kr),ne(Ul,8))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})(),Hl=(()=>{class e{constructor(n,r){this._subject=new qe,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=av(cv(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qn(r))}normalize(n){return e.stripTrailingSlash(function sA(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,cv(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qn(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qn(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Qn,e.joinWithSlash=Bl,e.stripTrailingSlash=av,e.\u0275fac=function(n){return new(n||e)(ne(xi),ne(kr))},e.\u0275prov=Ee({token:e,factory:function(){return function oA(){return new Hl(ne(xi),ne(kr))}()},providedIn:"root"}),e})();function cv(e){return e.replace(/\/index.html$/,"")}let _v=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new QA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Cv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Cv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(W(pn),W(qn))},e.\u0275dir=oe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class QA{constructor(){this.$implicit=null,this.ngIf=null}}function Cv(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Pe(t)}'.`)}let DP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({}),e})();let SP=(()=>{class e{}return e.\u0275prov=Ee({token:e,providedIn:"root",factory:()=>new TP(ne(Kt),window)}),e})();class TP{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function MP(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ev(this.window.history)||Ev(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ev(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class nd extends class AP extends class XI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function JI(e){fa||(fa=e)}(new nd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function PP(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}();return null==n?null:function RP(e){ba=ba||document.createElement("a"),ba.setAttribute("href",e);const t=ba.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function $A(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ba,Bo=null;const Sv=new De("TRANSITION_ID"),xP=[{provide:Sl,useFactory:function OP(e,t,n){return()=>{n.get(Tl).donePromise.then(()=>{const r=On(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Sv,Kt,bt],multi:!0}];class rd{static init(){!function TI(e){xl=e}(new rd)}addToWindow(t){Oe.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Oe.getAllAngularTestabilities=()=>t.getAllTestabilities(),Oe.getAllAngularRootElements=()=>t.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(r=>{const i=Oe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?On().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let kP=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();const wa=new De("EventManagerPlugins");let Ea=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ne(wa),ne(ut))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();class Tv{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=On().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Mv=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})(),Uo=(()=>{class e extends Mv{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Iv),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Iv))}}return e.\u0275fac=function(n){return new(n||e)(ne(Kt))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();function Iv(e){On().remove(e)}const id={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},od=/%COMP%/g;function Sa(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Sa(e,i,n):(i=i.replace(od,e),n.push(i))}return n}function Rv(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let sd=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ad(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case _n.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new BP(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case _n.ShadowDom:return new UP(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Sa(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ne(Ea),ne(Uo),ne(No))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();class ad{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(id[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=id[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=id[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(kt.DashCase|kt.Important)?t.style.setProperty(n,r,i&kt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&kt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,Rv(r)):this.eventManager.addEventListener(t,n,Rv(r))}}class BP extends ad{constructor(t,n,r,i){super(t),this.component=r;const o=Sa(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function LP(e){return"_ngcontent-%COMP%".replace(od,e)}(i+"-"+r.id),this.hostAttr=function VP(e){return"_nghost-%COMP%".replace(od,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class UP extends ad{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Sa(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let HP=(()=>{class e extends Tv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(ne(Kt))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();const xv=["alt","control","meta","shift"],GP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kv={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let WP=(()=>{class e extends Tv{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>On().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="";if(xv.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function qP(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&kv.hasOwnProperty(t)&&(t=kv[t]))}return GP[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xv.forEach(o=>{o!=i&&zP[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{e.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ne(Kt))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();const KP=$y(ZI,"browser",[{provide:Il,useValue:"browser"},{provide:ky,useValue:function QP(){nd.makeCurrent(),rd.init()},multi:!0},{provide:Kt,useFactory:function YP(){return function eb(e){Du=e}(document),document},deps:[]}]),JP=[{provide:Nc,useValue:"root"},{provide:po,useFactory:function ZP(){return new po},deps:[]},{provide:wa,useClass:HP,multi:!0,deps:[Kt,ut,Il]},{provide:wa,useClass:WP,multi:!0,deps:[Kt]},{provide:sd,useClass:sd,deps:[Ea,Uo,No]},{provide:Km,useExisting:sd},{provide:Mv,useExisting:Uo},{provide:Uo,useClass:Uo,deps:[Kt]},{provide:Ol,useClass:Ol,deps:[ut]},{provide:Ea,useClass:Ea,deps:[wa,ut]},{provide:class IP{},useClass:kP,deps:[]}];let XP=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:No,useValue:n.appId},{provide:Sv,useExisting:No},xP]}}}return e.\u0275fac=function(n){return new(n||e)(ne(e,12))},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({providers:JP,imports:[DP,YI]}),e})();"undefined"!=typeof window&&window;const{isArray:lR}=Array,{getPrototypeOf:dR,prototype:fR,keys:hR}=Object;function Lv(e){if(1===e.length){const t=e[0];if(lR(t))return{args:t,keys:null};if(function pR(e){return e&&"object"==typeof e&&dR(e)===fR}(t)){const n=hR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:gR}=Array;function Vv(e){return we(t=>function mR(e,t){return gR(t)?e(...t):e(t)}(e,t))}function jv(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}let Bv=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(W(zn),W(Lt))},e.\u0275dir=oe({type:e}),e})(),Fr=(()=>{class e extends Bv{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=ht(e)))(r||e)}}(),e.\u0275dir=oe({type:e,features:[Re]}),e})();const xn=new De("NgValueAccessor"),mt=new De("NgValidators"),fr=new De("NgAsyncValidators");function Kv(e){return null!=e}function Jv(e){const t=wo(e)?st(e):e;return Kc(t),t}function Xv(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function e_(e,t){return t.map(n=>n(e))}function t_(e){return e.map(t=>function wR(e){return!e.validate}(t)?t:n=>t.validate(n))}function ld(e){return null!=e?function n_(e){if(!e)return null;const t=e.filter(Kv);return 0==t.length?null:function(n){return Xv(e_(n,t))}}(t_(e)):null}function dd(e){return null!=e?function r_(e){if(!e)return null;const t=e.filter(Kv);return 0==t.length?null:function(n){return function yR(...e){const t=bf(e),{args:n,keys:r}=Lv(e),i=new se(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let g=0;g<s;g++){let v=!1;vn(n[g]).subscribe($e(o,S=>{v||(v=!0,c--),a[g]=S},()=>u--,void 0,()=>{(!u||!v)&&(c||o.next(r?jv(r,a):a),o.complete())}))}});return t?i.pipe(Vv(t)):i}(e_(n,t).map(Jv)).pipe(we(Xv))}}(t_(e)):null}function i_(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function fd(e){return e?Array.isArray(e)?e:[e]:[]}function Ma(e,t){return Array.isArray(e)?e.includes(t):e===t}function a_(e,t){const n=fd(t);return fd(e).forEach(i=>{Ma(n,i)||n.push(i)}),n}function u_(e,t){return fd(t).filter(n=>!Ma(e,n))}class St extends class c_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ld(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}{get formDirective(){return null}get path(){return null}}let d_=(()=>{class e extends class l_{constructor(t){this._cd=t}is(t){var n,r,i;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(W(St,10))},e.\u0275dir=oe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ys("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Re]}),e})();function Ra(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function gd(e,t){const n=function o_(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(i_(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function s_(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(i_(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Ra(t._rawValidators,i),Ra(t._rawAsyncValidators,i)}function h_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function vd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $o="VALID",xa="INVALID",ki="PENDING",Go="DISABLED";function Cd(e){return(ka(e)?e.validators:e)||null}function m_(e){return Array.isArray(e)?ld(e):e||null}function Dd(e,t){return(ka(t)?t.asyncValidators:e)||null}function y_(e){return Array.isArray(e)?dd(e):e||null}function ka(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const bd=e=>e instanceof Ed;function __(e){return(e=>e instanceof b_)(e)?e.value:e.getRawValue()}function C_(e,t){const n=bd(e),r=e.controls;if(!(n?Object.keys(r):r).length)throw new Me(1e3,"");if(!r[t])throw new Me(1001,"")}function D_(e,t){bd(e),e._forEachChild((r,i)=>{if(void 0===t[i])throw new Me(1002,"")})}class wd{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=m_(this._rawValidators),this._composedAsyncValidatorFn=y_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$o}get invalid(){return this.status===xa}get pending(){return this.status==ki}get disabled(){return this.status===Go}get enabled(){return this.status!==Go}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=m_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=y_(t)}addValidators(t){this.setValidators(a_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(a_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(u_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(u_(t,this._rawAsyncValidators))}hasValidator(t){return Ma(this._rawValidators,t)}hasAsyncValidator(t){return Ma(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ki,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Go,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=$o,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$o||this.status===ki)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Go:$o}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ki,this._hasOwnPendingAsyncValidator=!0;const n=Jv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function VR(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(n)),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(i=>{r=bd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(e=>e instanceof BR)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Go:this.errors?xa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ki)?ki:this._anyControlsHaveStatus(xa)?xa:$o}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ka(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class b_ extends wd{constructor(t=null,n,r){super(Cd(n),Dd(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ka(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vd(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vd(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ed extends wd{constructor(t,n,r){super(Cd(n),Dd(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){D_(this,t),Object.keys(t).forEach(r=>{C_(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=__(n),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class BR extends wd{constructor(t,n,r){super(Cd(n),Dd(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){D_(this,t),t.forEach((r,i)=>{C_(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>__(t))}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const UR={provide:St,useExisting:Fe(()=>Fa)},zo=(()=>Promise.resolve(null))();let Fa=(()=>{class e extends St{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new Ed({},ld(n),dd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){zo.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),function Ho(e,t){gd(e,t),t.valueAccessor.writeValue(e.value),function OR(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&h_(e,t)})}(e,t),function kR(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function xR(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&h_(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function RR(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){zo.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){zo.then(()=>{const r=this._findContainer(n.path),i=new Ed({});(function p_(e,t){gd(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){zo.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){zo.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function g_(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(W(mt,10),W(fr,10))},e.\u0275dir=oe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Nt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([UR]),Re]}),e})(),M_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=oe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),A_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({}),e})();const XR={provide:xn,useExisting:Fe(()=>Id),multi:!0};function N_(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Id=(()=>{class e extends Fr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=N_(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function e1(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=ht(e)))(r||e)}}(),e.\u0275dir=oe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Nt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([XR]),Re]}),e})(),L_=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(N_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(W(Lt),W(zn),W(Id,9))},e.\u0275dir=oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const t1={provide:xn,useExisting:Fe(()=>Ad),multi:!0};function V_(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Ad=(()=>{class e extends Fr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function n1(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=ht(e)))(r||e)}}(),e.\u0275dir=oe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Nt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([t1]),Re]}),e})(),j_=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(V_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(V_(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(W(Lt),W(zn),W(Ad,9))},e.\u0275dir=oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),f1=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({imports:[[A_]]}),e})(),h1=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({imports:[f1]}),e})();function he(...e){return st(e,Gi(e))}class Vt extends lt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Z_(e,t,n){e?Ln(n,e,t):t()}function Na(e,t){const n=U(e)?e:()=>e,r=i=>i.error(n());return new se(t?i=>t.schedule(r,0,i):r)}const La=X(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Rd(...e){return function m1(){return $i(1)}()(st(e,Gi(e)))}function Y_(e){return new se(t=>{vn(e()).subscribe(t)})}function K_(){return Qe((e,t)=>{let n=null;e._refCount++;const r=$e(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class y1 extends se{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ht(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new b;const n=this.getSubject();t.add(this.source.subscribe($e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=b.EMPTY)}return t}refCount(){return K_()(this)}}function Lr(e,t){return Qe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe($e(r,u=>{null==i||i.unsubscribe();let c=0;const g=o++;vn(e(u,g)).subscribe(i=$e(r,v=>r.next(t?t(u,v,g,c++):v),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function _1(e,t,n,r,i){return(o,s)=>{let a=n,u=t,c=0;o.subscribe($e(s,g=>{const v=c++;u=a?e(u,g,v):(a=!0,g),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function J_(e,t){return Qe(_1(e,t,arguments.length>=2,!0))}function Fi(e,t){return Qe((n,r)=>{let i=0;n.subscribe($e(r,o=>e.call(t,o,i++)&&r.next(o)))})}function pr(e){return Qe((t,n)=>{let o,r=null,i=!1;r=t.subscribe($e(n,void 0,void 0,s=>{o=vn(e(s,pr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Wo(e,t){return U(t)?ot(e,t,1):ot(e,1)}function Od(e){return e<=0?()=>Vn:Qe((t,n)=>{let r=[];t.subscribe($e(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function X_(e=C1){return Qe((t,n)=>{let r=!1;t.subscribe($e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function C1(){return new La}function eC(e){return Qe((t,n)=>{let r=!1;t.subscribe($e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Ni(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Fi((i,o)=>e(i,o,r)):Z,ss(1),n?eC(t):X_(()=>new La))}function jt(e,t,n){const r=U(e)||t||n?{next:e,error:t,complete:n}:e;return r?Qe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe($e(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Z}class Yn{constructor(t,n){this.id=t,this.url=n}}class xd extends Yn{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qo extends Yn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tC extends Yn{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class w1 extends Yn{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class E1 extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S1 extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T1 extends Yn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M1 extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I1 extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A1{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P1{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R1{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O1{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iC{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _e="primary";class x1{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Li(e){return new x1(e)}const oC="ngNavigationCancelingError";function kd(e){const t=Error("NavigationCancelingError: "+e);return t[oC]=!0,t}function F1(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function kn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sC(e[i],t[i]))return!1;return!0}function sC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function aC(e){return Array.prototype.concat.apply([],e)}function uC(e){return e.length>0?e[e.length-1]:null}function ct(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Fn(e){return Kc(e)?e:wo(e)?st(Promise.resolve(e)):he(e)}const V1={exact:function dC(e,t,n){if(!jr(e.segments,t.segments)||!Va(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!dC(e.children[r],t.children[r],n))return!1;return!0},subset:fC},cC={exact:function j1(e,t){return kn(e,t)},subset:function B1(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>sC(e[n],t[n]))},ignored:()=>!0};function lC(e,t,n){return V1[n.paths](e.root,t.root,n.matrixParams)&&cC[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function fC(e,t,n){return hC(e,t,t.segments,n)}function hC(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!jr(i,n)||t.hasChildren()||!Va(i,n,r))}if(e.segments.length===n.length){if(!jr(e.segments,n)||!Va(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!fC(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(jr(e.segments,i)&&Va(e.segments,i,r)&&e.children[_e])&&hC(e.children[_e],t,o,r)}}function Va(e,t,n){return t.every((r,i)=>cC[n](e[i].parameters,r.parameters))}class Vr{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Li(this.queryParams)),this._queryParamMap}toString(){return $1.serialize(this)}}class Te{constructor(t,n){this.segments=t,this.children=n,this.parent=null,ct(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ja(this)}}class Qo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Li(this.parameters)),this._parameterMap}toString(){return vC(this)}}function jr(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class pC{}class gC{parse(t){const n=new J1(t);return new Vr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Zo(t.root,!0)}`,r=function W1(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Ba(n)}=${Ba(i)}`).join("&"):`${Ba(n)}=${Ba(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function G1(e){return encodeURI(e)}(t.fragment)}`:""}`}}const $1=new gC;function ja(e){return e.segments.map(t=>vC(t)).join("/")}function Zo(e,t){if(!e.hasChildren())return ja(e);if(t){const n=e.children[_e]?Zo(e.children[_e],!1):"",r=[];return ct(e.children,(i,o)=>{o!==_e&&r.push(`${o}:${Zo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function H1(e,t){let n=[];return ct(e.children,(r,i)=>{i===_e&&(n=n.concat(t(r,i)))}),ct(e.children,(r,i)=>{i!==_e&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===_e?[Zo(e.children[_e],!1)]:[`${i}:${Zo(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[_e]?`${ja(e)}/${n[0]}`:`${ja(e)}/(${n.join("//")})`}}function mC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ba(e){return mC(e).replace(/%3B/gi,";")}function Fd(e){return mC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ua(e){return decodeURIComponent(e)}function yC(e){return Ua(e.replace(/\+/g,"%20"))}function vC(e){return`${Fd(e.path)}${function z1(e){return Object.keys(e).map(t=>`;${Fd(t)}=${Fd(e[t])}`).join("")}(e.parameters)}`}const q1=/^[^\/()?;=#]+/;function Ha(e){const t=e.match(q1);return t?t[0]:""}const Q1=/^[^=?&#]+/,Y1=/^[^&#]+/;class J1{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[_e]=new Te(t,n)),r}parseSegment(){const t=Ha(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Qo(Ua(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Ha(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ha(this.remaining);i&&(r=i,this.capture(r))}t[Ua(n)]=Ua(r)}parseQueryParam(t){const n=function Z1(e){const t=e.match(Q1);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function K1(e){const t=e.match(Y1);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=yC(n),o=yC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ha(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=_e);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[_e]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _C{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Nd(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Nd(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Ld(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ld(t,this._root).map(n=>n.value)}}function Nd(e,t){if(e===t.value)return t;for(const n of t.children){const r=Nd(e,n);if(r)return r}return null}function Ld(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ld(e,n);if(r.length)return r.unshift(t),r}return[]}class Kn{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Vi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class CC extends _C{constructor(t,n){super(t),this.snapshot=n,Vd(this,t)}toString(){return this.snapshot.toString()}}function DC(e,t){const n=function X1(e,t){const s=new $a([],{},{},"",{},_e,t,null,e.root,-1,{});return new wC("",new Kn(s,[]))}(e,t),r=new Vt([new Qo("",{})]),i=new Vt({}),o=new Vt({}),s=new Vt({}),a=new Vt(""),u=new gr(r,i,s,a,o,_e,t,n.root);return u.snapshot=n.root,new CC(new Kn(u,[]),n)}class gr{constructor(t,n,r,i,o,s,a,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>Li(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>Li(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bC(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function eO(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $a{constructor(t,n,r,i,o,s,a,u,c,g,v){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Li(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Li(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wC extends _C{constructor(t,n){super(n),this.url=t,Vd(this,n)}toString(){return EC(this._root)}}function Vd(e,t){t.value._routerState=e,t.children.forEach(n=>Vd(e,n))}function EC(e){const t=e.children.length>0?` { ${e.children.map(EC).join(", ")} } `:"";return`${e.value}${t}`}function jd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,kn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),kn(t.params,n.params)||e.params.next(n.params),function N1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!kn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),kn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Bd(e,t){const n=kn(e.params,t.params)&&function U1(e,t){return jr(e,t)&&e.every((n,r)=>kn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Bd(e.parent,t.parent))}function Yo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function nO(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Yo(e,r,i);return Yo(e,r)})}(e,t,n);return new Kn(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Yo(e,a)),s}}const r=function rO(e){return new gr(new Vt(e.url),new Vt(e.params),new Vt(e.queryParams),new Vt(e.fragment),new Vt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Yo(e,o));return new Kn(r,i)}}function Ga(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ko(e){return"object"==typeof e&&null!=e&&e.outlets}function Ud(e,t,n,r,i){let o={};return r&&ct(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(u=>`${u}`):`${s}`}),new Vr(n.root===e?t:SC(n.root,e,t),o,i)}function SC(e,t,n){const r={};return ct(e.children,(i,o)=>{r[o]=i===t?n:SC(i,t,n)}),new Te(e.segments,r)}class TC{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ga(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ko);if(i&&i!==uC(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hd{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function MC(e,t,n){if(e||(e=new Te([],{})),0===e.segments.length&&e.hasChildren())return za(e,t,n);const r=function cO(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Ko(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!AC(u,c,s))return o;r+=2}else{if(!AC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Te(e.segments.slice(0,r.pathIndex),{});return o.children[_e]=new Te(e.segments.slice(r.pathIndex),e.children),za(o,0,i)}return r.match&&0===i.length?new Te(e.segments,{}):r.match&&!e.hasChildren()?$d(e,t,n):r.match?za(e,0,i):$d(e,t,n)}function za(e,t,n){if(0===n.length)return new Te(e.segments,{});{const r=function uO(e){return Ko(e[0])?e[0].outlets:{[_e]:e}}(n),i={};return ct(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=MC(e.children[s],t,o))}),ct(e.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Te(e.segments,i)}}function $d(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Ko(o)){const u=lO(o.outlets);return new Te(r,u)}if(0===i&&Ga(n[0])){r.push(new Qo(e.segments[t].path,IC(n[0]))),i++;continue}const s=Ko(o)?o.outlets[_e]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ga(a)?(r.push(new Qo(s,IC(a))),i+=2):(r.push(new Qo(s,{})),i++)}return new Te(r,{})}function lO(e){const t={};return ct(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=$d(new Te([],{}),0,n))}),t}function IC(e){const t={};return ct(e,(n,r)=>t[r]=`${n}`),t}function AC(e,t,n){return e==n.path&&kn(t,n.parameters)}class fO{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),jd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Vi(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),ct(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=Vi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new O1(o.value.snapshot))}),t.children.length&&this.forwardEvent(new P1(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(jd(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jd(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function hO(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=u,s.outlet&&s.outlet.activateWith(i,u),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Gd{constructor(t,n){this.routes=t,this.module=n}}function mr(e){return"function"==typeof e}function Br(e){return e instanceof Vr}const Jo=Symbol("INITIAL_VALUE");function Xo(){return Lr(e=>function p1(...e){const t=Gi(e),n=bf(e),{args:r,keys:i}=Lv(e);if(0===r.length)return st([],t);const o=new se(function g1(e,t,n=Z){return r=>{Z_(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)Z_(t,()=>{const c=st(e[u],t);let g=!1;c.subscribe($e(r,v=>{o[u]=v,g||(g=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>jv(i,s):Z));return n?o.pipe(Vv(n)):o}(e.map(t=>t.pipe(ss(1),function v1(...e){const t=Gi(e);return Qe((n,r)=>{(t?Rd(e,n,t):Rd(e,n)).subscribe(r)})}(Jo)))).pipe(J_((t,n)=>{let r=!1;return n.reduce((i,o,s)=>i!==Jo?i:(o===Jo&&(r=!0),r||!1!==o&&s!==n.length-1&&!Br(o)?i:o),t)},Jo),Fi(t=>t!==Jo),we(t=>Br(t)?t:!0===t),ss(1)))}class _O{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new es,this.attachRef=null}}class es{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new _O,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let zd=(()=>{class e{constructor(n,r,i,o,s){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.name=o||_e,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const s=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new CO(n,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(W(es),W(pn),W(Ao),eo("name"),W(ua))},e.\u0275dir=oe({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class CO{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===gr?this.route:t===es?this.childContexts:this.parent.get(t,n)}}let PC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=er({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&ln(0,"router-outlet")},directives:[zd],encapsulation:2}),e})();function RC(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];DO(r,bO(t,r))}}function DO(e,t){e.children&&RC(e.children,t)}function bO(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Wd(e){const t=e.children&&e.children.map(Wd),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==_e&&(n.component=PC),n}function en(e){return e.outlet||_e}function OC(e,t){const n=e.filter(r=>en(r)===t);return n.push(...e.filter(r=>en(r)!==t)),n}const xC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wa(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},xC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||F1)(n,e,t);if(!o)return Object.assign({},xC);const s={};ct(o.posParams,(u,c)=>{s[c]=u.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function qa(e,t,n,r,i="corrected"){if(n.length>0&&function SO(e,t,n){return n.some(r=>Qa(e,t,r)&&en(r)!==_e)}(e,n,r)){const s=new Te(t,function EO(e,t,n,r){const i={};i[_e]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&en(o)!==_e){const s=new Te([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,i[en(o)]=s}return i}(e,t,r,new Te(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function TO(e,t,n){return n.some(r=>Qa(e,t,r))}(e,n,r)){const s=new Te(e.segments,function wO(e,t,n,r,i,o){const s={};for(const a of r)if(Qa(e,n,a)&&!i[en(a)]){const u=new Te([],{});u._sourceSegment=e,u._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[en(a)]=u}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const o=new Te(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Qa(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function kC(e,t,n,r){return!!(en(e)===r||r!==_e&&Qa(t,n,e))&&("**"===e.path||Wa(t,e,n).matched)}function FC(e,t,n){return 0===t.length&&!e.children[n]}class Za{constructor(t){this.segmentGroup=t||null}}class NC{constructor(t){this.urlTree=t}}function ts(e){return Na(new Za(e))}function LC(e){return Na(new NC(e))}class PO{constructor(t,n,r,i,o){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Wn)}apply(){const t=qa(this.urlTree.root,[],[],this.config).segmentGroup,n=new Te(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,_e).pipe(we(o=>this.createUrlTree(qd(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pr(o=>{if(o instanceof NC)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Za?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_e).pipe(we(i=>this.createUrlTree(qd(i),t.queryParams,t.fragment))).pipe(pr(i=>{throw i instanceof Za?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new Te([],{[_e]:t}):t;return new Vr(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(we(o=>new Te([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return st(i).pipe(Wo(o=>{const s=r.children[o],a=OC(n,o);return this.expandSegmentGroup(t,a,s,o).pipe(we(u=>({segment:u,outlet:o})))}),J_((o,s)=>(o[s.outlet]=s.segment,o),{}),function D1(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Fi((i,o)=>e(i,o,r)):Z,Od(1),n?eC(t):X_(()=>new La))}())}expandSegment(t,n,r,i,o,s){return st(r).pipe(Wo(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,o,s).pipe(pr(c=>{if(c instanceof Za)return he(null);throw c}))),Ni(a=>!!a),pr((a,u)=>{if(a instanceof La||"EmptyError"===a.name)return FC(n,i,o)?he(new Te([],{})):ts(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,o,s,a){return kC(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s):ts(n):ts(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LC(o):this.lineralizeSegments(r,o).pipe(ot(s=>{const a=new Te(s,{});return this.expandSegment(t,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:g}=Wa(n,i,o);if(!a)return ts(n);const v=this.applyRedirectCommands(u,i.redirectTo,g);return i.redirectTo.startsWith("/")?LC(v):this.lineralizeSegments(i,v).pipe(ot(S=>this.expandSegment(t,n,r,S.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?he(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(we(v=>(r._loadedConfig=v,new Te(i,{})))):he(new Te(i,{}));const{matched:s,consumedSegments:a,remainingSegments:u}=Wa(n,r,i);return s?this.getChildConfig(t,r,i).pipe(ot(g=>{const v=g.module,S=g.routes,{segmentGroup:O,slicedSegments:V}=qa(n,a,u,S),$=new Te(O.segments,O.children);if(0===V.length&&$.hasChildren())return this.expandChildren(v,S,$).pipe(we(J=>new Te(a,J)));if(0===S.length&&0===V.length)return he(new Te(a,{}));const q=en(r)===o;return this.expandSegment(v,$,S,V,q?_e:o,!0).pipe(we(H=>new Te(a.concat(H.segments),H.children)))})):ts(n)}getChildConfig(t,n,r){return n.children?he(new Gd(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?he(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(ot(i=>i?this.configLoader.load(t.injector,n).pipe(we(o=>(n._loadedConfig=o,o))):function IO(e){return Na(kd(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(n))):he(new Gd([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?he(i.map(s=>{const a=t.get(s);let u;if(function gO(e){return e&&mr(e.canLoad)}(a))u=a.canLoad(n,r);else{if(!mr(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Fn(u)})).pipe(Xo(),jt(s=>{if(!Br(s))return;const a=kd(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),we(s=>!0===s)):he(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return he(r);if(i.numberOfChildren>1||!i.children[_e])return Na(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[_e]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Vr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return ct(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return ct(n.children,(a,u)=>{s[u]=this.createSegmentGroup(t,a,r,i)}),new Te(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function qd(e){const t={};for(const r of Object.keys(e.children)){const o=qd(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function RO(e){if(1===e.numberOfChildren&&e.children[_e]){const t=e.children[_e];return new Te(e.segments.concat(t.segments),t.children)}return e}(new Te(e.segments,t))}class VC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ya{constructor(t,n){this.component=t,this.route=n}}function xO(e,t,n){const r=e._root;return ns(r,t?t._root:null,n,[r.value])}function Ka(e,t,n){const r=function FO(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ns(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Vi(t);return e.children.forEach(s=>{(function NO(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function LO(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!jr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!jr(e.url,t.url)||!kn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bd(e,t)||!kn(e.queryParams,t.queryParams);default:return!Bd(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new VC(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ns(e,t,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ya(a.outlet.component,s))}else s&&rs(t,a,i),i.canActivateChecks.push(new VC(r)),ns(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),ct(o,(s,a)=>rs(s,n.getContext(a),i)),i}function rs(e,t,n){const r=Vi(e),i=e.value;ct(r,(o,s)=>{rs(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Ya(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class WO{}function jC(e){return new se(t=>t.error(e))}class QO{constructor(t,n,r,i,o,s){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=qa(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,_e);if(null===n)return null;const r=new $a([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_e,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Kn(r,n),o=new wC(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const n=t.value,r=bC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const o of Object.keys(n.children)){const s=n.children[o],a=OC(t,o),u=this.processSegmentGroup(a,s,o);if(null===u)return null;r.push(...u)}const i=BC(r);return function ZO(e){e.sort((t,n)=>t.value.outlet===_e?-1:n.value.outlet===_e?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(t,n,r,i){for(const o of t){const s=this.processSegmentAgainstRoute(o,n,r,i);if(null!==s)return s}return FC(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!kC(t,n,r,i))return null;let o,s=[],a=[];if("**"===t.path){const O=r.length>0?uC(r).parameters:{};o=new $a(r,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$C(t),en(t),t.component,t,UC(n),HC(n)+r.length,GC(t))}else{const O=Wa(n,t,r);if(!O.matched)return null;s=O.consumedSegments,a=O.remainingSegments,o=new $a(s,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$C(t),en(t),t.component,t,UC(n),HC(n)+s.length,GC(t))}const u=function YO(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:g}=qa(n,s,a,u.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);if(0===g.length&&c.hasChildren()){const O=this.processChildren(u,c);return null===O?null:[new Kn(o,O)]}if(0===u.length&&0===g.length)return[new Kn(o,[])];const v=en(t)===i,S=this.processSegment(u,c,g,v?_e:i);return null===S?null:[new Kn(o,S)]}}function KO(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function BC(e){const t=[],n=new Set;for(const r of e){if(!KO(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=BC(r.children);t.push(new Kn(r.value,i))}return t.filter(r=>!n.has(r))}function UC(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function HC(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function $C(e){return e.data||{}}function GC(e){return e.resolve||{}}function zC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Qd(e){return Lr(t=>{const n=e(t);return n?st(n).pipe(we(()=>t)):he(t)})}class ox extends class ix{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const Zd=new De("ROUTES");class WC{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(we(o=>{this.onLoadEndListener&&this.onLoadEndListener(n);const s=o.create(t);return new Gd(aC(s.injector.get(Zd,void 0,ue.Self|ue.Optional)).map(Wd),s)}),pr(o=>{throw n._loader$=void 0,o}));return n._loader$=new y1(i,()=>new lt).pipe(K_()),n._loader$}loadModuleFactory(t){return Fn(t()).pipe(ot(n=>n instanceof ey?he(n):st(this.compiler.compileModuleAsync(n))))}}class ax{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function ux(e){throw e}function cx(e,t,n){return t.parse("/")}function qC(e,t){return he(null)}const lx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bt=(()=>{class e{constructor(n,r,i,o,s,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt,this.errorHandler=ux,this.malformedUriErrorHandler=cx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qC,afterPreactivation:qC},this.urlHandlingStrategy=new ax,this.routeReuseStrategy=new ox,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Wn),this.console=s.get(Ny);const v=s.get(ut);this.isNgZoneEnabled=v instanceof ut&&ut.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function L1(){return new Vr(new Te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new WC(s,a,S=>this.triggerEvent(new nC(S)),S=>this.triggerEvent(new rC(S))),this.routerState=DC(this.currentUrlTree,this.rootComponentType),this.transitions=new Vt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Fi(i=>0!==i.id),we(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Lr(i=>{let o=!1,s=!1;return he(i).pipe(jt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Lr(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return QC(a.source)&&(this.browserUrlTree=a.extractedUrl),he(a).pipe(Lr(v=>{const S=this.transitions.getValue();return r.next(new xd(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),S!==this.transitions.getValue()?Vn:Promise.resolve(v)}),function OO(e,t,n,r){return Lr(i=>function AO(e,t,n,r,i){return new PO(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(we(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jt(v=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:v.urlAfterRedirects})}),function JO(e,t,n,r,i){return ot(o=>function qO(e,t,n,r,i="emptyOnly",o="legacy"){try{const s=new QO(e,t,n,r,i,o).recognize();return null===s?jC(new WO):he(s)}catch(s){return jC(s)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(we(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),jt(v=>{if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(O,v)}this.browserUrlTree=v.urlAfterRedirects}const S=new E1(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);r.next(S)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:O,source:V,restoredState:$,extras:q}=a,Q=new xd(S,this.serializeUrl(O),V,$);r.next(Q);const H=DC(O,this.rootComponentType).snapshot;return he(Object.assign(Object.assign({},a),{targetSnapshot:H,urlAfterRedirects:O,extras:Object.assign(Object.assign({},q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Vn}),Qd(a=>{const{targetSnapshot:u,id:c,extractedUrl:g,rawUrl:v,extras:{skipLocationChange:S,replaceUrl:O}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:g,rawUrlTree:v,skipLocationChange:!!S,replaceUrl:!!O})}),jt(a=>{const u=new S1(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),we(a=>Object.assign(Object.assign({},a),{guards:xO(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function VO(e,t){return ot(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?he(Object.assign(Object.assign({},n),{guardsResult:!0})):function jO(e,t,n,r){return st(e).pipe(ot(i=>function zO(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?he(o.map(a=>{const u=Ka(a,t,i);let c;if(function vO(e){return e&&mr(e.canDeactivate)}(u))c=Fn(u.canDeactivate(e,t,n,r));else{if(!mr(u))throw new Error("Invalid CanDeactivate guard");c=Fn(u(e,t,n,r))}return c.pipe(Ni())})).pipe(Xo()):he(!0)}(i.component,i.route,n,t,r)),Ni(i=>!0!==i,!0))}(s,r,i,e).pipe(ot(a=>a&&function pO(e){return"boolean"==typeof e}(a)?function BO(e,t,n,r){return st(t).pipe(Wo(i=>Rd(function HO(e,t){return null!==e&&t&&t(new A1(e)),he(!0)}(i.route.parent,r),function UO(e,t){return null!==e&&t&&t(new R1(e)),he(!0)}(i.route,r),function GO(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function kO(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Y_(()=>he(s.guards.map(u=>{const c=Ka(u,s.node,n);let g;if(function yO(e){return e&&mr(e.canActivateChild)}(c))g=Fn(c.canActivateChild(r,e));else{if(!mr(c))throw new Error("Invalid CanActivateChild guard");g=Fn(c(r,e))}return g.pipe(Ni())})).pipe(Xo())));return he(o).pipe(Xo())}(e,i.path,n),function $O(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return he(!0);const i=r.map(o=>Y_(()=>{const s=Ka(o,t,n);let a;if(function mO(e){return e&&mr(e.canActivate)}(s))a=Fn(s.canActivate(t,e));else{if(!mr(s))throw new Error("Invalid CanActivate guard");a=Fn(s(t,e))}return a.pipe(Ni())}));return he(i).pipe(Xo())}(e,i.route,n))),Ni(i=>!0!==i,!0))}(r,o,e,t):he(a)),we(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),jt(a=>{if(Br(a.guardsResult)){const c=kd(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new T1(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Fi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Qd(a=>{if(a.guards.canActivateChecks.length)return he(a).pipe(jt(u=>{const c=new M1(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Lr(u=>{let c=!1;return he(u).pipe(function XO(e,t){return ot(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return he(n);let o=0;return st(i).pipe(Wo(s=>function ex(e,t,n,r){return function tx(e,t,n,r){const i=zC(e);if(0===i.length)return he({});const o={};return st(i).pipe(ot(s=>function nx(e,t,n,r){const i=Ka(e,t,r);return Fn(i.resolve?i.resolve(t,n):i(t,n))}(e[s],t,n,r).pipe(jt(a=>{o[s]=a}))),Od(1),ot(()=>zC(o).length===i.length?he(o):Vn))}(e._resolve,e,t,r).pipe(we(o=>(e._resolvedData=o,e.data=Object.assign(Object.assign({},e.data),bC(e,n).resolve),null)))}(s.route,r,e,t)),jt(()=>o++),Od(1),ot(s=>o===i.length?he(n):Vn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),jt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),jt(u=>{const c=new I1(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Qd(a=>{const{targetSnapshot:u,id:c,extractedUrl:g,rawUrl:v,extras:{skipLocationChange:S,replaceUrl:O}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:g,rawUrlTree:v,skipLocationChange:!!S,replaceUrl:!!O})}),we(a=>{const u=function tO(e,t,n){const r=Yo(e,t._root,n?n._root:void 0);return new CC(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),jt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>we(r=>(new fO(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),jt({next(){o=!0},complete(){o=!0}}),function b1(e){return Qe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),pr(a=>{if(s=!0,function k1(e){return e&&e[oC]}(a)){const u=Br(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new tC(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QC(i.source)};this.scheduleNavigation(g,"imperative",null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new w1(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Vn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){RC(n),this.config=n.map(Wd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,g=u?this.currentUrlTree.fragment:s;let v=null;switch(a){case"merge":v=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}return null!==v&&(v=this.removeEmptyProps(v)),function iO(e,t,n,r,i){if(0===n.length)return Ud(t.root,t.root,t,r,i);const o=function oO(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new TC(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ct(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new TC(n,t,r)}(n);if(o.toRoot())return Ud(t.root,new Te([],{}),t,r,i);const s=function sO(e,t,n){if(e.isAbsolute)return new Hd(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const o=n.snapshot._urlSegment;return new Hd(o,o===t.root,0)}const r=Ga(e.commands[0])?0:1;return function aO(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Hd(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?za(s.segmentGroup,s.index,o.commands):MC(s.segmentGroup,s.index,o.commands);return Ud(s.segmentGroup,a,t,r,i)}(c,this.currentUrlTree,n,v,null!=g?g:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Br(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function fx(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},lx):!1===r?Object.assign({},dx):r,Br(n))return lC(this.currentUrlTree,n,i);const o=this.parseUrl(n);return lC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new qo(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,o,s){var a,u;if(this.disposed)return Promise.resolve(!1);let c,g,v;s?(c=s.resolve,g=s.reject,v=s.promise):v=new Promise((V,$)=>{c=V,g=$});const S=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),O=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):O=0,this.setTransition({id:S,targetPageId:O,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:c,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(V=>Promise.reject(V))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new tC(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){qc()},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();function QC(e){return"imperative"!==e}let Ja=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new lt,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:ji(this.skipLocationChange),replaceUrl:ji(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ji(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)(W(Bt),W(gr),eo("tabindex"),W(zn),W(Lt))},e.\u0275dir=oe({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Nt("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[zt]}),e})();function ji(e){return""===e||!!e}class ZC{}class YC{preload(t,n){return he(null)}}let KC=(()=>{class e{constructor(n,r,i,o){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=new WC(i,r,u=>n.triggerEvent(new nC(u)),u=>n.triggerEvent(new rC(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fi(n=>n instanceof qo),Wo(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Wn);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(n,o)):o.children&&i.push(this.processRoutes(n,o.children));return st(i).pipe($i(),we(o=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?he(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ot(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(ne(Bt),ne(Ly),ne(bt),ne(ZC))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})(),Kd=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof xd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qo&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof iC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new iC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){qc()},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();const Ur=new De("ROUTER_CONFIGURATION"),JC=new De("ROUTER_FORROOT_GUARD"),mx=[Hl,{provide:pC,useClass:gC},{provide:Bt,useFactory:function Dx(e,t,n,r,i,o,s={},a,u){const c=new Bt(null,e,t,n,r,i,aC(o));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function bx(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(g=>{var v,S;null===(v=console.group)||void 0===v||v.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(S=console.groupEnd)||void 0===S||S.call(console)}),c},deps:[pC,es,Hl,bt,Ly,Zd,Ur,[class sx{},new or],[class rx{},new or]]},es,{provide:gr,useFactory:function wx(e){return e.routerState.root},deps:[Bt]},KC,YC,class gx{preload(t,n){return n().pipe(pr(()=>he(null)))}},{provide:Ur,useValue:{enableTracing:!1}}];function yx(){return new Hy("Router",Bt)}let XC=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[mx,eD(n),{provide:JC,useFactory:Cx,deps:[[Bt,new or,new ao]]},{provide:Ur,useValue:r||{}},{provide:xi,useFactory:_x,deps:[kr,[new Os(Ul),new or],Ur]},{provide:Kd,useFactory:vx,deps:[Bt,SP,Ur]},{provide:ZC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:YC},{provide:Hy,multi:!0,useFactory:yx},[Jd,{provide:Sl,multi:!0,useFactory:Ex,deps:[Jd]},{provide:tD,useFactory:Sx,deps:[Jd]},{provide:Fy,multi:!0,useExisting:tD}]]}}static forChild(n){return{ngModule:e,providers:[eD(n)]}}}return e.\u0275fac=function(n){return new(n||e)(ne(JC,8),ne(Bt,8))},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({}),e})();function vx(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Kd(e,t,n)}function _x(e,t,n={}){return n.useHash?new iA(e,t):new uv(e,t)}function Cx(e){return"guarded"}function eD(e){return[{provide:Lb,multi:!0,useValue:e},{provide:Zd,multi:!0,useValue:e}]}let Jd=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt}appInitializer(){return this.injector.get(tA,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Bt),s=this.injector.get(Ur);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?he(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Ur),i=this.injector.get(KC),o=this.injector.get(Kd),s=this.injector.get(Bt),a=this.injector.get(kl);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(ne(bt))},e.\u0275prov=Ee({token:e,factory:e.\u0275fac}),e})();function Ex(e){return e.appInitializer.bind(e)}function Sx(e){return e.bootstrapListener.bind(e)}const tD=new De("Router Initializer"),Mx=function(){return["/meeting-stats"]},Ix=function(){return{meetingId:5}},Xd=function(){return["/set-meeting"]},Ax=function(){return{meetingId:1}},Px=function(){return["/meeting"]},Rx=function(){return{userId:1}},Ox=function(){return{meetingId:2}},xx=function(){return{meetingId:3}};let kx=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=er({type:e,selectors:[["app-home"]],decls:42,vars:20,consts:[[1,"container"],[1,"list-group","mb-2"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"actions"],["type","button",1,"btn","btn-sm","btn-secondary",3,"routerLink","queryParams"],["type","button",1,"btn","btn-sm","btn-danger"],["type","button",1,"btn","btn-sm","btn-warning",3,"routerLink","queryParams"],["type","button",1,"btn","btn-sm","btn-primary",3,"routerLink","queryParams"],["type","button",1,"btn","btn-sm","btn-primary"],["type","button","routerLink","set-meeting",1,"btn","btn-primary"]],template:function(n,r){1&n&&(ce(0,"div",0)(1,"h2"),Se(2,"Meetings"),fe(),ce(3,"ul",1)(4,"li",2)(5,"span",3),Se(6,"Jane Austin 02.05.2022 17:02"),fe(),ce(7,"div",4)(8,"button",5),Se(9,"Review"),fe()()(),ce(10,"li",2)(11,"span"),Se(12,"John Doe 24.05.2022 19:00"),fe(),ce(13,"div",4)(14,"button",6),Se(15,"Delete"),fe(),ce(16,"button",7),Se(17,"Edit"),fe(),ce(18,"button",8),Se(19,"Join"),fe()()(),ce(20,"li",2)(21,"span"),Se(22," Hera Dwarf 24.05.2022 19:00 "),fe(),ce(23,"div",4)(24,"button",6),Se(25,"Delete"),fe(),ce(26,"button",7),Se(27,"Edit"),fe(),ce(28,"button",9),Se(29,"Join"),fe()()(),ce(30,"li",2)(31,"span"),Se(32,"Hera Dwarf 30.06.2022 19:00"),fe(),ce(33,"div",4)(34,"button",6),Se(35,"Delete"),fe(),ce(36,"button",7),Se(37,"Edit"),fe(),ce(38,"button",9),Se(39,"Join"),fe()()()(),ce(40,"button",10),Se(41,"Create Meeting"),fe()()),2&n&&(Tn(8),Yt("routerLink",hn(10,Mx))("queryParams",hn(11,Ix)),Tn(8),Yt("routerLink",hn(12,Xd))("queryParams",hn(13,Ax)),Tn(2),Yt("routerLink",hn(14,Px))("queryParams",hn(15,Rx)),Tn(8),Yt("routerLink",hn(16,Xd))("queryParams",hn(17,Ox)),Tn(10),Yt("routerLink",hn(18,Xd))("queryParams",hn(19,xx)))},directives:[Ja],styles:[".list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),Fx=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=er({type:e,selectors:[["app-meeting-stats"]],decls:22,vars:0,consts:[[1,"container"],[1,"card","no-border"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"list-group"],[1,"list-group-item","list-group-item-action"]],template:function(n,r){1&n&&(ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),Se(4,"Meeting Stats"),fe(),ce(5,"h6",4),Se(6,"Customer Representetive:John Green"),fe(),ce(7,"h6",4),Se(8,"Customer:Jane Austing"),fe(),ce(9,"ul",5)(10,"li",6),Se(11,"Start Date:02.05.2022 17:02"),fe(),ce(12,"li",6),Se(13,"End Date:02.05.2022 17:38"),fe(),ce(14,"li",6),Se(15,"User Speak Duration:22m 13s"),fe(),ce(16,"li",6),Se(17,"User Video Duration:33m 42s"),fe(),ce(18,"li",6),Se(19,"Client Speak Duration:9m 37s"),fe(),ce(20,"li",6),Se(21,"Client Video Duration:29m 11sn"),fe()()()()())},styles:[".no-border[_ngcontent-%COMP%]{border:none}"]}),e})();function nD(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function ef(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(u){nD(o,r,i,s,a,"next",u)}function a(u){nD(o,r,i,s,a,"throw",u)}s(void 0)})}}var Nx=vr(321),Lx=vr.n(Nx);let Vx=(()=>{class e{constructor(){this.localStreamBs=new Vt(null),this.localStream$=this.localStreamBs.asObservable(),this.remoteStreamBs=new Vt(null),this.remoteStream$=this.remoteStreamBs.asObservable(),this.isCallStartedBs=new lt,this.isCallStarted$=this.isCallStartedBs.asObservable()}initPeer(n){if(!this.peer||!this.peer.disconnected){const r={debug:3,config:{iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]}};try{return this.peer=new(Lx())(n,r),n}catch(i){console.error(i)}}return""}establishMediaCall(n){var r=this;return ef(function*(){console.log(n);try{const i=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});if(r.peer.connect(n).on("error",s=>{console.error(s)}),r.mediaCall=r.peer.call(n,i),!r.mediaCall)throw new Error("Unable to connect to remote peer");r.localStreamBs.next(i),r.isCallStartedBs.next(!0),r.mediaCall.on("stream",s=>{r.remoteStreamBs.next(s)}),r.mediaCall.on("error",s=>{console.error(s),r.isCallStartedBs.next(!1)}),r.mediaCall.on("close",()=>r.onCallClose())}catch(i){console.error(i),r.isCallStartedBs.next(!1)}})()}enableCallAnswer(){var n=this;return ef(function*(){try{const r=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n.localStreamBs.next(r),n.peer.on("call",function(){var i=ef(function*(o){n.mediaCall=o,n.isCallStartedBs.next(!0),n.mediaCall.answer(r),n.mediaCall.on("stream",s=>{n.remoteStreamBs.next(s)}),n.mediaCall.on("error",s=>{n.isCallStartedBs.next(!1),console.error(s)}),n.mediaCall.on("close",()=>n.onCallClose())});return function(o){return i.apply(this,arguments)}}())}catch(r){console.error(r),n.isCallStartedBs.next(!1)}})()}onCallClose(){this.remoteStreamBs.value.getTracks().forEach(n=>{n.stop()}),this.localStreamBs.value.getTracks().forEach(n=>{n.stop()})}closeMediaCall(){var n;null===(n=this.mediaCall)||void 0===n||n.close(),this.mediaCall||this.onCallClose(),this.isCallStartedBs.next(!1)}destroyPeer(){var n,r,i;null===(n=this.mediaCall)||void 0===n||n.close(),null===(r=this.peer)||void 0===r||r.disconnect(),null===(i=this.peer)||void 0===i||i.destroy()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const jx=["localVideo"],Bx=["remoteVideo"];function Ux(e,t){1&e&&(ce(0,"div",15)(1,"div",16)(2,"h1"),Se(3,"B"),fe()()())}function Hx(e,t){1&e&&ln(0,"video",17,18),2&e&&Yt("muted",!0)}function $x(e,t){1&e&&(ce(0,"div",19)(1,"div",16)(2,"h1"),Se(3,"B"),fe()()())}function Gx(e,t){1&e&&ln(0,"video",20,21)}let tf=(()=>{class e{constructor(n,r){this.callService=n,this.route=r,this.title="WebRTCVideoCallAssistant.Client",this.targetID="",this.isMicOpen=!0,this.isLocalCamOpen=!0,this.isRemoteCamOpen=!0}ngOnInit(){this.isCallStarted$=this.callService.isCallStarted$,this.route.queryParams.subscribe({next:n=>{const r=n.userId,i=n.clientId;this.isUser=!i,this.peerID=this.callService.initPeer(this.isUser?r:i),he(this.isUser?this.callService.enableCallAnswer():this.callService.establishMediaCall(r)).subscribe()}})}ngAfterViewInit(){this.callService.localStream$.subscribe(n=>{n&&(this.localVideo.nativeElement.srcObject=n)}),this.callService.remoteStream$.subscribe(n=>{n&&(this.remoteVideo.nativeElement.srcObject=n)})}ngOnDestroy(){this.callService.destroyPeer()}showModal(n){he(n?this.callService.establishMediaCall(this.targetID):this.callService.enableCallAnswer()).subscribe(r=>{})}endCall(){this.callService.closeMediaCall()}}return e.\u0275fac=function(n){return new(n||e)(W(Vx),W(gr))},e.\u0275cmp=er({type:e,selectors:[["app-meeting"]],viewQuery:function(n,r){if(1&n&&(ko(jx,5),ko(Bx,5)),2&n){let i;Rr(i=Or())&&(r.localVideo=i.first),Rr(i=Or())&&(r.remoteVideo=i.first)}},decls:23,vars:4,consts:[[1,"meeting-container"],["id","video-wrapper"],[1,"local-video-wrapper"],["class","offline-local-video d-flex justify-content-center align-items-center",4,"ngIf"],["class","local-video","autoplay","","playsinline","",3,"muted",4,"ngIf"],[1,"client-name"],[1,"remote-video-wrapper"],["class","offline-remote-video d-flex justify-content-center align-items-center",4,"ngIf"],["class","remote-video","autoplay","","playsinline","",4,"ngIf"],[1,"micropohone-status"],["aria-hidden","true",1,"fa","fa-microphone-slash"],[1,"control-buttons"],["type","button",1,"btn","btn-danger"],["aria-hidden","true",1,"fa-solid","fa-video-slash"],[1,"fas","fa-phone"],[1,"offline-local-video","d-flex","justify-content-center","align-items-center"],[1,"user-initial","text-center"],["autoplay","","playsinline","",1,"local-video",3,"muted"],["localVideo",""],[1,"offline-remote-video","d-flex","justify-content-center","align-items-center"],["autoplay","","playsinline","",1,"remote-video"],["remoteVideo",""]],template:function(n,r){1&n&&(ce(0,"div",0)(1,"div",1)(2,"div",2),bo(3,Ux,4,0,"div",3),bo(4,Hx,2,1,"video",4),ce(5,"div",5)(6,"h4"),Se(7,"You"),fe()()(),ce(8,"div",6),bo(9,$x,4,0,"div",7),bo(10,Gx,2,0,"video",8),ce(11,"div",5)(12,"h3"),Se(13,"John Doe"),fe()(),ce(14,"div",9),ln(15,"i",10),fe()()(),ce(16,"div",11)(17,"button",12),ln(18,"i",10),fe(),ce(19,"button",12),ln(20,"i",13),fe(),ce(21,"button",12),ln(22,"i",14),fe()()()),2&n&&(Tn(3),Yt("ngIf",!r.isLocalCamOpen),Tn(1),Yt("ngIf",r.isLocalCamOpen),Tn(5),Yt("ngIf",!r.isRemoteCamOpen),Tn(1),Yt("ngIf",r.isRemoteCamOpen))},directives:[_v],styles:[".meeting-container[_ngcontent-%COMP%]{height:100vh;background-color:#202124;padding:15px}.btn[_ngcontent-%COMP%]{height:40px;min-width:40px;border-radius:50%}#video-wrapper[_ngcontent-%COMP%]{position:relative;height:80vh}#video-wrapper[_ngcontent-%COMP%]   .local-video-wrapper[_ngcontent-%COMP%]{z-index:1;position:absolute;right:1.5rem;bottom:1.5rem;width:20vw;height:12vw;max-width:20rem;max-height:20rem;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .remote-video-wrapper[_ngcontent-%COMP%]{height:100%;background-color:#343434;border-radius:20px}#video-wrapper[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%]{display:inline-block;color:#fff;border-radius:50%;background-color:#0288d1;height:50px;width:50px}#video-wrapper[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.5rem}#video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;margin:10px 15px}#video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], #video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f5f5f5;margin:0}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]{height:100%;background-color:#343434;border-radius:20px}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%]{height:100px;width:100px}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:5rem}#video-wrapper[_ngcontent-%COMP%]   .offline-local-video[_ngcontent-%COMP%]{z-index:1;width:100%;height:100%;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .remote-video[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#343434;border-radius:4px}#video-wrapper[_ngcontent-%COMP%]   .local-video[_ngcontent-%COMP%]{z-index:1;position:absolute;width:20vw;height:12vw;width:100%;height:100%;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .micropohone-status[_ngcontent-%COMP%]{position:absolute;right:0;top:0;margin:10px;background-color:#303033;border-radius:50%;height:32px;width:32px;text-align:center}#video-wrapper[_ngcontent-%COMP%]   .micropohone-status[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#fff;line-height:32px}.control-buttons[_ngcontent-%COMP%]{height:17vh;display:flex;width:100%;align-items:center;justify-content:center}.control-buttons[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})();const zx=[{path:"",component:kx},{path:"meeting",component:tf},{path:"meeting-stats",component:Fx},{path:"set-meeting",component:(()=>{class e{constructor(n){this.route=n}ngOnInit(){this.route.queryParams.subscribe({next:n=>{this.meetingId=n.meetingId}})}}return e.\u0275fac=function(n){return new(n||e)(W(gr))},e.\u0275cmp=er({type:e,selectors:[["app-set-meeting"]],decls:21,vars:0,consts:[[1,"container"],[1,"create-meeting-form"],[1,"form-group"],["for","user-list",1,"form-label","font-weight-bold"],[1,"input-group","mb-3"],["id","user-list","aria-label","Default select example",1,"form-select","user-select","form-control"],["selected","","value","1"],["value","2"],["value","3"],["for","start-date",1,"form-label","font-weight-bold"],["type","datetime-local","id","start-date",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(n,r){1&n&&(ce(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),Se(4,"Customer"),fe(),ce(5,"div",4)(6,"select",5)(7,"option",6),Se(8,"John Doe"),fe(),ce(9,"option",7),Se(10,"Alex Doe"),fe(),ce(11,"option",8),Se(12,"Huan Lie"),fe()()()(),ce(13,"div",2)(14,"label",9),Se(15,"Start Date"),fe(),ce(16,"div",4),ln(17,"input",10),fe()(),ce(18,"div",2)(19,"button",11),Se(20,"Save"),fe()()()())},directives:[M_,d_,Fa,L_,j_],styles:[".create-meeting-form[_ngcontent-%COMP%]{width:480px}.user-select[_ngcontent-%COMP%]{width:inherit}"]}),e})()},{path:"user/joinMeeting",component:tf},{path:"client/jointMeeting",component:tf},{path:"**",redirectTo:""}];let Wx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=tn({imports:[[XC.forRoot(zx)],XC]}),e})();const qx=["localVideo"],Qx=["remoteVideo"];let Zx=(()=>{class e{constructor(){this.title="WebRTCVideoCallAssistant.Client",this.targetID=""}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}showModal(n){}endCall(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=er({type:e,selectors:[["app-root"]],viewQuery:function(n,r){if(1&n&&(ko(qx,5),ko(Qx,5)),2&n){let i;Rr(i=Or())&&(r.localVideo=i.first),Rr(i=Or())&&(r.remoteVideo=i.first)}},decls:1,vars:0,template:function(n,r){1&n&&ln(0,"router-outlet")},directives:[zd],styles:[".row[_ngcontent-%COMP%]{padding-top:15px}#video-wrapper[_ngcontent-%COMP%]{text-align:center;background-color:#343434;border-radius:4px;height:550px}.remote-video[_ngcontent-%COMP%]{height:480px;width:640px;border-radius:4px;transform:translateY(10%)}.local-video[_ngcontent-%COMP%]{z-index:1;position:absolute;right:1.5rem;bottom:1.5rem;width:10vw;height:10vw;max-width:10rem;max-height:10rem;border:3px solid white;border-radius:4px}"]}),e})(),Yx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e,bootstrap:[Zx]}),e.\u0275inj=tn({providers:[],imports:[[XP,Wx,h1]]}),e})();(function kI(){Qy=!1})(),KP().bootstrapModule(Yx).catch(e=>console.error(e))},321:(yr,Nn,vr)=>{parcelRequire=function(U,X,N,A){var b,T="function"==typeof parcelRequire&&parcelRequire;function k(h,C){if(!X[h]){if(!U[h]){var _="function"==typeof parcelRequire&&parcelRequire;if(!C&&_)return _(h,!0);if(T)return T(h,!0);if("string"==typeof h)return vr(784)(h);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}m.resolve=function(y){return U[h][1][y]||y},m.cache={};var E=X[h]=new k.Module(h);U[h][0].call(E.exports,m,E,E.exports,this)}return X[h].exports;function m(y){return k(m.resolve(y))}}k.isParcelRequire=!0,k.Module=function(h){this.id=h,this.bundle=k,this.exports={}},k.modules=U,k.cache=X,k.parent=T,k.register=function(h,C){U[h]=[function(_,w){w.exports=C},{}]};for(var P=0;P<N.length;P++)try{k(N[P])}catch(h){b||(b=h)}if(N.length){var M=k(N[N.length-1]);yr.exports=M}if(parcelRequire=k,b)throw b;return k}({EgBh:[function(U,X,N){var A={};A.useBlobBuilder=function(){try{return new Blob([]),!1}catch(I){return!0}}(),A.useArrayBufferView=!A.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(I){return!0}}(),X.exports.binaryFeatures=A;var b=X.exports.BlobBuilder;function T(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(b=X.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),T.prototype.append=function(I){"number"==typeof I?this._pieces.push(I):(this.flush(),this._parts.push(I))},T.prototype.flush=function(){if(this._pieces.length>0){var I=new Uint8Array(this._pieces);A.useArrayBufferView||(I=I.buffer),this._parts.push(I),this._pieces=[]}},T.prototype.getBuffer=function(){if(this.flush(),A.useBlobBuilder){for(var I=new b,k=0,P=this._parts.length;k<P;k++)I.append(this._parts[k]);return I.getBlob()}return new Blob(this._parts)},X.exports.BufferBuilder=T},{}],kdPp:[function(U,X,N){var A=U("./bufferbuilder").BufferBuilder,b=U("./bufferbuilder").binaryFeatures;function I(h){this.index=0,this.dataBuffer=h,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function k(){this.bufferBuilder=new A}function P(h){var C=h.charCodeAt(0);return C<=2047?"00":C<=65535?"000":C<=2097151?"0000":C<=67108863?"00000":"000000"}X.exports={unpack:function(h){return new I(h).unpack()},pack:function(h){var C=new k;return C.pack(h),C.getBuffer()}},I.prototype.unpack=function(){var h,C=this.unpack_uint8();if(C<128)return C;if((224^C)<32)return(224^C)-32;if((h=160^C)<=15)return this.unpack_raw(h);if((h=176^C)<=15)return this.unpack_string(h);if((h=144^C)<=15)return this.unpack_array(h);if((h=128^C)<=15)return this.unpack_map(h);switch(C){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}},I.prototype.unpack_uint8=function(){var h=255&this.dataView[this.index];return this.index++,h},I.prototype.unpack_uint16=function(){var h=this.read(2),C=256*(255&h[0])+(255&h[1]);return this.index+=2,C},I.prototype.unpack_uint32=function(){var h=this.read(4),C=256*(256*(256*h[0]+h[1])+h[2])+h[3];return this.index+=4,C},I.prototype.unpack_uint64=function(){var h=this.read(8),C=256*(256*(256*(256*(256*(256*(256*h[0]+h[1])+h[2])+h[3])+h[4])+h[5])+h[6])+h[7];return this.index+=8,C},I.prototype.unpack_int8=function(){var h=this.unpack_uint8();return h<128?h:h-256},I.prototype.unpack_int16=function(){var h=this.unpack_uint16();return h<32768?h:h-65536},I.prototype.unpack_int32=function(){var h=this.unpack_uint32();return h<Math.pow(2,31)?h:h-Math.pow(2,32)},I.prototype.unpack_int64=function(){var h=this.unpack_uint64();return h<Math.pow(2,63)?h:h-Math.pow(2,64)},I.prototype.unpack_raw=function(h){if(this.length<this.index+h)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+h+" "+this.length);var C=this.dataBuffer.slice(this.index,this.index+h);return this.index+=h,C},I.prototype.unpack_string=function(h){for(var C,_,w=this.read(h),E=0,m="";E<h;)(C=w[E])<128?(m+=String.fromCharCode(C),E++):(192^C)<32?(_=(192^C)<<6|63&w[E+1],m+=String.fromCharCode(_),E+=2):(_=(15&C)<<12|(63&w[E+1])<<6|63&w[E+2],m+=String.fromCharCode(_),E+=3);return this.index+=h,m},I.prototype.unpack_array=function(h){for(var C=new Array(h),_=0;_<h;_++)C[_]=this.unpack();return C},I.prototype.unpack_map=function(h){for(var C={},_=0;_<h;_++){var w=this.unpack(),E=this.unpack();C[w]=E}return C},I.prototype.unpack_float=function(){var h=this.unpack_uint32();return(h>>31==0?1:-1)*(8388607&h|8388608)*Math.pow(2,(h>>23&255)-127-23)},I.prototype.unpack_double=function(){var h=this.unpack_uint32(),C=this.unpack_uint32(),_=(h>>20&2047)-1023;return(h>>31==0?1:-1)*((1048575&h|1048576)*Math.pow(2,_-20)+C*Math.pow(2,_-52))},I.prototype.read=function(h){var C=this.index;if(C+h<=this.length)return this.dataView.subarray(C,C+h);throw new Error("BinaryPackFailure: read index out of range")},k.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},k.prototype.pack=function(h){var C=typeof h;if("string"===C)this.pack_string(h);else if("number"===C)Math.floor(h)===h?this.pack_integer(h):this.pack_double(h);else if("boolean"===C)!0===h?this.bufferBuilder.append(195):!1===h&&this.bufferBuilder.append(194);else if("undefined"===C)this.bufferBuilder.append(192);else{if("object"!==C)throw new Error('Type "'+C+'" not yet supported');if(null===h)this.bufferBuilder.append(192);else{var _=h.constructor;if(_==Array)this.pack_array(h);else if(_==Blob||_==File||h instanceof Blob||h instanceof File)this.pack_bin(h);else if(_==ArrayBuffer)this.pack_bin(b.useArrayBufferView?new Uint8Array(h):h);else if("BYTES_PER_ELEMENT"in h)this.pack_bin(b.useArrayBufferView?new Uint8Array(h.buffer):h.buffer);else if(_==Object||_.toString().startsWith("class"))this.pack_object(h);else if(_==Date)this.pack_string(h.toString());else{if("function"!=typeof h.toBinaryPack)throw new Error('Type "'+_.toString()+'" not yet supported');this.bufferBuilder.append(h.toBinaryPack())}}}this.bufferBuilder.flush()},k.prototype.pack_bin=function(h){var C=h.length||h.byteLength||h.size;if(C<=15)this.pack_uint8(160+C);else if(C<=65535)this.bufferBuilder.append(218),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_string=function(h){var C=function M(h){return h.length>600?new Blob([h]).size:h.replace(/[^\u0000-\u007F]/g,P).length}(h);if(C<=15)this.pack_uint8(176+C);else if(C<=65535)this.bufferBuilder.append(216),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_array=function(h){var C=h.length;if(C<=15)this.pack_uint8(144+C);else if(C<=65535)this.bufferBuilder.append(220),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(C)}for(var _=0;_<C;_++)this.pack(h[_])},k.prototype.pack_integer=function(h){if(h>=-32&&h<=127)this.bufferBuilder.append(255&h);else if(h>=0&&h<=255)this.bufferBuilder.append(204),this.pack_uint8(h);else if(h>=-128&&h<=127)this.bufferBuilder.append(208),this.pack_int8(h);else if(h>=0&&h<=65535)this.bufferBuilder.append(205),this.pack_uint16(h);else if(h>=-32768&&h<=32767)this.bufferBuilder.append(209),this.pack_int16(h);else if(h>=0&&h<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(h);else if(h>=-2147483648&&h<=2147483647)this.bufferBuilder.append(210),this.pack_int32(h);else if(h>=-0x8000000000000000&&h<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(h);else{if(!(h>=0&&h<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(h)}},k.prototype.pack_double=function(h){var C=0;h<0&&(C=1,h=-h);var _=Math.floor(Math.log(h)/Math.LN2),w=h/Math.pow(2,_)-1,E=Math.floor(w*Math.pow(2,52)),m=Math.pow(2,32),y=C<<31|_+1023<<20|E/m&1048575,p=E%m;this.bufferBuilder.append(203),this.pack_int32(y),this.pack_int32(p)},k.prototype.pack_object=function(h){var C=Object.keys(h).length;if(C<=15)this.pack_uint8(128+C);else if(C<=65535)this.bufferBuilder.append(222),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(C)}for(var _ in h)h.hasOwnProperty(_)&&(this.pack(_),this.pack(h[_]))},k.prototype.pack_uint8=function(h){this.bufferBuilder.append(h)},k.prototype.pack_uint16=function(h){this.bufferBuilder.append(h>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_uint32=function(h){var C=4294967295&h;this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C)},k.prototype.pack_uint64=function(h){var C=h/Math.pow(2,32),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)},k.prototype.pack_int8=function(h){this.bufferBuilder.append(255&h)},k.prototype.pack_int16=function(h){this.bufferBuilder.append((65280&h)>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int32=function(h){this.bufferBuilder.append(h>>>24&255),this.bufferBuilder.append((16711680&h)>>>16),this.bufferBuilder.append((65280&h)>>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int64=function(h){var C=Math.floor(h/Math.pow(2,32)),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(U,X,N){"use strict";function b(d){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}Object.defineProperty(N,"__esModule",{value:!0}),N.extractVersion=k,N.wrapPeerConnectionEvent=function P(d,l,f){if(d.RTCPeerConnection){var D=d.RTCPeerConnection.prototype,R=D.addEventListener;D.addEventListener=function(F,j){if(F!==l)return R.apply(this,arguments);var B=function(L){var z=f(L);z&&(j.handleEvent?j.handleEvent(z):j(z))};return this._eventMap=this._eventMap||{},this._eventMap[l]||(this._eventMap[l]=new Map),this._eventMap[l].set(j,B),R.apply(this,[F,B])};var x=D.removeEventListener;D.removeEventListener=function(F,j){if(F!==l||!this._eventMap||!this._eventMap[l])return x.apply(this,arguments);if(!this._eventMap[l].has(j))return x.apply(this,arguments);var B=this._eventMap[l].get(j);return this._eventMap[l].delete(j),0===this._eventMap[l].size&&delete this._eventMap[l],0===Object.keys(this._eventMap).length&&delete this._eventMap,x.apply(this,[F,B])},Object.defineProperty(D,"on"+l,{get:function(){return this["_on"+l]},set:function(F){this["_on"+l]&&(this.removeEventListener(l,this["_on"+l]),delete this["_on"+l]),F&&this.addEventListener(l,this["_on"+l]=F)},enumerable:!0,configurable:!0})}},N.disableLog=function M(d){return"boolean"!=typeof d?new Error("Argument type: "+b(d)+". Please use a boolean."):(T=d,d?"adapter.js logging disabled":"adapter.js logging enabled")},N.disableWarnings=function h(d){return"boolean"!=typeof d?new Error("Argument type: "+b(d)+". Please use a boolean."):(I=!d,"adapter.js deprecation warnings "+(d?"disabled":"enabled"))},N.log=function C(){if("object"===("undefined"==typeof window?"undefined":b(window))){if(T)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},N.deprecated=function _(d,l){I&&console.warn(d+" is deprecated, please use "+l+" instead.")},N.detectBrowser=function w(d){var l={browser:null,version:null};if(void 0===d||!d.navigator)return l.browser="Not a browser.",l;var{navigator:f}=d;if(f.mozGetUserMedia)l.browser="firefox",l.version=k(f.userAgent,/Firefox\/(\d+)\./,1);else if(f.webkitGetUserMedia||!1===d.isSecureContext&&d.webkitRTCPeerConnection&&!d.RTCIceGatherer)l.browser="chrome",l.version=k(f.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(f.mediaDevices&&f.userAgent.match(/Edge\/(\d+).(\d+)$/))l.browser="edge",l.version=k(f.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!d.RTCPeerConnection||!f.userAgent.match(/AppleWebKit\/(\d+)\./))return l.browser="Not a supported browser.",l;l.browser="safari",l.version=k(f.userAgent,/AppleWebKit\/(\d+)\./,1),l.supportsUnifiedPlan=d.RTCRtpTransceiver&&"currentDirection"in d.RTCRtpTransceiver.prototype}return l},N.compactObject=function m(d){return E(d)?Object.keys(d).reduce(function(l,f){var D=E(d[f]),R=D?m(d[f]):d[f],x=D&&!Object.keys(R).length;return void 0===R||x?l:Object.assign(l,function A(d,l,f){return l in d?Object.defineProperty(d,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[l]=f,d}({},f,R))},{}):d},N.walkStats=y,N.filterStats=function p(d,l,f){var D=f?"outbound-rtp":"inbound-rtp",R=new Map;if(null===l)return R;var x=[];return d.forEach(function(F){"track"===F.type&&F.trackIdentifier===l.id&&x.push(F)}),x.forEach(function(F){d.forEach(function(j){j.type===D&&j.trackId===F.id&&y(d,j,R)})}),R};var T=!0,I=!0;function k(d,l,f){var D=d.match(l);return D&&D.length>=f&&parseInt(D[f],10)}function E(d){return"[object Object]"===Object.prototype.toString.call(d)}function y(d,l,f){l&&!f.has(l.id)&&(f.set(l.id,l),Object.keys(l).forEach(function(D){D.endsWith("Id")?y(d,d.get(l[D]),f):D.endsWith("Ids")&&l[D].forEach(function(R){y(d,d.get(R),f)})}))}},{}],s6SN:[function(U,X,N){"use strict";function b(){if("function"!=typeof WeakMap)return null;var M=new WeakMap;return b=function(){return M},M}function I(M){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(M)}Object.defineProperty(N,"__esModule",{value:!0}),N.shimGetUserMedia=function P(M,h){var C=M&&M.navigator;if(C.mediaDevices){var _=function(y){if("object"!==I(y)||y.mandatory||y.optional)return y;var p={};return Object.keys(y).forEach(function(d){if("require"!==d&&"advanced"!==d&&"mediaSource"!==d){var l="object"===I(y[d])?y[d]:{ideal:y[d]};void 0!==l.exact&&"number"==typeof l.exact&&(l.min=l.max=l.exact);var f=function(R,x){return R?R+x.charAt(0).toUpperCase()+x.slice(1):"deviceId"===x?"sourceId":x};if(void 0!==l.ideal){p.optional=p.optional||[];var D={};"number"==typeof l.ideal?(D[f("min",d)]=l.ideal,p.optional.push(D),(D={})[f("max",d)]=l.ideal,p.optional.push(D)):(D[f("",d)]=l.ideal,p.optional.push(D))}void 0!==l.exact&&"number"!=typeof l.exact?(p.mandatory=p.mandatory||{},p.mandatory[f("",d)]=l.exact):["min","max"].forEach(function(R){void 0!==l[R]&&(p.mandatory=p.mandatory||{},p.mandatory[f(R,d)]=l[R])})}}),y.advanced&&(p.optional=(p.optional||[]).concat(y.advanced)),p},w=function(y,p){if(h.version>=61)return p(y);if((y=JSON.parse(JSON.stringify(y)))&&"object"===I(y.audio)){var d=function(R,x,F){x in R&&!(F in R)&&(R[F]=R[x],delete R[x])};d((y=JSON.parse(JSON.stringify(y))).audio,"autoGainControl","googAutoGainControl"),d(y.audio,"noiseSuppression","googNoiseSuppression"),y.audio=_(y.audio)}if(y&&"object"===I(y.video)){var l=y.video.facingMode;l=l&&("object"===I(l)?l:{ideal:l});var f,D=h.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!C.mediaDevices.getSupportedConstraints||!C.mediaDevices.getSupportedConstraints().facingMode||D)&&(delete y.video.facingMode,"environment"===l.exact||"environment"===l.ideal?f=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(f=["front"]),f))return C.mediaDevices.enumerateDevices().then(function(R){var x=(R=R.filter(function(F){return"videoinput"===F.kind})).find(function(F){return f.some(function(j){return F.label.toLowerCase().includes(j)})});return!x&&R.length&&f.includes("back")&&(x=R[R.length-1]),x&&(y.video.deviceId=l.exact?{exact:x.deviceId}:{ideal:x.deviceId}),y.video=_(y.video),k("chrome: "+JSON.stringify(y)),p(y)});y.video=_(y.video)}return k("chrome: "+JSON.stringify(y)),p(y)},E=function(y){return h.version>=64?y:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[y.name]||y.name,message:y.message,constraint:y.constraint||y.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(C.getUserMedia=function(y,p,d){w(y,function(l){C.webkitGetUserMedia(l,p,function(f){d&&d(E(f))})})}.bind(C),C.mediaDevices.getUserMedia){var m=C.mediaDevices.getUserMedia.bind(C.mediaDevices);C.mediaDevices.getUserMedia=function(y){return w(y,function(p){return m(p).then(function(d){if(p.audio&&!d.getAudioTracks().length||p.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(function(l){l.stop()}),new DOMException("","NotFoundError");return d},function(d){return Promise.reject(E(d))})})}}}};var k=function T(M){if(M&&M.__esModule)return M;if(null===M||"object"!=typeof M&&"function"!=typeof M)return{default:M};var h=b();if(h&&h.has(M))return h.get(M);var C={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in M)if(Object.prototype.hasOwnProperty.call(M,w)){var E=_?Object.getOwnPropertyDescriptor(M,w):null;E&&(E.get||E.set)?Object.defineProperty(C,w,E):C[w]=M[w]}return C.default=M,h&&h.set(M,C),C}(U("../utils.js")).log},{"../utils.js":"iSxC"}],VHa8:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimGetDisplayMedia=function A(b,T){b.navigator.mediaDevices&&"getDisplayMedia"in b.navigator.mediaDevices||b.navigator.mediaDevices&&("function"==typeof T?b.navigator.mediaDevices.getDisplayMedia=function(I){return T(I).then(function(k){var P=I.video&&I.video.width,M=I.video&&I.video.height;return I.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:k,maxFrameRate:I.video&&I.video.frameRate||3}},P&&(I.video.mandatory.maxWidth=P),M&&(I.video.mandatory.maxHeight=M),b.navigator.mediaDevices.getUserMedia(I)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],uI5X:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimMediaStream=function h(l){l.MediaStream=l.MediaStream||l.webkitMediaStream},N.shimOnTrack=function C(l){if("object"!==M(l)||!l.RTCPeerConnection||"ontrack"in l.RTCPeerConnection.prototype)A.wrapPeerConnectionEvent(l,"track",function(D){return D.transceiver||Object.defineProperty(D,"transceiver",{value:{receiver:D.receiver}}),D});else{Object.defineProperty(l.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(D){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=D)},enumerable:!0,configurable:!0});var f=l.RTCPeerConnection.prototype.setRemoteDescription;l.RTCPeerConnection.prototype.setRemoteDescription=function(){var D=this;return this._ontrackpoly||(this._ontrackpoly=function(R){R.stream.addEventListener("addtrack",function(x){var F;F=l.RTCPeerConnection.prototype.getReceivers?D.getReceivers().find(function(B){return B.track&&B.track.id===x.track.id}):{track:x.track};var j=new Event("track");j.track=x.track,j.receiver=F,j.transceiver={receiver:F},j.streams=[R.stream],D.dispatchEvent(j)}),R.stream.getTracks().forEach(function(x){var F;F=l.RTCPeerConnection.prototype.getReceivers?D.getReceivers().find(function(B){return B.track&&B.track.id===x.id}):{track:x};var j=new Event("track");j.track=x,j.receiver=F,j.transceiver={receiver:F},j.streams=[R.stream],D.dispatchEvent(j)})},this.addEventListener("addstream",this._ontrackpoly)),f.apply(this,arguments)}}},N.shimGetSendersWithDtmf=function _(l){if("object"===M(l)&&l.RTCPeerConnection&&!("getSenders"in l.RTCPeerConnection.prototype)&&"createDTMFSender"in l.RTCPeerConnection.prototype){var f=function(B,L){return{track:L,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===L.kind?B.createDTMFSender(L):null),this._dtmf},_pc:B}};if(!l.RTCPeerConnection.prototype.getSenders){l.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var D=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(B,L){var z=D.apply(this,arguments);return z||(z=f(this,B),this._senders.push(z)),z};var R=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(B){R.apply(this,arguments);var L=this._senders.indexOf(B);-1!==L&&this._senders.splice(L,1)}}var x=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(B){var L=this;this._senders=this._senders||[],x.apply(this,[B]),B.getTracks().forEach(function(z){L._senders.push(f(L,z))})};var F=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(B){var L=this;this._senders=this._senders||[],F.apply(this,[B]),B.getTracks().forEach(function(z){var Z=L._senders.find(function(ie){return ie.track===z});Z&&L._senders.splice(L._senders.indexOf(Z),1)})}}else if("object"===M(l)&&l.RTCPeerConnection&&"getSenders"in l.RTCPeerConnection.prototype&&"createDTMFSender"in l.RTCPeerConnection.prototype&&l.RTCRtpSender&&!("dtmf"in l.RTCRtpSender.prototype)){var j=l.RTCPeerConnection.prototype.getSenders;l.RTCPeerConnection.prototype.getSenders=function(){var B=this,L=j.apply(this,[]);return L.forEach(function(z){return z._pc=B}),L},Object.defineProperty(l.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},N.shimGetStats=function w(l){if(l.RTCPeerConnection){var f=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){var D=this,[R,x,F]=arguments;if(arguments.length>0&&"function"==typeof R)return f.apply(this,arguments);if(0===f.length&&(0===arguments.length||"function"!=typeof R))return f.apply(this,[]);var j=function(L){var z={};return L.result().forEach(function(Z){var ie={id:Z.id,timestamp:Z.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Z.type]||Z.type};Z.names().forEach(function(ee){ie[ee]=Z.stat(ee)}),z[ie.id]=ie}),z},B=function(L){return new Map(Object.keys(L).map(function(z){return[z,L[z]]}))};return arguments.length>=2?f.apply(this,[function(L){x(B(j(L)))},R]):new Promise(function(L,z){f.apply(D,[function(Z){L(B(j(Z)))},z])}).then(x,F)}}},N.shimSenderReceiverGetStats=function E(l){if("object"===M(l)&&l.RTCPeerConnection&&l.RTCRtpSender&&l.RTCRtpReceiver){if(!("getStats"in l.RTCRtpSender.prototype)){var f=l.RTCPeerConnection.prototype.getSenders;f&&(l.RTCPeerConnection.prototype.getSenders=function(){var F=this,j=f.apply(this,[]);return j.forEach(function(B){return B._pc=F}),j});var D=l.RTCPeerConnection.prototype.addTrack;D&&(l.RTCPeerConnection.prototype.addTrack=function(){var F=D.apply(this,arguments);return F._pc=this,F}),l.RTCRtpSender.prototype.getStats=function(){var F=this;return this._pc.getStats().then(function(j){return A.filterStats(j,F.track,!0)})}}if(!("getStats"in l.RTCRtpReceiver.prototype)){var R=l.RTCPeerConnection.prototype.getReceivers;R&&(l.RTCPeerConnection.prototype.getReceivers=function(){var F=this,j=R.apply(this,[]);return j.forEach(function(B){return B._pc=F}),j}),A.wrapPeerConnectionEvent(l,"track",function(F){return F.receiver._pc=F.srcElement,F}),l.RTCRtpReceiver.prototype.getStats=function(){var F=this;return this._pc.getStats().then(function(j){return A.filterStats(j,F.track,!1)})}}if("getStats"in l.RTCRtpSender.prototype&&"getStats"in l.RTCRtpReceiver.prototype){var x=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof l.MediaStreamTrack){var F,j,B,L=arguments[0];return this.getSenders().forEach(function(z){z.track===L&&(F?B=!0:F=z)}),this.getReceivers().forEach(function(z){return z.track===L&&(j?B=!0:j=z),z.track===L}),B||F&&j?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):F?F.getStats():j?j.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return x.apply(this,arguments)}}}},N.shimAddTrackRemoveTrackWithNative=m,N.shimAddTrackRemoveTrack=function y(l,f){if(l.RTCPeerConnection){if(l.RTCPeerConnection.prototype.addTrack&&f.version>=65)return m(l);var D=l.RTCPeerConnection.prototype.getLocalStreams;l.RTCPeerConnection.prototype.getLocalStreams=function(){var L=this,z=D.apply(this);return this._reverseStreams=this._reverseStreams||{},z.map(function(Z){return L._reverseStreams[Z.id]})};var R=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(L){var z=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},L.getTracks().forEach(function(ie){if(z.getSenders().find(function(ee){return ee.track===ie}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[L.id]){var Z=new l.MediaStream(L.getTracks());this._streams[L.id]=Z,this._reverseStreams[Z.id]=L,L=Z}R.apply(this,[L])};var x=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(L){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},x.apply(this,[this._streams[L.id]||L]),delete this._reverseStreams[this._streams[L.id]?this._streams[L.id].id:L.id],delete this._streams[L.id]},l.RTCPeerConnection.prototype.addTrack=function(L,z){var Z=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var ie=[].slice.call(arguments,1);if(1!==ie.length||!ie[0].getTracks().find(function(Ve){return Ve===L}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(Ve){return Ve.track===L}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var ee=this._streams[z.id];if(ee)ee.addTrack(L),Promise.resolve().then(function(){Z.dispatchEvent(new Event("negotiationneeded"))});else{var se=new l.MediaStream([L]);this._streams[z.id]=se,this._reverseStreams[se.id]=z,this.addStream(se)}return this.getSenders().find(function(Ve){return Ve.track===L})},["createOffer","createAnswer"].forEach(function(L){var z=l.RTCPeerConnection.prototype[L],Z=P({},L,function(){var ie=this,ee=arguments;return arguments.length&&"function"==typeof arguments[0]?z.apply(this,[function(se){var Ve=B(ie,se);ee[0].apply(null,[Ve])},function(se){ee[1]&&ee[1].apply(null,se)},arguments[2]]):z.apply(this,arguments).then(function(se){return B(ie,se)})});l.RTCPeerConnection.prototype[L]=Z[L]});var F=l.RTCPeerConnection.prototype.setLocalDescription;l.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(L=this,Z=(z=arguments[0]).sdp,Object.keys(L._reverseStreams||[]).forEach(function(ie){var ee=L._reverseStreams[ie],se=L._streams[ee.id];Z=Z.replace(new RegExp(ee.id,"g"),se.id)}),new RTCSessionDescription({type:z.type,sdp:Z})),F.apply(this,arguments)):F.apply(this,arguments);var L,z,Z};var j=Object.getOwnPropertyDescriptor(l.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(l.RTCPeerConnection.prototype,"localDescription",{get:function(){var L=j.get.apply(this);return""===L.type?L:B(this,L)}}),l.RTCPeerConnection.prototype.removeTrack=function(L){var z,Z=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!L._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(L._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(ie){Z._streams[ie].getTracks().find(function(ee){return L.track===ee})&&(z=Z._streams[ie])}),z&&(1===z.getTracks().length?this.removeStream(this._reverseStreams[z.id]):z.removeTrack(L.track),this.dispatchEvent(new Event("negotiationneeded")))}}function B(L,z){var Z=z.sdp;return Object.keys(L._reverseStreams||[]).forEach(function(ie){var ee=L._reverseStreams[ie];Z=Z.replace(new RegExp(L._streams[ee.id].id,"g"),ee.id)}),new RTCSessionDescription({type:z.type,sdp:Z})}},N.shimPeerConnection=function p(l,f){!l.RTCPeerConnection&&l.webkitRTCPeerConnection&&(l.RTCPeerConnection=l.webkitRTCPeerConnection),l.RTCPeerConnection&&f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(D){var R=l.RTCPeerConnection.prototype[D],x=P({},D,function(){return arguments[0]=new("addIceCandidate"===D?l.RTCIceCandidate:l.RTCSessionDescription)(arguments[0]),R.apply(this,arguments)});l.RTCPeerConnection.prototype[D]=x[D]})},N.fixNegotiationNeeded=function d(l,f){A.wrapPeerConnectionEvent(l,"negotiationneeded",function(D){var R=D.target;if(!(f.version<72||R.getConfiguration&&"plan-b"===R.getConfiguration().sdpSemantics)||"stable"===R.signalingState)return D})},Object.defineProperty(N,"shimGetUserMedia",{enumerable:!0,get:function(){return b.shimGetUserMedia}}),Object.defineProperty(N,"shimGetDisplayMedia",{enumerable:!0,get:function(){return T.shimGetDisplayMedia}});var A=function k(l){if(l&&l.__esModule)return l;if(null===l||"object"!=typeof l&&"function"!=typeof l)return{default:l};var f=I();if(f&&f.has(l))return f.get(l);var D={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in l)if(Object.prototype.hasOwnProperty.call(l,x)){var F=R?Object.getOwnPropertyDescriptor(l,x):null;F&&(F.get||F.set)?Object.defineProperty(D,x,F):D[x]=l[x]}return D.default=l,f&&f.set(l,D),D}(U("../utils.js")),b=U("./getusermedia"),T=U("./getdisplaymedia");function I(){if("function"!=typeof WeakMap)return null;var l=new WeakMap;return I=function(){return l},l}function P(l,f,D){return f in l?Object.defineProperty(l,f,{value:D,enumerable:!0,configurable:!0,writable:!0}):l[f]=D,l}function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function m(l){l.RTCPeerConnection.prototype.getLocalStreams=function(){var F=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(j){return F._shimmedLocalStreams[j][0]})};var f=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(F,j){if(!j)return f.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var B=f.apply(this,arguments);return this._shimmedLocalStreams[j.id]?-1===this._shimmedLocalStreams[j.id].indexOf(B)&&this._shimmedLocalStreams[j.id].push(B):this._shimmedLocalStreams[j.id]=[j,B],B};var D=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(F){var j=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},F.getTracks().forEach(function(z){if(j.getSenders().find(function(Z){return Z.track===z}))throw new DOMException("Track already exists.","InvalidAccessError")});var B=this.getSenders();D.apply(this,arguments);var L=this.getSenders().filter(function(z){return-1===B.indexOf(z)});this._shimmedLocalStreams[F.id]=[F].concat(L)};var R=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(F){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[F.id],R.apply(this,arguments)};var x=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(F){var j=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},F&&Object.keys(this._shimmedLocalStreams).forEach(function(B){var L=j._shimmedLocalStreams[B].indexOf(F);-1!==L&&j._shimmedLocalStreams[B].splice(L,1),1===j._shimmedLocalStreams[B].length&&delete j._shimmedLocalStreams[B]}),x.apply(this,arguments)}}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.filterIceServers=function I(k,P){var M=!1;return(k=JSON.parse(JSON.stringify(k))).filter(function(h){if(h&&(h.urls||h.url)){var C=h.urls||h.url;h.url&&!h.urls&&A.deprecated("RTCIceServer.url","RTCIceServer.urls");var _="string"==typeof C;return _&&(C=[C]),C=C.filter(function(w){if(0===w.indexOf("stun:"))return!1;var E=w.startsWith("turn")&&!w.startsWith("turn:[")&&w.includes("transport=udp");return E&&!M?(M=!0,!0):E&&!M}),delete h.url,h.urls=_?C[0]:C,!!C.length}})};var A=function T(k){if(k&&k.__esModule)return k;if(null===k||"object"!=typeof k&&"function"!=typeof k)return{default:k};var P=b();if(P&&P.has(k))return P.get(k);var M={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in k)if(Object.prototype.hasOwnProperty.call(k,C)){var _=h?Object.getOwnPropertyDescriptor(k,C):null;_&&(_.get||_.set)?Object.defineProperty(M,C,_):M[C]=k[C]}return M.default=k,P&&P.set(k,M),M}(U("../utils"));function b(){if("function"!=typeof WeakMap)return null;var k=new WeakMap;return b=function(){return k},k}},{"../utils":"iSxC"}],YHvh:[function(U,X,N){"use strict";var A={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};A.localCName=A.generateIdentifier(),A.splitLines=function(b){return b.trim().split("\n").map(function(T){return T.trim()})},A.splitSections=function(b){return b.split("\nm=").map(function(T,I){return(I>0?"m="+T:T).trim()+"\r\n"})},A.getDescription=function(b){var T=A.splitSections(b);return T&&T[0]},A.getMediaSections=function(b){var T=A.splitSections(b);return T.shift(),T},A.matchPrefix=function(b,T){return A.splitLines(b).filter(function(I){return 0===I.indexOf(T)})},A.parseCandidate=function(b){for(var T,I={foundation:(T=0===b.indexOf("a=candidate:")?b.substring(12).split(" "):b.substring(10).split(" "))[0],component:parseInt(T[1],10),protocol:T[2].toLowerCase(),priority:parseInt(T[3],10),ip:T[4],address:T[4],port:parseInt(T[5],10),type:T[7]},k=8;k<T.length;k+=2)switch(T[k]){case"raddr":I.relatedAddress=T[k+1];break;case"rport":I.relatedPort=parseInt(T[k+1],10);break;case"tcptype":I.tcpType=T[k+1];break;case"ufrag":I.ufrag=T[k+1],I.usernameFragment=T[k+1];break;default:I[T[k]]=T[k+1]}return I},A.writeCandidate=function(b){var T=[];T.push(b.foundation),T.push(b.component),T.push(b.protocol.toUpperCase()),T.push(b.priority),T.push(b.address||b.ip),T.push(b.port);var I=b.type;return T.push("typ"),T.push(I),"host"!==I&&b.relatedAddress&&b.relatedPort&&(T.push("raddr"),T.push(b.relatedAddress),T.push("rport"),T.push(b.relatedPort)),b.tcpType&&"tcp"===b.protocol.toLowerCase()&&(T.push("tcptype"),T.push(b.tcpType)),(b.usernameFragment||b.ufrag)&&(T.push("ufrag"),T.push(b.usernameFragment||b.ufrag)),"candidate:"+T.join(" ")},A.parseIceOptions=function(b){return b.substr(14).split(" ")},A.parseRtpMap=function(b){var T=b.substr(9).split(" "),I={payloadType:parseInt(T.shift(),10)};return T=T[0].split("/"),I.name=T[0],I.clockRate=parseInt(T[1],10),I.channels=3===T.length?parseInt(T[2],10):1,I.numChannels=I.channels,I},A.writeRtpMap=function(b){var T=b.payloadType;void 0!==b.preferredPayloadType&&(T=b.preferredPayloadType);var I=b.channels||b.numChannels||1;return"a=rtpmap:"+T+" "+b.name+"/"+b.clockRate+(1!==I?"/"+I:"")+"\r\n"},A.parseExtmap=function(b){var T=b.substr(9).split(" ");return{id:parseInt(T[0],10),direction:T[0].indexOf("/")>0?T[0].split("/")[1]:"sendrecv",uri:T[1]}},A.writeExtmap=function(b){return"a=extmap:"+(b.id||b.preferredId)+(b.direction&&"sendrecv"!==b.direction?"/"+b.direction:"")+" "+b.uri+"\r\n"},A.parseFmtp=function(b){for(var T,I={},k=b.substr(b.indexOf(" ")+1).split(";"),P=0;P<k.length;P++)I[(T=k[P].trim().split("="))[0].trim()]=T[1];return I},A.writeFmtp=function(b){var T="",I=b.payloadType;if(void 0!==b.preferredPayloadType&&(I=b.preferredPayloadType),b.parameters&&Object.keys(b.parameters).length){var k=[];Object.keys(b.parameters).forEach(function(P){k.push(b.parameters[P]?P+"="+b.parameters[P]:P)}),T+="a=fmtp:"+I+" "+k.join(";")+"\r\n"}return T},A.parseRtcpFb=function(b){var T=b.substr(b.indexOf(" ")+1).split(" ");return{type:T.shift(),parameter:T.join(" ")}},A.writeRtcpFb=function(b){var T="",I=b.payloadType;return void 0!==b.preferredPayloadType&&(I=b.preferredPayloadType),b.rtcpFeedback&&b.rtcpFeedback.length&&b.rtcpFeedback.forEach(function(k){T+="a=rtcp-fb:"+I+" "+k.type+(k.parameter&&k.parameter.length?" "+k.parameter:"")+"\r\n"}),T},A.parseSsrcMedia=function(b){var T=b.indexOf(" "),I={ssrc:parseInt(b.substr(7,T-7),10)},k=b.indexOf(":",T);return k>-1?(I.attribute=b.substr(T+1,k-T-1),I.value=b.substr(k+1)):I.attribute=b.substr(T+1),I},A.parseSsrcGroup=function(b){var T=b.substr(13).split(" ");return{semantics:T.shift(),ssrcs:T.map(function(I){return parseInt(I,10)})}},A.getMid=function(b){var T=A.matchPrefix(b,"a=mid:")[0];if(T)return T.substr(6)},A.parseFingerprint=function(b){var T=b.substr(14).split(" ");return{algorithm:T[0].toLowerCase(),value:T[1]}},A.getDtlsParameters=function(b,T){return{role:"auto",fingerprints:A.matchPrefix(b+T,"a=fingerprint:").map(A.parseFingerprint)}},A.writeDtlsParameters=function(b,T){var I="a=setup:"+T+"\r\n";return b.fingerprints.forEach(function(k){I+="a=fingerprint:"+k.algorithm+" "+k.value+"\r\n"}),I},A.parseCryptoLine=function(b){var T=b.substr(9).split(" ");return{tag:parseInt(T[0],10),cryptoSuite:T[1],keyParams:T[2],sessionParams:T.slice(3)}},A.writeCryptoLine=function(b){return"a=crypto:"+b.tag+" "+b.cryptoSuite+" "+("object"==typeof b.keyParams?A.writeCryptoKeyParams(b.keyParams):b.keyParams)+(b.sessionParams?" "+b.sessionParams.join(" "):"")+"\r\n"},A.parseCryptoKeyParams=function(b){if(0!==b.indexOf("inline:"))return null;var T=b.substr(7).split("|");return{keyMethod:"inline",keySalt:T[0],lifeTime:T[1],mkiValue:T[2]?T[2].split(":")[0]:void 0,mkiLength:T[2]?T[2].split(":")[1]:void 0}},A.writeCryptoKeyParams=function(b){return b.keyMethod+":"+b.keySalt+(b.lifeTime?"|"+b.lifeTime:"")+(b.mkiValue&&b.mkiLength?"|"+b.mkiValue+":"+b.mkiLength:"")},A.getCryptoParameters=function(b,T){return A.matchPrefix(b+T,"a=crypto:").map(A.parseCryptoLine)},A.getIceParameters=function(b,T){var I=A.matchPrefix(b+T,"a=ice-ufrag:")[0],k=A.matchPrefix(b+T,"a=ice-pwd:")[0];return I&&k?{usernameFragment:I.substr(12),password:k.substr(10)}:null},A.writeIceParameters=function(b){return"a=ice-ufrag:"+b.usernameFragment+"\r\na=ice-pwd:"+b.password+"\r\n"},A.parseRtpParameters=function(b){for(var T={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},I=A.splitLines(b)[0].split(" "),k=3;k<I.length;k++){var P=I[k],M=A.matchPrefix(b,"a=rtpmap:"+P+" ")[0];if(M){var h=A.parseRtpMap(M),C=A.matchPrefix(b,"a=fmtp:"+P+" ");switch(h.parameters=C.length?A.parseFmtp(C[0]):{},h.rtcpFeedback=A.matchPrefix(b,"a=rtcp-fb:"+P+" ").map(A.parseRtcpFb),T.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":T.fecMechanisms.push(h.name.toUpperCase())}}}return A.matchPrefix(b,"a=extmap:").forEach(function(_){T.headerExtensions.push(A.parseExtmap(_))}),T},A.writeRtpDescription=function(b,T){var I="";I+="m="+b+" ",I+=T.codecs.length>0?"9":"0",I+=" UDP/TLS/RTP/SAVPF ",I+=T.codecs.map(function(P){return void 0!==P.preferredPayloadType?P.preferredPayloadType:P.payloadType}).join(" ")+"\r\n",I+="c=IN IP4 0.0.0.0\r\n",I+="a=rtcp:9 IN IP4 0.0.0.0\r\n",T.codecs.forEach(function(P){I+=A.writeRtpMap(P),I+=A.writeFmtp(P),I+=A.writeRtcpFb(P)});var k=0;return T.codecs.forEach(function(P){P.maxptime>k&&(k=P.maxptime)}),k>0&&(I+="a=maxptime:"+k+"\r\n"),I+="a=rtcp-mux\r\n",T.headerExtensions&&T.headerExtensions.forEach(function(P){I+=A.writeExtmap(P)}),I},A.parseRtpEncodingParameters=function(b){var T,I=[],k=A.parseRtpParameters(b),P=-1!==k.fecMechanisms.indexOf("RED"),M=-1!==k.fecMechanisms.indexOf("ULPFEC"),h=A.matchPrefix(b,"a=ssrc:").map(function(E){return A.parseSsrcMedia(E)}).filter(function(E){return"cname"===E.attribute}),C=h.length>0&&h[0].ssrc,_=A.matchPrefix(b,"a=ssrc-group:FID").map(function(E){return E.substr(17).split(" ").map(function(m){return parseInt(m,10)})});_.length>0&&_[0].length>1&&_[0][0]===C&&(T=_[0][1]),k.codecs.forEach(function(E){if("RTX"===E.name.toUpperCase()&&E.parameters.apt){var m={ssrc:C,codecPayloadType:parseInt(E.parameters.apt,10)};C&&T&&(m.rtx={ssrc:T}),I.push(m),P&&((m=JSON.parse(JSON.stringify(m))).fec={ssrc:C,mechanism:M?"red+ulpfec":"red"},I.push(m))}}),0===I.length&&C&&I.push({ssrc:C});var w=A.matchPrefix(b,"b=");return w.length&&(w=0===w[0].indexOf("b=TIAS:")?parseInt(w[0].substr(7),10):0===w[0].indexOf("b=AS:")?1e3*parseInt(w[0].substr(5),10)*.95-16e3:void 0,I.forEach(function(E){E.maxBitrate=w})),I},A.parseRtcpParameters=function(b){var T={},I=A.matchPrefix(b,"a=ssrc:").map(function(M){return A.parseSsrcMedia(M)}).filter(function(M){return"cname"===M.attribute})[0];I&&(T.cname=I.value,T.ssrc=I.ssrc);var k=A.matchPrefix(b,"a=rtcp-rsize");T.reducedSize=k.length>0,T.compound=0===k.length;var P=A.matchPrefix(b,"a=rtcp-mux");return T.mux=P.length>0,T},A.parseMsid=function(b){var T,I=A.matchPrefix(b,"a=msid:");if(1===I.length)return{stream:(T=I[0].substr(7).split(" "))[0],track:T[1]};var k=A.matchPrefix(b,"a=ssrc:").map(function(P){return A.parseSsrcMedia(P)}).filter(function(P){return"msid"===P.attribute});return k.length>0?{stream:(T=k[0].value.split(" "))[0],track:T[1]}:void 0},A.parseSctpDescription=function(b){var T,I=A.parseMLine(b),k=A.matchPrefix(b,"a=max-message-size:");k.length>0&&(T=parseInt(k[0].substr(19),10)),isNaN(T)&&(T=65536);var P=A.matchPrefix(b,"a=sctp-port:");if(P.length>0)return{port:parseInt(P[0].substr(12),10),protocol:I.fmt,maxMessageSize:T};if(A.matchPrefix(b,"a=sctpmap:").length>0){var M=A.matchPrefix(b,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(M[0],10),protocol:M[1],maxMessageSize:T}}},A.writeSctpDescription=function(b,T){var I=[];return I="DTLS/SCTP"!==b.protocol?["m="+b.kind+" 9 "+b.protocol+" "+T.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+T.port+"\r\n"]:["m="+b.kind+" 9 "+b.protocol+" "+T.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+T.port+" "+T.protocol+" 65535\r\n"],void 0!==T.maxMessageSize&&I.push("a=max-message-size:"+T.maxMessageSize+"\r\n"),I.join("")},A.generateSessionId=function(){return Math.random().toString().substr(2,21)},A.writeSessionBoilerplate=function(b,T,I){var k=void 0!==T?T:2;return"v=0\r\no="+(I||"thisisadapterortc")+" "+(b||A.generateSessionId())+" "+k+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},A.writeMediaSection=function(b,T,I,k){var P=A.writeRtpDescription(b.kind,T);if(P+=A.writeIceParameters(b.iceGatherer.getLocalParameters()),P+=A.writeDtlsParameters(b.dtlsTransport.getLocalParameters(),"offer"===I?"actpass":"active"),P+="a=mid:"+b.mid+"\r\n",P+=b.direction?"a="+b.direction+"\r\n":b.rtpSender&&b.rtpReceiver?"a=sendrecv\r\n":b.rtpSender?"a=sendonly\r\n":b.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",b.rtpSender){var M="msid:"+k.id+" "+b.rtpSender.track.id+"\r\n";P+="a="+M,P+="a=ssrc:"+b.sendEncodingParameters[0].ssrc+" "+M,b.sendEncodingParameters[0].rtx&&(P+="a=ssrc:"+b.sendEncodingParameters[0].rtx.ssrc+" "+M,P+="a=ssrc-group:FID "+b.sendEncodingParameters[0].ssrc+" "+b.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return P+="a=ssrc:"+b.sendEncodingParameters[0].ssrc+" cname:"+A.localCName+"\r\n",b.rtpSender&&b.sendEncodingParameters[0].rtx&&(P+="a=ssrc:"+b.sendEncodingParameters[0].rtx.ssrc+" cname:"+A.localCName+"\r\n"),P},A.getDirection=function(b,T){for(var I=A.splitLines(b),k=0;k<I.length;k++)switch(I[k]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return I[k].substr(2)}return T?A.getDirection(T):"sendrecv"},A.getKind=function(b){return A.splitLines(b)[0].split(" ")[0].substr(2)},A.isRejected=function(b){return"0"===b.split(" ",2)[1]},A.parseMLine=function(b){var T=A.splitLines(b)[0].substr(2).split(" ");return{kind:T[0],port:parseInt(T[1],10),protocol:T[2],fmt:T.slice(3).join(" ")}},A.parseOLine=function(b){var T=A.matchPrefix(b,"o=")[0].substr(2).split(" ");return{username:T[0],sessionId:T[1],sessionVersion:parseInt(T[2],10),netType:T[3],addressType:T[4],address:T[5]}},A.isValidSDP=function(b){if("string"!=typeof b||0===b.length)return!1;for(var T=A.splitLines(b),I=0;I<T.length;I++)if(T[I].length<2||"="!==T[I].charAt(1))return!1;return!0},"object"==typeof X&&(X.exports=A)},{}],NJ2u:[function(U,X,N){"use strict";var A=U("sdp");function T(C,_,w,E,m){var y=A.writeRtpDescription(C.kind,_);if(y+=A.writeIceParameters(C.iceGatherer.getLocalParameters()),y+=A.writeDtlsParameters(C.dtlsTransport.getLocalParameters(),"offer"===w?"actpass":m||"active"),y+="a=mid:"+C.mid+"\r\n",y+=C.rtpSender&&C.rtpReceiver?"a=sendrecv\r\n":C.rtpSender?"a=sendonly\r\n":C.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",C.rtpSender){var p=C.rtpSender._initialTrackId||C.rtpSender.track.id;C.rtpSender._initialTrackId=p;var d="msid:"+(E?E.id:"-")+" "+p+"\r\n";y+="a="+d,y+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" "+d,C.sendEncodingParameters[0].rtx&&(y+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" "+d,y+="a=ssrc-group:FID "+C.sendEncodingParameters[0].ssrc+" "+C.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return y+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" cname:"+A.localCName+"\r\n",C.rtpSender&&C.sendEncodingParameters[0].rtx&&(y+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" cname:"+A.localCName+"\r\n"),y}function k(C,_){var w={codecs:[],headerExtensions:[],fecMechanisms:[]},E=function(y,p){y=parseInt(y,10);for(var d=0;d<p.length;d++)if(p[d].payloadType===y||p[d].preferredPayloadType===y)return p[d]},m=function(y,p,d,l){var f=E(y.parameters.apt,d),D=E(p.parameters.apt,l);return f&&D&&f.name.toLowerCase()===D.name.toLowerCase()};return C.codecs.forEach(function(y){for(var p=0;p<_.codecs.length;p++){var d=_.codecs[p];if(y.name.toLowerCase()===d.name.toLowerCase()&&y.clockRate===d.clockRate){if("rtx"===y.name.toLowerCase()&&y.parameters&&d.parameters.apt&&!m(y,d,C.codecs,_.codecs))continue;(d=JSON.parse(JSON.stringify(d))).numChannels=Math.min(y.numChannels,d.numChannels),w.codecs.push(d),d.rtcpFeedback=d.rtcpFeedback.filter(function(l){for(var f=0;f<y.rtcpFeedback.length;f++)if(y.rtcpFeedback[f].type===l.type&&y.rtcpFeedback[f].parameter===l.parameter)return!0;return!1});break}}}),C.headerExtensions.forEach(function(y){for(var p=0;p<_.headerExtensions.length;p++){var d=_.headerExtensions[p];if(y.uri===d.uri){w.headerExtensions.push(d);break}}}),w}function P(C,_,w){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[_][C].indexOf(w)}function M(C,_){var w=C.getRemoteCandidates().find(function(E){return _.foundation===E.foundation&&_.ip===E.ip&&_.port===E.port&&_.priority===E.priority&&_.protocol===E.protocol&&_.type===E.type});return w||C.addRemoteCandidate(_),!w}function h(C,_){var w=new Error(_);return w.name=C,w.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[C],w}X.exports=function(C,_){function w(p,d){d.addTrack(p),d.dispatchEvent(new C.MediaStreamTrackEvent("addtrack",{track:p}))}function E(p,d,l,f){var D=new Event("track");D.track=d,D.receiver=l,D.transceiver={receiver:l},D.streams=f,C.setTimeout(function(){p._dispatchEvent("track",D)})}var m=function(p){var d=this,l=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(D){d[D]=l[D].bind(l)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",p=JSON.parse(JSON.stringify(p||{})),this.usingBundle="max-bundle"===p.bundlePolicy,"negotiate"===p.rtcpMuxPolicy)throw h("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(p.rtcpMuxPolicy||(p.rtcpMuxPolicy="require"),p.iceTransportPolicy){case"all":case"relay":break;default:p.iceTransportPolicy="all"}switch(p.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:p.bundlePolicy="balanced"}if(p.iceServers=function I(C,_){var w=!1;return(C=JSON.parse(JSON.stringify(C))).filter(function(E){if(E&&(E.urls||E.url)){var m=E.urls||E.url;E.url&&!E.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var y="string"==typeof m;return y&&(m=[m]),m=m.filter(function(p){return 0!==p.indexOf("turn:")||-1===p.indexOf("transport=udp")||-1!==p.indexOf("turn:[")||w?0===p.indexOf("stun:")&&_>=14393&&-1===p.indexOf("?transport=udp"):(w=!0,!0)}),delete E.url,E.urls=y?m[0]:m,!!m.length}})}(p.iceServers||[],_),this._iceGatherers=[],p.iceCandidatePoolSize)for(var f=p.iceCandidatePoolSize;f>0;f--)this._iceGatherers.push(new C.RTCIceGatherer({iceServers:p.iceServers,gatherPolicy:p.iceTransportPolicy}));else p.iceCandidatePoolSize=0;this._config=p,this.transceivers=[],this._sdpSessionId=A.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(m.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(m.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),m.prototype.onicecandidate=null,m.prototype.onaddstream=null,m.prototype.ontrack=null,m.prototype.onremovestream=null,m.prototype.onsignalingstatechange=null,m.prototype.oniceconnectionstatechange=null,m.prototype.onconnectionstatechange=null,m.prototype.onicegatheringstatechange=null,m.prototype.onnegotiationneeded=null,m.prototype.ondatachannel=null,m.prototype._dispatchEvent=function(p,d){this._isClosed||(this.dispatchEvent(d),"function"==typeof this["on"+p]&&this["on"+p](d))},m.prototype._emitGatheringStateChange=function(){var p=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",p)},m.prototype.getConfiguration=function(){return this._config},m.prototype.getLocalStreams=function(){return this.localStreams},m.prototype.getRemoteStreams=function(){return this.remoteStreams},m.prototype._createTransceiver=function(p,d){var f={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:p,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)f.iceTransport=this.transceivers[0].iceTransport,f.dtlsTransport=this.transceivers[0].dtlsTransport;else{var D=this._createIceAndDtlsTransports();f.iceTransport=D.iceTransport,f.dtlsTransport=D.dtlsTransport}return d||this.transceivers.push(f),f},m.prototype.addTrack=function(p,d){if(this._isClosed)throw h("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var l;if(this.transceivers.find(function(D){return D.track===p}))throw h("InvalidAccessError","Track already exists.");for(var f=0;f<this.transceivers.length;f++)this.transceivers[f].track||this.transceivers[f].kind!==p.kind||(l=this.transceivers[f]);return l||(l=this._createTransceiver(p.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(d)&&this.localStreams.push(d),l.track=p,l.stream=d,l.rtpSender=new C.RTCRtpSender(p,l.dtlsTransport),l.rtpSender},m.prototype.addStream=function(p){var d=this;if(_>=15025)p.getTracks().forEach(function(f){d.addTrack(f,p)});else{var l=p.clone();p.getTracks().forEach(function(f,D){var R=l.getTracks()[D];f.addEventListener("enabled",function(x){R.enabled=x.enabled})}),l.getTracks().forEach(function(f){d.addTrack(f,l)})}},m.prototype.removeTrack=function(p){if(this._isClosed)throw h("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(p instanceof C.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var d=this.transceivers.find(function(f){return f.rtpSender===p});if(!d)throw h("InvalidAccessError","Sender was not created by this connection.");var l=d.stream;d.rtpSender.stop(),d.rtpSender=null,d.track=null,d.stream=null,-1===this.transceivers.map(function(f){return f.stream}).indexOf(l)&&this.localStreams.indexOf(l)>-1&&this.localStreams.splice(this.localStreams.indexOf(l),1),this._maybeFireNegotiationNeeded()},m.prototype.removeStream=function(p){var d=this;p.getTracks().forEach(function(l){var f=d.getSenders().find(function(D){return D.track===l});f&&d.removeTrack(f)})},m.prototype.getSenders=function(){return this.transceivers.filter(function(p){return!!p.rtpSender}).map(function(p){return p.rtpSender})},m.prototype.getReceivers=function(){return this.transceivers.filter(function(p){return!!p.rtpReceiver}).map(function(p){return p.rtpReceiver})},m.prototype._createIceGatherer=function(p,d){var l=this;if(d&&p>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var f=new C.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(f,"state",{value:"new",writable:!0}),this.transceivers[p].bufferedCandidateEvents=[],this.transceivers[p].bufferCandidates=function(D){var R=!D.candidate||0===Object.keys(D.candidate).length;f.state=R?"completed":"gathering",null!==l.transceivers[p].bufferedCandidateEvents&&l.transceivers[p].bufferedCandidateEvents.push(D)},f.addEventListener("localcandidate",this.transceivers[p].bufferCandidates),f},m.prototype._gather=function(p,d){var l=this,f=this.transceivers[d].iceGatherer;if(!f.onlocalcandidate){var D=this.transceivers[d].bufferedCandidateEvents;this.transceivers[d].bufferedCandidateEvents=null,f.removeEventListener("localcandidate",this.transceivers[d].bufferCandidates),f.onlocalcandidate=function(R){if(!(l.usingBundle&&d>0)){var x=new Event("icecandidate");x.candidate={sdpMid:p,sdpMLineIndex:d};var F=R.candidate,j=!F||0===Object.keys(F).length;if(j)"new"!==f.state&&"gathering"!==f.state||(f.state="completed");else{"new"===f.state&&(f.state="gathering"),F.component=1,F.ufrag=f.getLocalParameters().usernameFragment;var B=A.writeCandidate(F);x.candidate=Object.assign(x.candidate,A.parseCandidate(B)),x.candidate.candidate=B,x.candidate.toJSON=function(){return{candidate:x.candidate.candidate,sdpMid:x.candidate.sdpMid,sdpMLineIndex:x.candidate.sdpMLineIndex,usernameFragment:x.candidate.usernameFragment}}}var L=A.getMediaSections(l._localDescription.sdp);L[x.candidate.sdpMLineIndex]+=j?"a=end-of-candidates\r\n":"a="+x.candidate.candidate+"\r\n",l._localDescription.sdp=A.getDescription(l._localDescription.sdp)+L.join("");var z=l.transceivers.every(function(Z){return Z.iceGatherer&&"completed"===Z.iceGatherer.state});"gathering"!==l.iceGatheringState&&(l.iceGatheringState="gathering",l._emitGatheringStateChange()),j||l._dispatchEvent("icecandidate",x),z&&(l._dispatchEvent("icecandidate",new Event("icecandidate")),l.iceGatheringState="complete",l._emitGatheringStateChange())}},C.setTimeout(function(){D.forEach(function(R){f.onlocalcandidate(R)})},0)}},m.prototype._createIceAndDtlsTransports=function(){var p=this,d=new C.RTCIceTransport(null);d.onicestatechange=function(){p._updateIceConnectionState(),p._updateConnectionState()};var l=new C.RTCDtlsTransport(d);return l.ondtlsstatechange=function(){p._updateConnectionState()},l.onerror=function(){Object.defineProperty(l,"state",{value:"failed",writable:!0}),p._updateConnectionState()},{iceTransport:d,dtlsTransport:l}},m.prototype._disposeIceAndDtlsTransports=function(p){var d=this.transceivers[p].iceGatherer;d&&(delete d.onlocalcandidate,delete this.transceivers[p].iceGatherer);var l=this.transceivers[p].iceTransport;l&&(delete l.onicestatechange,delete this.transceivers[p].iceTransport);var f=this.transceivers[p].dtlsTransport;f&&(delete f.ondtlsstatechange,delete f.onerror,delete this.transceivers[p].dtlsTransport)},m.prototype._transceive=function(p,d,l){var f=k(p.localCapabilities,p.remoteCapabilities);d&&p.rtpSender&&(f.encodings=p.sendEncodingParameters,f.rtcp={cname:A.localCName,compound:p.rtcpParameters.compound},p.recvEncodingParameters.length&&(f.rtcp.ssrc=p.recvEncodingParameters[0].ssrc),p.rtpSender.send(f)),l&&p.rtpReceiver&&f.codecs.length>0&&("video"===p.kind&&p.recvEncodingParameters&&_<15019&&p.recvEncodingParameters.forEach(function(D){delete D.rtx}),f.encodings=p.recvEncodingParameters.length?p.recvEncodingParameters:[{}],f.rtcp={compound:p.rtcpParameters.compound},p.rtcpParameters.cname&&(f.rtcp.cname=p.rtcpParameters.cname),p.sendEncodingParameters.length&&(f.rtcp.ssrc=p.sendEncodingParameters[0].ssrc),p.rtpReceiver.receive(f))},m.prototype.setLocalDescription=function(p){var d,l,f=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!P("setLocalDescription",p.type,f.signalingState)||f._isClosed)return Promise.reject(h("InvalidStateError","Can not set local "+p.type+" in state "+f.signalingState));if("offer"===p.type)d=A.splitSections(p.sdp),l=d.shift(),d.forEach(function(R,x){var F=A.parseRtpParameters(R);f.transceivers[x].localCapabilities=F}),f.transceivers.forEach(function(R,x){f._gather(R.mid,x)});else if("answer"===p.type){d=A.splitSections(f._remoteDescription.sdp),l=d.shift();var D=A.matchPrefix(l,"a=ice-lite").length>0;d.forEach(function(R,x){var F=f.transceivers[x],j=F.iceGatherer,B=F.iceTransport,L=F.dtlsTransport,z=F.localCapabilities,Z=F.remoteCapabilities;if(!(A.isRejected(R)&&0===A.matchPrefix(R,"a=bundle-only").length||F.rejected)){var ie=A.getIceParameters(R,l),ee=A.getDtlsParameters(R,l);D&&(ee.role="server"),f.usingBundle&&0!==x||(f._gather(F.mid,x),"new"===B.state&&B.start(j,ie,D?"controlling":"controlled"),"new"===L.state&&L.start(ee));var se=k(z,Z);f._transceive(F,se.codecs.length>0,!1)}})}return f._localDescription={type:p.type,sdp:p.sdp},f._updateSignalingState("offer"===p.type?"have-local-offer":"stable"),Promise.resolve()},m.prototype.setRemoteDescription=function(p){var d=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!P("setRemoteDescription",p.type,d.signalingState)||d._isClosed)return Promise.reject(h("InvalidStateError","Can not set remote "+p.type+" in state "+d.signalingState));var l={};d.remoteStreams.forEach(function(B){l[B.id]=B});var f=[],D=A.splitSections(p.sdp),R=D.shift(),x=A.matchPrefix(R,"a=ice-lite").length>0,F=A.matchPrefix(R,"a=group:BUNDLE ").length>0;d.usingBundle=F;var j=A.matchPrefix(R,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!j&&j.substr(14).split(" ").indexOf("trickle")>=0,D.forEach(function(B,L){var z=A.splitLines(B),Z=A.getKind(B),ie=A.isRejected(B)&&0===A.matchPrefix(B,"a=bundle-only").length,ee=z[0].substr(2).split(" ")[2],se=A.getDirection(B,R),Ve=A.parseMsid(B),is=A.getMid(B)||A.generateIdentifier();if(ie||"application"===Z&&("DTLS/SCTP"===ee||"UDP/DTLS/SCTP"===ee))d.transceivers[L]={mid:is,kind:Z,protocol:ee,rejected:!0};else{var Ce,os,lt,$r,Ht,Qe,$e,_r,we;!ie&&d.transceivers[L]&&d.transceivers[L].rejected&&(d.transceivers[L]=d._createTransceiver(Z,!0));var Gr,Xa,Bi=A.parseRtpParameters(B);ie||(Gr=A.getIceParameters(B,R),(Xa=A.getDtlsParameters(B,R)).role="client"),$e=A.parseRtpEncodingParameters(B);var eu=A.parseRtcpParameters(B),tu=A.matchPrefix(B,"a=end-of-candidates",R).length>0,Cr=A.matchPrefix(B,"a=candidate:").map(function(yt){return A.parseCandidate(yt)}).filter(function(yt){return 1===yt.component});if(("offer"===p.type||"answer"===p.type)&&!ie&&F&&L>0&&d.transceivers[L]&&(d._disposeIceAndDtlsTransports(L),d.transceivers[L].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[L].iceTransport=d.transceivers[0].iceTransport,d.transceivers[L].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[L].rtpSender&&d.transceivers[L].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[L].rtpReceiver&&d.transceivers[L].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==p.type||ie)"answer"===p.type&&!ie&&(os=(Ce=d.transceivers[L]).iceGatherer,lt=Ce.iceTransport,$r=Ce.dtlsTransport,Ht=Ce.rtpReceiver,Qe=Ce.sendEncodingParameters,_r=Ce.localCapabilities,d.transceivers[L].recvEncodingParameters=$e,d.transceivers[L].remoteCapabilities=Bi,d.transceivers[L].rtcpParameters=eu,Cr.length&&"new"===lt.state&&(!x&&!tu||F&&0!==L?Cr.forEach(function(yt){M(Ce.iceTransport,yt)}):lt.setRemoteCandidates(Cr)),F&&0!==L||("new"===lt.state&&lt.start(os,Gr,"controlling"),"new"===$r.state&&$r.start(Xa)),!k(Ce.localCapabilities,Ce.remoteCapabilities).codecs.filter(function(yt){return"rtx"===yt.name.toLowerCase()}).length&&Ce.sendEncodingParameters[0].rtx&&delete Ce.sendEncodingParameters[0].rtx,d._transceive(Ce,"sendrecv"===se||"recvonly"===se,"sendrecv"===se||"sendonly"===se),!Ht||"sendrecv"!==se&&"sendonly"!==se?delete Ce.rtpReceiver:(we=Ht.track,Ve?(l[Ve.stream]||(l[Ve.stream]=new C.MediaStream),w(we,l[Ve.stream]),f.push([we,Ht,l[Ve.stream]])):(l.default||(l.default=new C.MediaStream),w(we,l.default),f.push([we,Ht,l.default]))));else{(Ce=d.transceivers[L]||d._createTransceiver(Z)).mid=is,Ce.iceGatherer||(Ce.iceGatherer=d._createIceGatherer(L,F)),Cr.length&&"new"===Ce.iceTransport.state&&(!tu||F&&0!==L?Cr.forEach(function(yt){M(Ce.iceTransport,yt)}):Ce.iceTransport.setRemoteCandidates(Cr)),_r=C.RTCRtpReceiver.getCapabilities(Z),_<15019&&(_r.codecs=_r.codecs.filter(function(yt){return"rtx"!==yt.name})),Qe=Ce.sendEncodingParameters||[{ssrc:1001*(2*L+2)}];var Dr,Ui=!1;"sendrecv"===se||"sendonly"===se?(Ui=!Ce.rtpReceiver,Ht=Ce.rtpReceiver||new C.RTCRtpReceiver(Ce.dtlsTransport,Z),Ui&&(we=Ht.track,Ve&&"-"===Ve.stream||(Ve?(l[Ve.stream]||(l[Ve.stream]=new C.MediaStream,Object.defineProperty(l[Ve.stream],"id",{get:function(){return Ve.stream}})),Object.defineProperty(we,"id",{get:function(){return Ve.track}}),Dr=l[Ve.stream]):(l.default||(l.default=new C.MediaStream),Dr=l.default)),Dr&&(w(we,Dr),Ce.associatedRemoteMediaStreams.push(Dr)),f.push([we,Ht,Dr]))):Ce.rtpReceiver&&Ce.rtpReceiver.track&&(Ce.associatedRemoteMediaStreams.forEach(function(yt){var zr,nu,Hi=yt.getTracks().find(function(ru){return ru.id===Ce.rtpReceiver.track.id});Hi&&((nu=yt).removeTrack(zr=Hi),nu.dispatchEvent(new C.MediaStreamTrackEvent("removetrack",{track:zr})))}),Ce.associatedRemoteMediaStreams=[]),Ce.localCapabilities=_r,Ce.remoteCapabilities=Bi,Ce.rtpReceiver=Ht,Ce.rtcpParameters=eu,Ce.sendEncodingParameters=Qe,Ce.recvEncodingParameters=$e,d._transceive(d.transceivers[L],!1,Ui)}}}),void 0===d._dtlsRole&&(d._dtlsRole="offer"===p.type?"active":"passive"),d._remoteDescription={type:p.type,sdp:p.sdp},d._updateSignalingState("offer"===p.type?"have-remote-offer":"stable"),Object.keys(l).forEach(function(B){var L=l[B];if(L.getTracks().length){if(-1===d.remoteStreams.indexOf(L)){d.remoteStreams.push(L);var z=new Event("addstream");z.stream=L,C.setTimeout(function(){d._dispatchEvent("addstream",z)})}f.forEach(function(Z){L.id===Z[2].id&&E(d,Z[0],Z[1],[L])})}}),f.forEach(function(B){B[2]||E(d,B[0],B[1],[])}),C.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(B){B.iceTransport&&"new"===B.iceTransport.state&&B.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),B.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},m.prototype.close=function(){this.transceivers.forEach(function(p){p.iceTransport&&p.iceTransport.stop(),p.dtlsTransport&&p.dtlsTransport.stop(),p.rtpSender&&p.rtpSender.stop(),p.rtpReceiver&&p.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},m.prototype._updateSignalingState=function(p){this.signalingState=p;var d=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",d)},m.prototype._maybeFireNegotiationNeeded=function(){var p=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,C.setTimeout(function(){if(p.needNegotiation){p.needNegotiation=!1;var d=new Event("negotiationneeded");p._dispatchEvent("negotiationneeded",d)}},0))},m.prototype._updateIceConnectionState=function(){var p,d={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&!f.rejected&&d[f.iceTransport.state]++}),p="new",d.failed>0?p="failed":d.checking>0?p="checking":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0?p="connected":d.completed>0&&(p="completed"),p!==this.iceConnectionState){this.iceConnectionState=p;var l=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",l)}},m.prototype._updateConnectionState=function(){var p,d={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&f.dtlsTransport&&!f.rejected&&(d[f.iceTransport.state]++,d[f.dtlsTransport.state]++)}),d.connected+=d.completed,p="new",d.failed>0?p="failed":d.connecting>0?p="connecting":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0&&(p="connected"),p!==this.connectionState){this.connectionState=p;var l=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",l)}},m.prototype.createOffer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createOffer after close"));var d=p.transceivers.filter(function(x){return"audio"===x.kind}).length,l=p.transceivers.filter(function(x){return"video"===x.kind}).length,f=arguments[0];if(f){if(f.mandatory||f.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==f.offerToReceiveAudio&&(d=!0===f.offerToReceiveAudio?1:!1===f.offerToReceiveAudio?0:f.offerToReceiveAudio),void 0!==f.offerToReceiveVideo&&(l=!0===f.offerToReceiveVideo?1:!1===f.offerToReceiveVideo?0:f.offerToReceiveVideo)}for(p.transceivers.forEach(function(x){"audio"===x.kind?--d<0&&(x.wantReceive=!1):"video"===x.kind&&--l<0&&(x.wantReceive=!1)});d>0||l>0;)d>0&&(p._createTransceiver("audio"),d--),l>0&&(p._createTransceiver("video"),l--);var D=A.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.transceivers.forEach(function(x,F){var j=x.track,B=x.kind,L=x.mid||A.generateIdentifier();x.mid=L,x.iceGatherer||(x.iceGatherer=p._createIceGatherer(F,p.usingBundle));var z=C.RTCRtpSender.getCapabilities(B);_<15019&&(z.codecs=z.codecs.filter(function(ie){return"rtx"!==ie.name})),z.codecs.forEach(function(ie){"H264"===ie.name&&void 0===ie.parameters["level-asymmetry-allowed"]&&(ie.parameters["level-asymmetry-allowed"]="1"),x.remoteCapabilities&&x.remoteCapabilities.codecs&&x.remoteCapabilities.codecs.forEach(function(ee){ie.name.toLowerCase()===ee.name.toLowerCase()&&ie.clockRate===ee.clockRate&&(ie.preferredPayloadType=ee.payloadType)})}),z.headerExtensions.forEach(function(ie){(x.remoteCapabilities&&x.remoteCapabilities.headerExtensions||[]).forEach(function(ee){ie.uri===ee.uri&&(ie.id=ee.id)})});var Z=x.sendEncodingParameters||[{ssrc:1001*(2*F+1)}];j&&_>=15019&&"video"===B&&!Z[0].rtx&&(Z[0].rtx={ssrc:Z[0].ssrc+1}),x.wantReceive&&(x.rtpReceiver=new C.RTCRtpReceiver(x.dtlsTransport,B)),x.localCapabilities=z,x.sendEncodingParameters=Z}),"max-compat"!==p._config.bundlePolicy&&(D+="a=group:BUNDLE "+p.transceivers.map(function(x){return x.mid}).join(" ")+"\r\n"),D+="a=ice-options:trickle\r\n",p.transceivers.forEach(function(x,F){D+=T(x,x.localCapabilities,"offer",x.stream,p._dtlsRole),D+="a=rtcp-rsize\r\n",!x.iceGatherer||"new"===p.iceGatheringState||0!==F&&p.usingBundle||(x.iceGatherer.getLocalCandidates().forEach(function(j){j.component=1,D+="a="+A.writeCandidate(j)+"\r\n"}),"completed"===x.iceGatherer.state&&(D+="a=end-of-candidates\r\n"))});var R=new C.RTCSessionDescription({type:"offer",sdp:D});return Promise.resolve(R)},m.prototype.createAnswer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==p.signalingState&&"have-local-pranswer"!==p.signalingState)return Promise.reject(h("InvalidStateError","Can not call createAnswer in signalingState "+p.signalingState));var d=A.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.usingBundle&&(d+="a=group:BUNDLE "+p.transceivers.map(function(D){return D.mid}).join(" ")+"\r\n"),d+="a=ice-options:trickle\r\n";var l=A.getMediaSections(p._remoteDescription.sdp).length;p.transceivers.forEach(function(D,R){if(!(R+1>l)){if(D.rejected)return"application"===D.kind?d+="DTLS/SCTP"===D.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+D.protocol+" webrtc-datachannel\r\n":"audio"===D.kind?d+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===D.kind&&(d+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(d+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+D.mid+"\r\n");var x;D.stream&&("audio"===D.kind?x=D.stream.getAudioTracks()[0]:"video"===D.kind&&(x=D.stream.getVideoTracks()[0]),x&&_>=15019&&"video"===D.kind&&!D.sendEncodingParameters[0].rtx&&(D.sendEncodingParameters[0].rtx={ssrc:D.sendEncodingParameters[0].ssrc+1}));var F=k(D.localCapabilities,D.remoteCapabilities);!F.codecs.filter(function(j){return"rtx"===j.name.toLowerCase()}).length&&D.sendEncodingParameters[0].rtx&&delete D.sendEncodingParameters[0].rtx,d+=T(D,F,"answer",D.stream,p._dtlsRole),D.rtcpParameters&&D.rtcpParameters.reducedSize&&(d+="a=rtcp-rsize\r\n")}});var f=new C.RTCSessionDescription({type:"answer",sdp:d});return Promise.resolve(f)},m.prototype.addIceCandidate=function(p){var d,l=this;return p&&void 0===p.sdpMLineIndex&&!p.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(f,D){if(!l._remoteDescription)return D(h("InvalidStateError","Can not add ICE candidate without a remote description"));if(p&&""!==p.candidate){var R=p.sdpMLineIndex;if(p.sdpMid)for(var x=0;x<l.transceivers.length;x++)if(l.transceivers[x].mid===p.sdpMid){R=x;break}var F=l.transceivers[R];if(!F)return D(h("OperationError","Can not add ICE candidate"));if(F.rejected)return f();var j=Object.keys(p.candidate).length>0?A.parseCandidate(p.candidate):{};if("tcp"===j.protocol&&(0===j.port||9===j.port)||j.component&&1!==j.component)return f();if((0===R||R>0&&F.iceTransport!==l.transceivers[0].iceTransport)&&!M(F.iceTransport,j))return D(h("OperationError","Can not add ICE candidate"));var B=p.candidate.trim();0===B.indexOf("a=")&&(B=B.substr(2)),(d=A.getMediaSections(l._remoteDescription.sdp))[R]+="a="+(j.type?B:"end-of-candidates")+"\r\n",l._remoteDescription.sdp=A.getDescription(l._remoteDescription.sdp)+d.join("")}else for(var L=0;L<l.transceivers.length&&(l.transceivers[L].rejected||(l.transceivers[L].iceTransport.addRemoteCandidate({}),(d=A.getMediaSections(l._remoteDescription.sdp))[L]+="a=end-of-candidates\r\n",l._remoteDescription.sdp=A.getDescription(l._remoteDescription.sdp)+d.join(""),!l.usingBundle));L++);f()})},m.prototype.getStats=function(p){if(p&&p instanceof C.MediaStreamTrack){var d=null;if(this.transceivers.forEach(function(f){f.rtpSender&&f.rtpSender.track===p?d=f.rtpSender:f.rtpReceiver&&f.rtpReceiver.track===p&&(d=f.rtpReceiver)}),!d)throw h("InvalidAccessError","Invalid selector.");return d.getStats()}var l=[];return this.transceivers.forEach(function(f){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(D){f[D]&&l.push(f[D].getStats())})}),Promise.all(l).then(function(f){var D=new Map;return f.forEach(function(R){R.forEach(function(x){D.set(x.id,x)})}),D})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(p){var d=C[p];if(d&&d.prototype&&d.prototype.getStats){var l=d.prototype.getStats;d.prototype.getStats=function(){return l.apply(this).then(function(f){var D=new Map;return Object.keys(f).forEach(function(R){f[R].type=function b(C){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[C.type]||C.type}(f[R]),D.set(R,f[R])}),D})}}});var y=["createOffer","createAnswer"];return y.forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[0]||"function"==typeof l[1]?d.apply(this,[arguments[2]]).then(function(f){"function"==typeof l[0]&&l[0].apply(null,[f])},function(f){"function"==typeof l[1]&&l[1].apply(null,[f])}):d.apply(this,arguments)}}),(y=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]||"function"==typeof l[2]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)},function(f){"function"==typeof l[2]&&l[2].apply(null,[f])}):d.apply(this,arguments)}}),["getStats"].forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)}):d.apply(this,arguments)}}),m}},{sdp:"YHvh"}],YdKx:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimGetUserMedia=function A(b){var T=b&&b.navigator,I=T.mediaDevices.getUserMedia.bind(T.mediaDevices);T.mediaDevices.getUserMedia=function(k){return I(k).catch(function(P){return Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[(M=P).name]||M.name,message:M.message,constraint:M.constraint,toString:function(){return this.name}});var M})}}},{}],P3bV:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimGetDisplayMedia=function A(b){"getDisplayMedia"in b.navigator&&b.navigator.mediaDevices&&(b.navigator.mediaDevices&&"getDisplayMedia"in b.navigator.mediaDevices||(b.navigator.mediaDevices.getDisplayMedia=b.navigator.getDisplayMedia.bind(b.navigator)))}},{}],XRic:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimPeerConnection=function C(w,E){if(w.RTCIceGatherer&&(w.RTCIceCandidate||(w.RTCIceCandidate=function(p){return p}),w.RTCSessionDescription||(w.RTCSessionDescription=function(p){return p}),E.version<15025)){var m=Object.getOwnPropertyDescriptor(w.MediaStreamTrack.prototype,"enabled");Object.defineProperty(w.MediaStreamTrack.prototype,"enabled",{set:function(p){m.set.call(this,p);var d=new Event("enabled");d.enabled=p,this.dispatchEvent(d)}})}!w.RTCRtpSender||"dtmf"in w.RTCRtpSender.prototype||Object.defineProperty(w.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new w.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),w.RTCDtmfSender&&!w.RTCDTMFSender&&(w.RTCDTMFSender=w.RTCDtmfSender);var y=(0,T.default)(w,E.version);w.RTCPeerConnection=function(p){return p&&p.iceServers&&(p.iceServers=(0,b.filterIceServers)(p.iceServers,E.version),A.log("ICE servers after filtering:",p.iceServers)),new y(p)},w.RTCPeerConnection.prototype=y.prototype},N.shimReplaceTrack=function _(w){!w.RTCRtpSender||"replaceTrack"in w.RTCRtpSender.prototype||(w.RTCRtpSender.prototype.replaceTrack=w.RTCRtpSender.prototype.setTrack)},Object.defineProperty(N,"shimGetUserMedia",{enumerable:!0,get:function(){return I.shimGetUserMedia}}),Object.defineProperty(N,"shimGetDisplayMedia",{enumerable:!0,get:function(){return k.shimGetDisplayMedia}});var A=function h(w){if(w&&w.__esModule)return w;if(null===w||"object"!=typeof w&&"function"!=typeof w)return{default:w};var E=M();if(E&&E.has(w))return E.get(w);var m={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in w)if(Object.prototype.hasOwnProperty.call(w,p)){var d=y?Object.getOwnPropertyDescriptor(w,p):null;d&&(d.get||d.set)?Object.defineProperty(m,p,d):m[p]=w[p]}return m.default=w,E&&E.set(w,m),m}(U("../utils")),b=U("./filtericeservers"),T=function P(w){return w&&w.__esModule?w:{default:w}}(U("rtcpeerconnection-shim")),I=U("./getusermedia"),k=U("./getdisplaymedia");function M(){if("function"!=typeof WeakMap)return null;var w=new WeakMap;return M=function(){return w},w}},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimGetUserMedia=function k(P,M){var h=P&&P.navigator,C=P&&P.MediaStreamTrack;if(h.getUserMedia=function(y,p,d){A.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),h.mediaDevices.getUserMedia(y).then(p,d)},!(M.version>55&&"autoGainControl"in h.mediaDevices.getSupportedConstraints())){var _=function(y,p,d){p in y&&!(d in y)&&(y[d]=y[p],delete y[p])},w=h.mediaDevices.getUserMedia.bind(h.mediaDevices);if(h.mediaDevices.getUserMedia=function(y){return"object"===I(y)&&"object"===I(y.audio)&&(y=JSON.parse(JSON.stringify(y)),_(y.audio,"autoGainControl","mozAutoGainControl"),_(y.audio,"noiseSuppression","mozNoiseSuppression")),w(y)},C&&C.prototype.getSettings){var E=C.prototype.getSettings;C.prototype.getSettings=function(){var y=E.apply(this,arguments);return _(y,"mozAutoGainControl","autoGainControl"),_(y,"mozNoiseSuppression","noiseSuppression"),y}}if(C&&C.prototype.applyConstraints){var m=C.prototype.applyConstraints;C.prototype.applyConstraints=function(y){return"audio"===this.kind&&"object"===I(y)&&(y=JSON.parse(JSON.stringify(y)),_(y,"autoGainControl","mozAutoGainControl"),_(y,"noiseSuppression","mozNoiseSuppression")),m.apply(this,[y])}}}};var A=function T(P){if(P&&P.__esModule)return P;if(null===P||"object"!=typeof P&&"function"!=typeof P)return{default:P};var M=b();if(M&&M.has(P))return M.get(P);var h={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in P)if(Object.prototype.hasOwnProperty.call(P,_)){var w=C?Object.getOwnPropertyDescriptor(P,_):null;w&&(w.get||w.set)?Object.defineProperty(h,_,w):h[_]=P[_]}return h.default=P,M&&M.set(P,h),h}(U("../utils"));function b(){if("function"!=typeof WeakMap)return null;var P=new WeakMap;return b=function(){return P},P}function I(P){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(P)}},{"../utils":"iSxC"}],UuGU:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimGetDisplayMedia=function A(b,T){b.navigator.mediaDevices&&"getDisplayMedia"in b.navigator.mediaDevices||b.navigator.mediaDevices&&(b.navigator.mediaDevices.getDisplayMedia=function(I){if(!I||!I.video){var k=new DOMException("getDisplayMedia without video constraints is undefined");return k.name="NotFoundError",k.code=8,Promise.reject(k)}return!0===I.video?I.video={mediaSource:T}:I.video.mediaSource=T,b.navigator.mediaDevices.getUserMedia(I)})}},{}],Fzdr:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimOnTrack=function h(f){"object"===M(f)&&f.RTCTrackEvent&&"receiver"in f.RTCTrackEvent.prototype&&!("transceiver"in f.RTCTrackEvent.prototype)&&Object.defineProperty(f.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},N.shimPeerConnection=function C(f,D){if("object"===M(f)&&(f.RTCPeerConnection||f.mozRTCPeerConnection)){!f.RTCPeerConnection&&f.mozRTCPeerConnection&&(f.RTCPeerConnection=f.mozRTCPeerConnection),D.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(F){var j=f.RTCPeerConnection.prototype[F],B=function P(f,D,R){return D in f?Object.defineProperty(f,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):f[D]=R,f}({},F,function(){return arguments[0]=new("addIceCandidate"===F?f.RTCIceCandidate:f.RTCSessionDescription)(arguments[0]),j.apply(this,arguments)});f.RTCPeerConnection.prototype[F]=B[F]});var R={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},x=f.RTCPeerConnection.prototype.getStats;f.RTCPeerConnection.prototype.getStats=function(){var[F,j,B]=arguments;return x.apply(this,[F||null]).then(function(L){if(D.version<53&&!j)try{L.forEach(function(z){z.type=R[z.type]||z.type})}catch(z){if("TypeError"!==z.name)throw z;L.forEach(function(Z,ie){L.set(ie,Object.assign({},Z,{type:R[Z.type]||Z.type}))})}return L}).then(j,B)}}},N.shimSenderGetStats=function _(f){if("object"===M(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpSender.prototype))){var D=f.RTCPeerConnection.prototype.getSenders;D&&(f.RTCPeerConnection.prototype.getSenders=function(){var x=this,F=D.apply(this,[]);return F.forEach(function(j){return j._pc=x}),F});var R=f.RTCPeerConnection.prototype.addTrack;R&&(f.RTCPeerConnection.prototype.addTrack=function(){var x=R.apply(this,arguments);return x._pc=this,x}),f.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},N.shimReceiverGetStats=function w(f){if("object"===M(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpReceiver.prototype))){var D=f.RTCPeerConnection.prototype.getReceivers;D&&(f.RTCPeerConnection.prototype.getReceivers=function(){var R=this,x=D.apply(this,[]);return x.forEach(function(F){return F._pc=R}),x}),A.wrapPeerConnectionEvent(f,"track",function(R){return R.receiver._pc=R.srcElement,R}),f.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},N.shimRemoveStream=function E(f){!f.RTCPeerConnection||"removeStream"in f.RTCPeerConnection.prototype||(f.RTCPeerConnection.prototype.removeStream=function(D){var R=this;A.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(x){x.track&&D.getTracks().includes(x.track)&&R.removeTrack(x)})})},N.shimRTCDataChannel=function m(f){f.DataChannel&&!f.RTCDataChannel&&(f.RTCDataChannel=f.DataChannel)},N.shimAddTransceiver=function y(f){if("object"===M(f)&&f.RTCPeerConnection){var D=f.RTCPeerConnection.prototype.addTransceiver;D&&(f.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var R=arguments[1],x=R&&"sendEncodings"in R;x&&R.sendEncodings.forEach(function(L){if("rid"in L&&!/^[a-z0-9]{0,16}$/i.test(L.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in L&&!(parseFloat(L.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in L&&!(parseFloat(L.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var F=D.apply(this,arguments);if(x){var{sender:j}=F,B=j.getParameters();"encodings"in B&&(1!==B.encodings.length||0!==Object.keys(B.encodings[0]).length)||(B.encodings=R.sendEncodings,j.sendEncodings=R.sendEncodings,this.setParametersPromises.push(j.setParameters(B).then(function(){delete j.sendEncodings}).catch(function(){delete j.sendEncodings})))}return F})}},N.shimGetParameters=function p(f){if("object"===M(f)&&f.RTCRtpSender){var D=f.RTCRtpSender.prototype.getParameters;D&&(f.RTCRtpSender.prototype.getParameters=function(){var R=D.apply(this,arguments);return"encodings"in R||(R.encodings=[].concat(this.sendEncodings||[{}])),R})}},N.shimCreateOffer=function d(f){if("object"===M(f)&&f.RTCPeerConnection){var D=f.RTCPeerConnection.prototype.createOffer;f.RTCPeerConnection.prototype.createOffer=function(){var R=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return D.apply(x,R)}).finally(function(){x.setParametersPromises=[]}):D.apply(this,arguments)}}},N.shimCreateAnswer=function l(f){if("object"===M(f)&&f.RTCPeerConnection){var D=f.RTCPeerConnection.prototype.createAnswer;f.RTCPeerConnection.prototype.createAnswer=function(){var R=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return D.apply(x,R)}).finally(function(){x.setParametersPromises=[]}):D.apply(this,arguments)}}},Object.defineProperty(N,"shimGetUserMedia",{enumerable:!0,get:function(){return b.shimGetUserMedia}}),Object.defineProperty(N,"shimGetDisplayMedia",{enumerable:!0,get:function(){return T.shimGetDisplayMedia}});var A=function k(f){if(f&&f.__esModule)return f;if(null===f||"object"!=typeof f&&"function"!=typeof f)return{default:f};var D=I();if(D&&D.has(f))return D.get(f);var R={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in f)if(Object.prototype.hasOwnProperty.call(f,F)){var j=x?Object.getOwnPropertyDescriptor(f,F):null;j&&(j.get||j.set)?Object.defineProperty(R,F,j):R[F]=f[F]}return R.default=f,D&&D.set(f,R),R}(U("../utils")),b=U("./getusermedia"),T=U("./getdisplaymedia");function I(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return I=function(){return f},f}function M(f){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(f)}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimLocalStreamsAPI=function k(y){if("object"===I(y)&&y.RTCPeerConnection){if("getLocalStreams"in y.RTCPeerConnection.prototype||(y.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in y.RTCPeerConnection.prototype)){var p=y.RTCPeerConnection.prototype.addTrack;y.RTCPeerConnection.prototype.addStream=function(d){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(d)||this._localStreams.push(d),d.getAudioTracks().forEach(function(f){return p.call(l,f,d)}),d.getVideoTracks().forEach(function(f){return p.call(l,f,d)})},y.RTCPeerConnection.prototype.addTrack=function(d){for(var l=this,f=arguments.length,D=new Array(f>1?f-1:0),R=1;R<f;R++)D[R-1]=arguments[R];return D&&D.forEach(function(x){l._localStreams?l._localStreams.includes(x)||l._localStreams.push(x):l._localStreams=[x]}),p.apply(this,arguments)}}"removeStream"in y.RTCPeerConnection.prototype||(y.RTCPeerConnection.prototype.removeStream=function(d){var l=this;this._localStreams||(this._localStreams=[]);var f=this._localStreams.indexOf(d);if(-1!==f){this._localStreams.splice(f,1);var D=d.getTracks();this.getSenders().forEach(function(R){D.includes(R.track)&&l.removeTrack(R)})}})}},N.shimRemoteStreamsAPI=function P(y){if("object"===I(y)&&y.RTCPeerConnection&&("getRemoteStreams"in y.RTCPeerConnection.prototype||(y.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in y.RTCPeerConnection.prototype))){Object.defineProperty(y.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(d){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=d),this.addEventListener("track",this._onaddstreampoly=function(f){f.streams.forEach(function(D){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(D)){l._remoteStreams.push(D);var R=new Event("addstream");R.stream=D,l.dispatchEvent(R)}})})}});var p=y.RTCPeerConnection.prototype.setRemoteDescription;y.RTCPeerConnection.prototype.setRemoteDescription=function(){var d=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(f){if(d._remoteStreams||(d._remoteStreams=[]),!(d._remoteStreams.indexOf(f)>=0)){d._remoteStreams.push(f);var D=new Event("addstream");D.stream=f,d.dispatchEvent(D)}})}),p.apply(d,arguments)}}},N.shimCallbacksAPI=function M(y){if("object"===I(y)&&y.RTCPeerConnection){var p=y.RTCPeerConnection.prototype,d=p.createOffer,l=p.createAnswer,f=p.setLocalDescription,D=p.setRemoteDescription,R=p.addIceCandidate;p.createOffer=function(F,j){var B=arguments.length>=2?arguments[2]:arguments[0],L=d.apply(this,[B]);return j?(L.then(F,j),Promise.resolve()):L},p.createAnswer=function(F,j){var B=arguments.length>=2?arguments[2]:arguments[0],L=l.apply(this,[B]);return j?(L.then(F,j),Promise.resolve()):L};var x=function(F,j,B){var L=f.apply(this,[F]);return B?(L.then(j,B),Promise.resolve()):L};p.setLocalDescription=x,p.setRemoteDescription=x=function(F,j,B){var L=D.apply(this,[F]);return B?(L.then(j,B),Promise.resolve()):L},p.addIceCandidate=x=function(F,j,B){var L=R.apply(this,[F]);return B?(L.then(j,B),Promise.resolve()):L}}},N.shimGetUserMedia=function h(y){var p=y&&y.navigator;if(p.mediaDevices&&p.mediaDevices.getUserMedia){var d=p.mediaDevices,l=d.getUserMedia.bind(d);p.mediaDevices.getUserMedia=function(f){return l(C(f))}}!p.getUserMedia&&p.mediaDevices&&p.mediaDevices.getUserMedia&&(p.getUserMedia=function(f,D,R){p.mediaDevices.getUserMedia(f).then(D,R)}.bind(p))},N.shimConstraints=C,N.shimRTCIceServerUrls=function _(y){if(y.RTCPeerConnection){var p=y.RTCPeerConnection;y.RTCPeerConnection=function(d,l){if(d&&d.iceServers){for(var f=[],D=0;D<d.iceServers.length;D++){var R=d.iceServers[D];!R.hasOwnProperty("urls")&&R.hasOwnProperty("url")?(A.deprecated("RTCIceServer.url","RTCIceServer.urls"),(R=JSON.parse(JSON.stringify(R))).urls=R.url,delete R.url,f.push(R)):f.push(d.iceServers[D])}d.iceServers=f}return new p(d,l)},y.RTCPeerConnection.prototype=p.prototype,"generateCertificate"in p&&Object.defineProperty(y.RTCPeerConnection,"generateCertificate",{get:function(){return p.generateCertificate}})}},N.shimTrackEventTransceiver=function w(y){"object"===I(y)&&y.RTCTrackEvent&&"receiver"in y.RTCTrackEvent.prototype&&!("transceiver"in y.RTCTrackEvent.prototype)&&Object.defineProperty(y.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},N.shimCreateOfferLegacy=function E(y){var p=y.RTCPeerConnection.prototype.createOffer;y.RTCPeerConnection.prototype.createOffer=function(d){if(d){void 0!==d.offerToReceiveAudio&&(d.offerToReceiveAudio=!!d.offerToReceiveAudio);var l=this.getTransceivers().find(function(D){return"audio"===D.receiver.track.kind});!1===d.offerToReceiveAudio&&l?"sendrecv"===l.direction?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":"recvonly"===l.direction&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):!0!==d.offerToReceiveAudio||l||this.addTransceiver("audio"),void 0!==d.offerToReceiveVideo&&(d.offerToReceiveVideo=!!d.offerToReceiveVideo);var f=this.getTransceivers().find(function(D){return"video"===D.receiver.track.kind});!1===d.offerToReceiveVideo&&f?"sendrecv"===f.direction?f.setDirection?f.setDirection("sendonly"):f.direction="sendonly":"recvonly"===f.direction&&(f.setDirection?f.setDirection("inactive"):f.direction="inactive"):!0!==d.offerToReceiveVideo||f||this.addTransceiver("video")}return p.apply(this,arguments)}},N.shimAudioContext=function m(y){"object"!==I(y)||y.AudioContext||(y.AudioContext=y.webkitAudioContext)};var A=function T(y){if(y&&y.__esModule)return y;if(null===y||"object"!=typeof y&&"function"!=typeof y)return{default:y};var p=b();if(p&&p.has(y))return p.get(y);var d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in y)if(Object.prototype.hasOwnProperty.call(y,f)){var D=l?Object.getOwnPropertyDescriptor(y,f):null;D&&(D.get||D.set)?Object.defineProperty(d,f,D):d[f]=y[f]}return d.default=y,p&&p.set(y,d),d}(U("../utils"));function b(){if("function"!=typeof WeakMap)return null;var y=new WeakMap;return b=function(){return y},y}function I(y){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function C(y){return y&&void 0!==y.video?Object.assign({},y,{video:A.compactObject(y.video)}):y}},{"../utils":"iSxC"}],GOQK:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.shimRTCIceCandidate=function M(m){if(m.RTCIceCandidate&&(!m.RTCIceCandidate||!("foundation"in m.RTCIceCandidate.prototype))){var y=m.RTCIceCandidate;m.RTCIceCandidate=function(p){if("object"===P(p)&&p.candidate&&0===p.candidate.indexOf("a=")&&((p=JSON.parse(JSON.stringify(p))).candidate=p.candidate.substr(2)),p.candidate&&p.candidate.length){var d=new y(p),l=A.default.parseCandidate(p.candidate),f=Object.assign(d,l);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new y(p)},m.RTCIceCandidate.prototype=y.prototype,b.wrapPeerConnectionEvent(m,"icecandidate",function(p){return p.candidate&&Object.defineProperty(p,"candidate",{value:new m.RTCIceCandidate(p.candidate),writable:"false"}),p})}},N.shimMaxMessageSize=function h(m,y){if(m.RTCPeerConnection){"sctp"in m.RTCPeerConnection.prototype||Object.defineProperty(m.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===y.browser&&y.version>=76){var{sdpSemantics:d}=this.getConfiguration();"plan-b"===d&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(B){if(!B||!B.sdp)return!1;var L=A.default.splitSections(B.sdp);return L.shift(),L.some(function(z){var Z=A.default.parseMLine(z);return Z&&"application"===Z.kind&&-1!==Z.protocol.indexOf("SCTP")})}(arguments[0])){var l,f=function(B){var L=B.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===L||L.length<2)return-1;var z=parseInt(L[1],10);return z!=z?-1:z}(arguments[0]),D=(F=f,j=65536,"firefox"===y.browser&&(j=y.version<57?-1===F?16384:2147483637:y.version<60?57===y.version?65535:65536:2147483637),j),R=function(B,L){var z=65536;"firefox"===y.browser&&57===y.version&&(z=65535);var Z=A.default.matchPrefix(B.sdp,"a=max-message-size:");return Z.length>0?z=parseInt(Z[0].substr(19),10):"firefox"===y.browser&&-1!==L&&(z=2147483637),z}(arguments[0],f);l=0===D&&0===R?Number.POSITIVE_INFINITY:0===D||0===R?Math.max(D,R):Math.min(D,R);var x={};Object.defineProperty(x,"maxMessageSize",{get:function(){return l}}),this._sctp=x}var F,j;return p.apply(this,arguments)}}},N.shimSendThrowTypeError=function C(m){if(m.RTCPeerConnection&&"createDataChannel"in m.RTCPeerConnection.prototype){var y=m.RTCPeerConnection.prototype.createDataChannel;m.RTCPeerConnection.prototype.createDataChannel=function(){var d=y.apply(this,arguments);return p(d,this),d},b.wrapPeerConnectionEvent(m,"datachannel",function(d){return p(d.channel,d.target),d})}function p(d,l){var f=d.send;d.send=function(){var D=arguments[0],R=D.length||D.size||D.byteLength;if("open"===d.readyState&&l.sctp&&R>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return f.apply(d,arguments)}}},N.shimConnectionState=function _(m){if(m.RTCPeerConnection&&!("connectionState"in m.RTCPeerConnection.prototype)){var y=m.RTCPeerConnection.prototype;Object.defineProperty(y,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(y,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(p){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),p&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=p)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(p){var d=y[p];y[p]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(l){var f=l.target;if(f._lastConnectionState!==f.connectionState){f._lastConnectionState=f.connectionState;var D=new Event("connectionstatechange",l);f.dispatchEvent(D)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),d.apply(this,arguments)}})}},N.removeExtmapAllowMixed=function w(m,y){if(m.RTCPeerConnection&&!("chrome"===y.browser&&y.version>=71||"safari"===y.browser&&y.version>=605)){var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(d){if(d&&d.sdp&&-1!==d.sdp.indexOf("\na=extmap-allow-mixed")){var l=d.sdp.split("\n").filter(function(f){return"a=extmap-allow-mixed"!==f.trim()}).join("\n");m.RTCSessionDescription&&d instanceof m.RTCSessionDescription?arguments[0]=new m.RTCSessionDescription({type:d.type,sdp:l}):d.sdp=l}return p.apply(this,arguments)}}},N.shimAddIceCandidateNullOrEmpty=function E(m,y){if(m.RTCPeerConnection&&m.RTCPeerConnection.prototype){var p=m.RTCPeerConnection.prototype.addIceCandidate;p&&0!==p.length&&(m.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===y.browser&&y.version<78||"firefox"===y.browser&&y.version<68||"safari"===y.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():p.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}};var A=function k(m){return m&&m.__esModule?m:{default:m}}(U("sdp")),b=function I(m){if(m&&m.__esModule)return m;if(null===m||"object"!=typeof m&&"function"!=typeof m)return{default:m};var y=T();if(y&&y.has(m))return y.get(m);var p={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in m)if(Object.prototype.hasOwnProperty.call(m,l)){var f=d?Object.getOwnPropertyDescriptor(m,l):null;f&&(f.get||f.set)?Object.defineProperty(p,l,f):p[l]=m[l]}return p.default=m,y&&y.set(m,p),p}(U("./utils"));function T(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return T=function(){return m},m}function P(m){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.adapterFactory=function C(){var{window:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},E=A.log,m=A.detectBrowser(_),y={browserDetails:m,commonShim:P,extractVersion:A.extractVersion,disableLog:A.disableLog,disableWarnings:A.disableWarnings};switch(m.browser){case"chrome":if(!b||!b.shimPeerConnection||!w.shimChrome)return E("Chrome shim is not included in this adapter release."),y;if(null===m.version)return E("Chrome shim can not determine version, not shimming."),y;E("adapter.js shimming chrome."),y.browserShim=b,P.shimAddIceCandidateNullOrEmpty(_,m),b.shimGetUserMedia(_,m),b.shimMediaStream(_,m),b.shimPeerConnection(_,m),b.shimOnTrack(_,m),b.shimAddTrackRemoveTrack(_,m),b.shimGetSendersWithDtmf(_,m),b.shimGetStats(_,m),b.shimSenderReceiverGetStats(_,m),b.fixNegotiationNeeded(_,m),P.shimRTCIceCandidate(_,m),P.shimConnectionState(_,m),P.shimMaxMessageSize(_,m),P.shimSendThrowTypeError(_,m),P.removeExtmapAllowMixed(_,m);break;case"firefox":if(!I||!I.shimPeerConnection||!w.shimFirefox)return E("Firefox shim is not included in this adapter release."),y;E("adapter.js shimming firefox."),y.browserShim=I,P.shimAddIceCandidateNullOrEmpty(_,m),I.shimGetUserMedia(_,m),I.shimPeerConnection(_,m),I.shimOnTrack(_,m),I.shimRemoveStream(_,m),I.shimSenderGetStats(_,m),I.shimReceiverGetStats(_,m),I.shimRTCDataChannel(_,m),I.shimAddTransceiver(_,m),I.shimGetParameters(_,m),I.shimCreateOffer(_,m),I.shimCreateAnswer(_,m),P.shimRTCIceCandidate(_,m),P.shimConnectionState(_,m),P.shimMaxMessageSize(_,m),P.shimSendThrowTypeError(_,m);break;case"edge":if(!T||!T.shimPeerConnection||!w.shimEdge)return E("MS edge shim is not included in this adapter release."),y;E("adapter.js shimming edge."),y.browserShim=T,T.shimGetUserMedia(_,m),T.shimGetDisplayMedia(_,m),T.shimPeerConnection(_,m),T.shimReplaceTrack(_,m),P.shimMaxMessageSize(_,m),P.shimSendThrowTypeError(_,m);break;case"safari":if(!k||!w.shimSafari)return E("Safari shim is not included in this adapter release."),y;E("adapter.js shimming safari."),y.browserShim=k,P.shimAddIceCandidateNullOrEmpty(_,m),k.shimRTCIceServerUrls(_,m),k.shimCreateOfferLegacy(_,m),k.shimCallbacksAPI(_,m),k.shimLocalStreamsAPI(_,m),k.shimRemoteStreamsAPI(_,m),k.shimTrackEventTransceiver(_,m),k.shimGetUserMedia(_,m),k.shimAudioContext(_,m),P.shimRTCIceCandidate(_,m),P.shimMaxMessageSize(_,m),P.shimSendThrowTypeError(_,m),P.removeExtmapAllowMixed(_,m);break;default:E("Unsupported browser!")}return y};var A=h(U("./utils")),b=h(U("./chrome/chrome_shim")),T=h(U("./edge/edge_shim")),I=h(U("./firefox/firefox_shim")),k=h(U("./safari/safari_shim")),P=h(U("./common_shim"));function M(){if("function"!=typeof WeakMap)return null;var _=new WeakMap;return M=function(){return _},_}function h(_){if(_&&_.__esModule)return _;if(null===_||"object"!=typeof _&&"function"!=typeof _)return{default:_};var w=M();if(w&&w.has(_))return w.get(_);var E={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in _)if(Object.prototype.hasOwnProperty.call(_,y)){var p=m?Object.getOwnPropertyDescriptor(_,y):null;p&&(p.get||p.set)?Object.defineProperty(E,y,p):E[y]=_[y]}return E.default=_,w&&w.set(_,E),E}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var b=(0,U("./adapter_factory.js").adapterFactory)({window:"undefined"==typeof window?void 0:window});N.default=b},{"./adapter_factory.js":"KtlG"}],sXtV:[function(U,X,N){"use strict";var A=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(N,"__esModule",{value:!0}),N.webRTCAdapter=void 0;var b=A(U("webrtc-adapter"));N.webRTCAdapter=b.default},{"webrtc-adapter":"tI1X"}],I31f:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.Supports=void 0;var A=U("./adapter");N.Supports=new(function(){function b(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return b.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},b.prototype.isBrowserSupported=function(){var T=this.getBrowser(),I=this.getVersion();return!!this.supportedBrowsers.includes(T)&&("chrome"===T?I>=this.minChromeVersion:"firefox"===T?I>=this.minFirefoxVersion:"safari"===T&&!this.isIOS&&I>=this.minSafariVersion)},b.prototype.getBrowser=function(){return A.webRTCAdapter.browserDetails.browser},b.prototype.getVersion=function(){return A.webRTCAdapter.browserDetails.version||0},b.prototype.isUnifiedPlanSupported=function(){var T,I=this.getBrowser(),k=A.webRTCAdapter.browserDetails.version||0;if("chrome"===I&&k<72)return!1;if("firefox"===I&&k>=59)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var P=!1;try{(T=new RTCPeerConnection).addTransceiver("audio"),P=!0}catch(M){}finally{T&&T.close()}return P},b.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},b}())},{"./adapter":"sXtV"}],BHXf:[function(U,X,N){"use strict";var A=this&&this.__createBinding||(Object.create?function(M,h,C,_){void 0===_&&(_=C),Object.defineProperty(M,_,{enumerable:!0,get:function(){return h[C]}})}:function(M,h,C,_){void 0===_&&(_=C),M[_]=h[C]}),b=this&&this.__setModuleDefault||(Object.create?function(M,h){Object.defineProperty(M,"default",{enumerable:!0,value:h})}:function(M,h){M.default=h}),T=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var h={};if(null!=M)for(var C in M)"default"!==C&&Object.prototype.hasOwnProperty.call(M,C)&&A(h,M,C);return b(h,M),h};Object.defineProperty(N,"__esModule",{value:!0}),N.util=void 0;var I=T(U("peerjs-js-binarypack")),k=U("./supports"),P={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};N.util=new(function(){function M(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=P,this.browser=k.Supports.getBrowser(),this.browserVersion=k.Supports.getVersion(),this.supports=function(){var h,C={browser:k.Supports.isBrowserSupported(),webRTC:k.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!C.webRTC)return C;try{h=new RTCPeerConnection(P),C.audioVideo=!0;var _=void 0;try{_=h.createDataChannel("_PEERJSTEST",{ordered:!0}),C.data=!0,C.reliable=!!_.ordered;try{_.binaryType="blob",C.binaryBlob=!k.Supports.isIOS}catch(w){}}catch(w){}finally{_&&_.close()}}catch(w){}finally{h&&h.close()}return C}(),this.pack=I.pack,this.unpack=I.unpack,this._dataCount=1}return M.prototype.noop=function(){},M.prototype.validateId=function(h){return!h||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(h)},M.prototype.chunk=function(h){for(var C=[],_=h.size,w=Math.ceil(_/N.util.chunkedMTU),E=0,m=0;m<_;){var y=Math.min(_,m+N.util.chunkedMTU),p=h.slice(m,y);C.push({__peerData:this._dataCount,n:E,data:p,total:w}),m=y,E++}return this._dataCount++,C},M.prototype.blobToArrayBuffer=function(h,C){var _=new FileReader;return _.onload=function(w){w.target&&C(w.target.result)},_.readAsArrayBuffer(h),_},M.prototype.binaryStringToArrayBuffer=function(h){for(var C=new Uint8Array(h.length),_=0;_<h.length;_++)C[_]=255&h.charCodeAt(_);return C.buffer},M.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},M.prototype.isSecure=function(){return"https:"===location.protocol},M}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(U,X,N){"use strict";var A=Object.prototype.hasOwnProperty,b="~";function T(){}function I(h,C,_){this.fn=h,this.context=C,this.once=_||!1}function k(h,C,_,w,E){if("function"!=typeof _)throw new TypeError("The listener must be a function");var m=new I(_,w||h,E),y=b?b+C:C;return h._events[y]?h._events[y].fn?h._events[y]=[h._events[y],m]:h._events[y].push(m):(h._events[y]=m,h._eventsCount++),h}function P(h,C){0==--h._eventsCount?h._events=new T:delete h._events[C]}function M(){this._events=new T,this._eventsCount=0}Object.create&&(T.prototype=Object.create(null),(new T).__proto__||(b=!1)),M.prototype.eventNames=function(){var h,C,_=[];if(0===this._eventsCount)return _;for(C in h=this._events)A.call(h,C)&&_.push(b?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(h)):_},M.prototype.listeners=function(h){var _=this._events[b?b+h:h];if(!_)return[];if(_.fn)return[_.fn];for(var w=0,E=_.length,m=new Array(E);w<E;w++)m[w]=_[w].fn;return m},M.prototype.listenerCount=function(h){var _=this._events[b?b+h:h];return _?_.fn?1:_.length:0},M.prototype.emit=function(h,C,_,w,E,m){var y=b?b+h:h;if(!this._events[y])return!1;var p,d,l=this._events[y],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(h,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,C),!0;case 3:return l.fn.call(l.context,C,_),!0;case 4:return l.fn.call(l.context,C,_,w),!0;case 5:return l.fn.call(l.context,C,_,w,E),!0;case 6:return l.fn.call(l.context,C,_,w,E,m),!0}for(d=1,p=new Array(f-1);d<f;d++)p[d-1]=arguments[d];l.fn.apply(l.context,p)}else{var D,R=l.length;for(d=0;d<R;d++)switch(l[d].once&&this.removeListener(h,l[d].fn,void 0,!0),f){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,C);break;case 3:l[d].fn.call(l[d].context,C,_);break;case 4:l[d].fn.call(l[d].context,C,_,w);break;default:if(!p)for(D=1,p=new Array(f-1);D<f;D++)p[D-1]=arguments[D];l[d].fn.apply(l[d].context,p)}}return!0},M.prototype.on=function(h,C,_){return k(this,h,C,_,!1)},M.prototype.once=function(h,C,_){return k(this,h,C,_,!0)},M.prototype.removeListener=function(h,C,_,w){var E=b?b+h:h;if(!this._events[E])return this;if(!C)return P(this,E),this;var m=this._events[E];if(m.fn)m.fn!==C||w&&!m.once||_&&m.context!==_||P(this,E);else{for(var y=0,p=[],d=m.length;y<d;y++)(m[y].fn!==C||w&&!m[y].once||_&&m[y].context!==_)&&p.push(m[y]);p.length?this._events[E]=1===p.length?p[0]:p:P(this,E)}return this},M.prototype.removeAllListeners=function(h){var C;return h?this._events[C=b?b+h:h]&&P(this,C):(this._events=new T,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=b,M.EventEmitter=M,void 0!==X&&(X.exports=M)},{}],WOs9:[function(U,X,N){"use strict";var A=this&&this.__read||function(P,M){var h="function"==typeof Symbol&&P[Symbol.iterator];if(!h)return P;var C,_,w=h.call(P),E=[];try{for(;(void 0===M||M-- >0)&&!(C=w.next()).done;)E.push(C.value)}catch(m){_={error:m}}finally{try{C&&!C.done&&(h=w.return)&&h.call(w)}finally{if(_)throw _.error}}return E},b=this&&this.__spreadArray||function(P,M){for(var h=0,C=M.length,_=P.length;h<C;h++,_++)P[_]=M[h];return P};Object.defineProperty(N,"__esModule",{value:!0}),N.LogLevel=void 0;var T,P,I="PeerJS: ";(P=T=N.LogLevel||(N.LogLevel={}))[P.Disabled=0]="Disabled",P[P.Errors=1]="Errors",P[P.Warnings=2]="Warnings",P[P.All=3]="All";var k=function(){function P(){this._logLevel=T.Disabled}return Object.defineProperty(P.prototype,"logLevel",{get:function(){return this._logLevel},set:function(M){this._logLevel=M},enumerable:!1,configurable:!0}),P.prototype.log=function(){for(var M=[],h=0;h<arguments.length;h++)M[h]=arguments[h];this._logLevel>=T.All&&this._print.apply(this,b([T.All],A(M)))},P.prototype.warn=function(){for(var M=[],h=0;h<arguments.length;h++)M[h]=arguments[h];this._logLevel>=T.Warnings&&this._print.apply(this,b([T.Warnings],A(M)))},P.prototype.error=function(){for(var M=[],h=0;h<arguments.length;h++)M[h]=arguments[h];this._logLevel>=T.Errors&&this._print.apply(this,b([T.Errors],A(M)))},P.prototype.setLogFunction=function(M){this._print=M},P.prototype._print=function(M){for(var h=[],C=1;C<arguments.length;C++)h[C-1]=arguments[C];var _=b([I],A(h));for(var w in _)_[w]instanceof Error&&(_[w]="("+_[w].name+") "+_[w].message);M>=T.All?console.log.apply(console,b([],A(_))):M>=T.Warnings?console.warn.apply(console,b(["WARNING"],A(_))):M>=T.Errors&&console.error.apply(console,b(["ERROR"],A(_)))},P}();N.default=new k},{}],ZRYf:[function(U,X,N){"use strict";var h;Object.defineProperty(N,"__esModule",{value:!0}),N.ServerMessageType=N.SocketEventType=N.SerializationType=N.PeerErrorType=N.PeerEventType=N.ConnectionType=N.ConnectionEventType=void 0,(h=N.ConnectionEventType||(N.ConnectionEventType={})).Open="open",h.Stream="stream",h.Data="data",h.Close="close",h.Error="error",h.IceStateChanged="iceStateChanged",function(h){h.Data="data",h.Media="media"}(N.ConnectionType||(N.ConnectionType={})),function(h){h.Open="open",h.Close="close",h.Connection="connection",h.Call="call",h.Disconnected="disconnected",h.Error="error"}(N.PeerEventType||(N.PeerEventType={})),function(h){h.BrowserIncompatible="browser-incompatible",h.Disconnected="disconnected",h.InvalidID="invalid-id",h.InvalidKey="invalid-key",h.Network="network",h.PeerUnavailable="peer-unavailable",h.SslUnavailable="ssl-unavailable",h.ServerError="server-error",h.SocketError="socket-error",h.SocketClosed="socket-closed",h.UnavailableID="unavailable-id",h.WebRTC="webrtc"}(N.PeerErrorType||(N.PeerErrorType={})),function(h){h.Binary="binary",h.BinaryUTF8="binary-utf8",h.JSON="json"}(N.SerializationType||(N.SerializationType={})),function(h){h.Message="message",h.Disconnected="disconnected",h.Error="error",h.Close="close"}(N.SocketEventType||(N.SocketEventType={})),function(h){h.Heartbeat="HEARTBEAT",h.Candidate="CANDIDATE",h.Offer="OFFER",h.Answer="ANSWER",h.Open="OPEN",h.Error="ERROR",h.IdTaken="ID-TAKEN",h.InvalidKey="INVALID-KEY",h.Leave="LEAVE",h.Expire="EXPIRE"}(N.ServerMessageType||(N.ServerMessageType={}))},{}],wJlv:[function(U,X,N){"use strict";var _,A=this&&this.__extends||(_=function(w,E){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(m[p]=y[p])})(w,E)},function(w,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function m(){this.constructor=w}_(w,E),w.prototype=null===E?Object.create(E):(m.prototype=E.prototype,new m)}),b=this&&this.__read||function(_,w){var E="function"==typeof Symbol&&_[Symbol.iterator];if(!E)return _;var m,y,p=E.call(_),d=[];try{for(;(void 0===w||w-- >0)&&!(m=p.next()).done;)d.push(m.value)}catch(l){y={error:l}}finally{try{m&&!m.done&&(E=p.return)&&E.call(p)}finally{if(y)throw y.error}}return d},T=this&&this.__spreadArray||function(_,w){for(var E=0,m=w.length,y=_.length;E<m;E++,y++)_[y]=w[E];return _},I=this&&this.__values||function(_){var w="function"==typeof Symbol&&Symbol.iterator,E=w&&_[w],m=0;if(E)return E.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&m>=_.length&&(_=void 0),{value:_&&_[m++],done:!_}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},k=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(N,"__esModule",{value:!0}),N.Socket=void 0;var P=U("eventemitter3"),M=k(U("./logger")),h=U("./enums"),C=function(_){function w(E,m,y,p,d,l){void 0===l&&(l=5e3);var f=_.call(this)||this;return f.pingInterval=l,f._disconnected=!0,f._messagesQueue=[],f._baseUrl=(E?"wss://":"ws://")+m+":"+y+p+"peerjs?key="+d,f}return A(w,_),w.prototype.start=function(E,m){var y=this;this._id=E,!this._socket&&this._disconnected&&(this._socket=new WebSocket(this._baseUrl+"&id="+E+"&token="+m),this._disconnected=!1,this._socket.onmessage=function(d){var l;try{l=JSON.parse(d.data),M.default.log("Server message received:",l)}catch(f){return void M.default.log("Invalid server message",d.data)}y.emit(h.SocketEventType.Message,l)},this._socket.onclose=function(d){y._disconnected||(M.default.log("Socket closed.",d),y._cleanup(),y._disconnected=!0,y.emit(h.SocketEventType.Disconnected))},this._socket.onopen=function(){y._disconnected||(y._sendQueuedMessages(),M.default.log("Socket open"),y._scheduleHeartbeat())})},w.prototype._scheduleHeartbeat=function(){var E=this;this._wsPingTimer=setTimeout(function(){E._sendHeartbeat()},this.pingInterval)},w.prototype._sendHeartbeat=function(){if(this._wsOpen()){var E=JSON.stringify({type:h.ServerMessageType.Heartbeat});this._socket.send(E),this._scheduleHeartbeat()}else M.default.log("Cannot send heartbeat, because socket closed")},w.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},w.prototype._sendQueuedMessages=function(){var E,m,y=T([],b(this._messagesQueue));this._messagesQueue=[];try{for(var p=I(y),d=p.next();!d.done;d=p.next())this.send(d.value)}catch(f){E={error:f}}finally{try{d&&!d.done&&(m=p.return)&&m.call(p)}finally{if(E)throw E.error}}},w.prototype.send=function(E){if(!this._disconnected)if(this._id)if(E.type){if(this._wsOpen()){var m=JSON.stringify(E);this._socket.send(m)}}else this.emit(h.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(E)},w.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},w.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},w}(P.EventEmitter);N.Socket=C},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(U,X,N){"use strict";var A=this&&this.__assign||function(){return(A=Object.assign||function(C){for(var _,w=1,E=arguments.length;w<E;w++)for(var m in _=arguments[w])Object.prototype.hasOwnProperty.call(_,m)&&(C[m]=_[m]);return C}).apply(this,arguments)},b=this&&this.__awaiter||function(C,_,w,E){return new(w||(w=Promise))(function(m,y){function p(f){try{l(E.next(f))}catch(D){y(D)}}function d(f){try{l(E.throw(f))}catch(D){y(D)}}function l(f){var D;f.done?m(f.value):(D=f.value,D instanceof w?D:new w(function(R){R(D)})).then(p,d)}l((E=E.apply(C,_||[])).next())})},T=this&&this.__generator||function(C,_){var w,E,m,y,p={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return y={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function d(l){return function(f){return function(D){if(w)throw new TypeError("Generator is already executing.");for(;p;)try{if(w=1,E&&(m=2&D[0]?E.return:D[0]?E.throw||((m=E.return)&&m.call(E),0):E.next)&&!(m=m.call(E,D[1])).done)return m;switch(E=0,m&&(D=[2&D[0],m.value]),D[0]){case 0:case 1:m=D;break;case 4:return p.label++,{value:D[1],done:!1};case 5:p.label++,E=D[1],D=[0];continue;case 7:D=p.ops.pop(),p.trys.pop();continue;default:if(!(m=(m=p.trys).length>0&&m[m.length-1])&&(6===D[0]||2===D[0])){p=0;continue}if(3===D[0]&&(!m||D[1]>m[0]&&D[1]<m[3])){p.label=D[1];break}if(6===D[0]&&p.label<m[1]){p.label=m[1],m=D;break}if(m&&p.label<m[2]){p.label=m[2],p.ops.push(D);break}m[2]&&p.ops.pop(),p.trys.pop();continue}D=_.call(C,p)}catch(R){D=[6,R],E=0}finally{w=m=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([l,f])}}},I=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(N,"__esModule",{value:!0}),N.Negotiator=void 0;var k=U("./util"),P=I(U("./logger")),M=U("./enums"),h=function(){function C(_){this.connection=_}return C.prototype.startConnection=function(_){var w=this._startPeerConnection();if(this.connection.peerConnection=w,this.connection.type===M.ConnectionType.Media&&_._stream&&this._addTracksToConnection(_._stream,w),_.originator){if(this.connection.type===M.ConnectionType.Data){var E=this.connection,y=w.createDataChannel(E.label,{ordered:!!_.reliable});E.initialize(y)}this._makeOffer()}else this.handleSDP("OFFER",_.sdp)},C.prototype._startPeerConnection=function(){P.default.log("Creating RTCPeerConnection.");var _=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(_),_},C.prototype._setupListeners=function(_){var w=this,E=this.connection.peer,m=this.connection.connectionId,y=this.connection.type,p=this.connection.provider;P.default.log("Listening for ICE candidates."),_.onicecandidate=function(d){d.candidate&&d.candidate.candidate&&(P.default.log("Received ICE candidates for "+E+":",d.candidate),p.socket.send({type:M.ServerMessageType.Candidate,payload:{candidate:d.candidate,type:y,connectionId:m},dst:E}))},_.oniceconnectionstatechange=function(){switch(_.iceConnectionState){case"failed":P.default.log("iceConnectionState is failed, closing connections to "+E),w.connection.emit(M.ConnectionEventType.Error,new Error("Negotiation of connection to "+E+" failed.")),w.connection.close();break;case"closed":P.default.log("iceConnectionState is closed, closing connections to "+E),w.connection.emit(M.ConnectionEventType.Error,new Error("Connection to "+E+" closed.")),w.connection.close();break;case"disconnected":P.default.log("iceConnectionState changed to disconnected on the connection with "+E);break;case"completed":_.onicecandidate=k.util.noop}w.connection.emit(M.ConnectionEventType.IceStateChanged,_.iceConnectionState)},P.default.log("Listening for data channel"),_.ondatachannel=function(d){P.default.log("Received data channel");var l=d.channel;p.getConnection(E,m).initialize(l)},P.default.log("Listening for remote stream"),_.ontrack=function(d){P.default.log("Received remote stream");var l=d.streams[0],f=p.getConnection(E,m);f.type===M.ConnectionType.Media&&w._addStreamToMediaConnection(l,f)}},C.prototype.cleanup=function(){P.default.log("Cleaning up PeerConnection to "+this.connection.peer);var _=this.connection.peerConnection;if(_){this.connection.peerConnection=null,_.onicecandidate=_.oniceconnectionstatechange=_.ondatachannel=_.ontrack=function(){};var E=!1;if(this.connection.type===M.ConnectionType.Data){var m=this.connection.dataChannel;m&&(E=!!m.readyState&&"closed"!==m.readyState)}("closed"!==_.signalingState||E)&&_.close()}},C.prototype._makeOffer=function(){return b(this,void 0,Promise,function(){var _,w,E,m,y,p,d;return T(this,function(l){switch(l.label){case 0:_=this.connection.peerConnection,w=this.connection.provider,l.label=1;case 1:return l.trys.push([1,7,,8]),[4,_.createOffer(this.connection.options.constraints)];case 2:E=l.sent(),P.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return l.sent(),P.default.log("Set localDescription:",E,"for:"+this.connection.peer),m={sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:k.util.browser},this.connection.type===M.ConnectionType.Data&&(y=this.connection,m=A(A({},m),{label:y.label,reliable:y.reliable,serialization:y.serialization})),w.socket.send({type:M.ServerMessageType.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(p=l.sent())&&(w.emitError(M.PeerErrorType.WebRTC,p),P.default.log("Failed to setLocalDescription, ",p)),[3,6];case 6:return[3,8];case 7:return d=l.sent(),w.emitError(M.PeerErrorType.WebRTC,d),P.default.log("Failed to createOffer, ",d),[3,8];case 8:return[2]}})})},C.prototype._makeAnswer=function(){return b(this,void 0,Promise,function(){var _,w,E,m,y;return T(this,function(p){switch(p.label){case 0:_=this.connection.peerConnection,w=this.connection.provider,p.label=1;case 1:return p.trys.push([1,7,,8]),[4,_.createAnswer()];case 2:E=p.sent(),P.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),p.label=3;case 3:return p.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return p.sent(),P.default.log("Set localDescription:",E,"for:"+this.connection.peer),w.socket.send({type:M.ServerMessageType.Answer,payload:{sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,browser:k.util.browser},dst:this.connection.peer}),[3,6];case 5:return m=p.sent(),w.emitError(M.PeerErrorType.WebRTC,m),P.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return y=p.sent(),w.emitError(M.PeerErrorType.WebRTC,y),P.default.log("Failed to create answer, ",y),[3,8];case 8:return[2]}})})},C.prototype.handleSDP=function(_,w){return b(this,void 0,Promise,function(){var E,m,y,p;return T(this,function(d){switch(d.label){case 0:w=new RTCSessionDescription(w),E=this.connection.peerConnection,m=this.connection.provider,P.default.log("Setting remote description",w),y=this,d.label=1;case 1:return d.trys.push([1,5,,6]),[4,E.setRemoteDescription(w)];case 2:return d.sent(),P.default.log("Set remoteDescription:"+_+" for:"+this.connection.peer),"OFFER"!==_?[3,4]:[4,y._makeAnswer()];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:return p=d.sent(),m.emitError(M.PeerErrorType.WebRTC,p),P.default.log("Failed to setRemoteDescription, ",p),[3,6];case 6:return[2]}})})},C.prototype.handleCandidate=function(_){return b(this,void 0,Promise,function(){var w,E,m,y,p,d;return T(this,function(l){switch(l.label){case 0:P.default.log("handleCandidate:",_),w=_.candidate,E=_.sdpMLineIndex,m=_.sdpMid,y=this.connection.peerConnection,p=this.connection.provider,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,y.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:E,candidate:w}))];case 2:return l.sent(),P.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return d=l.sent(),p.emitError(M.PeerErrorType.WebRTC,d),P.default.log("Failed to handleCandidate, ",d),[3,4];case 4:return[2]}})})},C.prototype._addTracksToConnection=function(_,w){if(P.default.log("add tracks from stream "+_.id+" to peer connection"),!w.addTrack)return P.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");_.getTracks().forEach(function(E){w.addTrack(E,_)})},C.prototype._addStreamToMediaConnection=function(_,w){P.default.log("add stream "+_.id+" to media connection "+w.connectionId),w.addStream(_)},C}();N.Negotiator=h},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(U,X,N){"use strict";var I,A=this&&this.__extends||(I=function(k,P){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,h){M.__proto__=h}||function(M,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(M[C]=h[C])})(k,P)},function(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function M(){this.constructor=k}I(k,P),k.prototype=null===P?Object.create(P):(M.prototype=P.prototype,new M)});Object.defineProperty(N,"__esModule",{value:!0}),N.BaseConnection=void 0;var T=function(I){function k(P,M,h){var C=I.call(this)||this;return C.peer=P,C.provider=M,C.options=h,C._open=!1,C.metadata=h.metadata,C}return A(k,I),Object.defineProperty(k.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),k}(U("eventemitter3").EventEmitter);N.BaseConnection=T},{eventemitter3:"JJlS"}],dbHP:[function(U,X,N){"use strict";var w,A=this&&this.__extends||(w=function(E,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(y[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function y(){this.constructor=E}w(E,m),E.prototype=null===m?Object.create(m):(y.prototype=m.prototype,new y)}),b=this&&this.__assign||function(){return(b=Object.assign||function(w){for(var E,m=1,y=arguments.length;m<y;m++)for(var p in E=arguments[m])Object.prototype.hasOwnProperty.call(E,p)&&(w[p]=E[p]);return w}).apply(this,arguments)},T=this&&this.__values||function(w){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&w[E],y=0;if(m)return m.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&y>=w.length&&(w=void 0),{value:w&&w[y++],done:!w}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},I=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(N,"__esModule",{value:!0}),N.MediaConnection=void 0;var k=U("./util"),P=I(U("./logger")),M=U("./negotiator"),h=U("./enums"),_=function(w){function E(m,y,p){var d=w.call(this,m,y,p)||this;return d._localStream=d.options._stream,d.connectionId=d.options.connectionId||E.ID_PREFIX+k.util.randomToken(),d._negotiator=new M.Negotiator(d),d._localStream&&d._negotiator.startConnection({_stream:d._localStream,originator:!0}),d}return A(E,w),Object.defineProperty(E.prototype,"type",{get:function(){return h.ConnectionType.Media},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),E.prototype.addStream=function(m){P.default.log("Receiving stream",m),this._remoteStream=m,w.prototype.emit.call(this,h.ConnectionEventType.Stream,m)},E.prototype.handleMessage=function(m){var y=m.type,p=m.payload;switch(m.type){case h.ServerMessageType.Answer:this._negotiator.handleSDP(y,p.sdp),this._open=!0;break;case h.ServerMessageType.Candidate:this._negotiator.handleCandidate(p.candidate);break;default:P.default.warn("Unrecognized message type:"+y+" from peer:"+this.peer)}},E.prototype.answer=function(m,y){var p,d;if(void 0===y&&(y={}),this._localStream)P.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=m,y&&y.sdpTransform&&(this.options.sdpTransform=y.sdpTransform),this._negotiator.startConnection(b(b({},this.options._payload),{_stream:m}));var l=this.provider._getMessages(this.connectionId);try{for(var f=T(l),D=f.next();!D.done;D=f.next())this.handleMessage(D.value)}catch(x){p={error:x}}finally{try{D&&!D.done&&(d=f.return)&&d.call(f)}finally{if(p)throw p.error}}this._open=!0}},E.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,w.prototype.emit.call(this,h.ConnectionEventType.Close))},E.ID_PREFIX="mc_",E}(U("./baseconnection").BaseConnection);N.MediaConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(U,X,N){"use strict";var P,A=this&&this.__extends||(P=function(M,h){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,_){C.__proto__=_}||function(C,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(C[w]=_[w])})(M,h)},function(M,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function C(){this.constructor=M}P(M,h),M.prototype=null===h?Object.create(h):(C.prototype=h.prototype,new C)}),b=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(N,"__esModule",{value:!0}),N.EncodingQueue=void 0;var T=U("eventemitter3"),I=b(U("./logger")),k=function(P){function M(){var h=P.call(this)||this;return h.fileReader=new FileReader,h._queue=[],h._processing=!1,h.fileReader.onload=function(C){h._processing=!1,C.target&&h.emit("done",C.target.result),h.doNextTask()},h.fileReader.onerror=function(C){I.default.error("EncodingQueue error:",C),h._processing=!1,h.destroy(),h.emit("error",C)},h}return A(M,P),Object.defineProperty(M.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),M.prototype.enque=function(h){this.queue.push(h),this.processing||this.doNextTask()},M.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},M.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},M}(T.EventEmitter);N.EncodingQueue=k},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(U,X,N){"use strict";var w,A=this&&this.__extends||(w=function(E,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(y[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function y(){this.constructor=E}w(E,m),E.prototype=null===m?Object.create(m):(y.prototype=m.prototype,new y)}),b=this&&this.__values||function(w){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&w[E],y=0;if(m)return m.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&y>=w.length&&(w=void 0),{value:w&&w[y++],done:!w}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},T=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(N,"__esModule",{value:!0}),N.DataConnection=void 0;var I=U("./util"),k=T(U("./logger")),P=U("./negotiator"),M=U("./enums"),h=U("./baseconnection"),C=U("./encodingQueue"),_=function(w){function E(m,y,p){var d=w.call(this,m,y,p)||this;return d.stringify=JSON.stringify,d.parse=JSON.parse,d._buffer=[],d._bufferSize=0,d._buffering=!1,d._chunkedData={},d._encodingQueue=new C.EncodingQueue,d.connectionId=d.options.connectionId||E.ID_PREFIX+I.util.randomToken(),d.label=d.options.label||d.connectionId,d.serialization=d.options.serialization||M.SerializationType.Binary,d.reliable=!!d.options.reliable,d._encodingQueue.on("done",function(l){d._bufferedSend(l)}),d._encodingQueue.on("error",function(){k.default.error("DC#"+d.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),d.close()}),d._negotiator=new P.Negotiator(d),d._negotiator.startConnection(d.options._payload||{originator:!0}),d}return A(E,w),Object.defineProperty(E.prototype,"type",{get:function(){return M.ConnectionType.Data},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),E.prototype.initialize=function(m){this._dc=m,this._configureDataChannel()},E.prototype._configureDataChannel=function(){var m=this;I.util.supports.binaryBlob&&!I.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){k.default.log("DC#"+m.connectionId+" dc connection success"),m._open=!0,m.emit(M.ConnectionEventType.Open)},this.dataChannel.onmessage=function(y){k.default.log("DC#"+m.connectionId+" dc onmessage:",y.data),m._handleDataMessage(y)},this.dataChannel.onclose=function(){k.default.log("DC#"+m.connectionId+" dc closed for:",m.peer),m.close()}},E.prototype._handleDataMessage=function(m){var y=this,p=m.data,d=p.constructor,l=p;if(this.serialization===M.SerializationType.Binary||this.serialization===M.SerializationType.BinaryUTF8){if(d===Blob)return void I.util.blobToArrayBuffer(p,function(D){var R=I.util.unpack(D);y.emit(M.ConnectionEventType.Data,R)});if(d===ArrayBuffer)l=I.util.unpack(p);else if(d===String){var f=I.util.binaryStringToArrayBuffer(p);l=I.util.unpack(f)}}else this.serialization===M.SerializationType.JSON&&(l=this.parse(p));l.__peerData?this._handleChunk(l):w.prototype.emit.call(this,M.ConnectionEventType.Data,l)},E.prototype._handleChunk=function(m){var y=m.__peerData,p=this._chunkedData[y]||{data:[],count:0,total:m.total};if(p.data[m.n]=m.data,p.count++,this._chunkedData[y]=p,p.total===p.count){delete this._chunkedData[y];var d=new Blob(p.data);this._handleDataMessage({data:d})}},E.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,w.prototype.emit.call(this,M.ConnectionEventType.Close))},E.prototype.send=function(m,y){if(this.open)if(this.serialization===M.SerializationType.JSON)this._bufferedSend(this.stringify(m));else if(this.serialization===M.SerializationType.Binary||this.serialization===M.SerializationType.BinaryUTF8){var p=I.util.pack(m);if(!y&&p.size>I.util.chunkedMTU)return void this._sendChunks(p);I.util.supports.binaryBlob?this._bufferedSend(p):this._encodingQueue.enque(p)}else this._bufferedSend(m);else w.prototype.emit.call(this,M.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},E.prototype._bufferedSend=function(m){!this._buffering&&this._trySend(m)||(this._buffer.push(m),this._bufferSize=this._buffer.length)},E.prototype._trySend=function(m){var y=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>E.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){y._buffering=!1,y._tryBuffer()},50),!1;try{this.dataChannel.send(m)}catch(p){return k.default.error("DC#:"+this.connectionId+" Error when sending:",p),this._buffering=!0,this.close(),!1}return!0},E.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},E.prototype._sendChunks=function(m){var y,p,d=I.util.chunk(m);k.default.log("DC#"+this.connectionId+" Try to send "+d.length+" chunks...");try{for(var l=b(d),f=l.next();!f.done;f=l.next())this.send(f.value,!0)}catch(R){y={error:R}}finally{try{f&&!f.done&&(p=l.return)&&p.call(l)}finally{if(y)throw y.error}}},E.prototype.handleMessage=function(m){var y=m.payload;switch(m.type){case M.ServerMessageType.Answer:this._negotiator.handleSDP(m.type,y.sdp);break;case M.ServerMessageType.Candidate:this._negotiator.handleCandidate(y.candidate);break;default:k.default.warn("Unrecognized message type:",m.type,"from peer:",this.peer)}},E.ID_PREFIX="dc_",E.MAX_BUFFERED_AMOUNT=8388608,E}(h.BaseConnection);N.DataConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(U,X,N){"use strict";var A=this&&this.__awaiter||function(M,h,C,_){return new(C||(C=Promise))(function(w,E){function m(d){try{p(_.next(d))}catch(l){E(l)}}function y(d){try{p(_.throw(d))}catch(l){E(l)}}function p(d){var l;d.done?w(d.value):(l=d.value,l instanceof C?l:new C(function(f){f(l)})).then(m,y)}p((_=_.apply(M,h||[])).next())})},b=this&&this.__generator||function(M,h){var C,_,w,E,m={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return E={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function y(p){return function(d){return function(l){if(C)throw new TypeError("Generator is already executing.");for(;m;)try{if(C=1,_&&(w=2&l[0]?_.return:l[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,l[1])).done)return w;switch(_=0,w&&(l=[2&l[0],w.value]),l[0]){case 0:case 1:w=l;break;case 4:return m.label++,{value:l[1],done:!1};case 5:m.label++,_=l[1],l=[0];continue;case 7:l=m.ops.pop(),m.trys.pop();continue;default:if(!(w=(w=m.trys).length>0&&w[w.length-1])&&(6===l[0]||2===l[0])){m=0;continue}if(3===l[0]&&(!w||l[1]>w[0]&&l[1]<w[3])){m.label=l[1];break}if(6===l[0]&&m.label<w[1]){m.label=w[1],w=l;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(l);break}w[2]&&m.ops.pop(),m.trys.pop();continue}l=h.call(M,m)}catch(f){l=[6,f],_=0}finally{C=w=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([p,d])}}},T=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(N,"__esModule",{value:!0}),N.API=void 0;var I=U("./util"),k=T(U("./logger")),P=function(){function M(h){this._options=h}return M.prototype._buildUrl=function(h){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+h+"?ts="+(new Date).getTime()+Math.random()},M.prototype.retrieveId=function(){return A(this,void 0,Promise,function(){var h,C,_,w;return b(this,function(E){switch(E.label){case 0:h=this._buildUrl("id"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw new Error("Error. Status:"+C.status);return[2,C.text()];case 3:throw _=E.sent(),k.default.error("Error retrieving ID",_),w="","/"===this._options.path&&this._options.host!==I.util.CLOUD_HOST&&(w=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+w);case 4:return[2]}})})},M.prototype.listAllPeers=function(){return A(this,void 0,Promise,function(){var h,C,w;return b(this,function(E){switch(E.label){case 0:h=this._buildUrl("peers"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw 401===C.status?new Error("It doesn't look like you have permission to list peers IDs. "+(this._options.host===I.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.")):new Error("Error. Status:"+C.status);return[2,C.json()];case 3:throw w=E.sent(),k.default.error("Error retrieving list peers",w),new Error("Could not get list peers from the server."+w);case 4:return[2]}})})},M}();N.API=P},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(U,X,N){"use strict";var d,A=this&&this.__extends||(d=function(l,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(D[x]=R[x])})(l,f)},function(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function D(){this.constructor=l}d(l,f),l.prototype=null===f?Object.create(f):(D.prototype=f.prototype,new D)}),b=this&&this.__assign||function(){return(b=Object.assign||function(d){for(var l,f=1,D=arguments.length;f<D;f++)for(var R in l=arguments[f])Object.prototype.hasOwnProperty.call(l,R)&&(d[R]=l[R]);return d}).apply(this,arguments)},T=this&&this.__values||function(d){var l="function"==typeof Symbol&&Symbol.iterator,f=l&&d[l],D=0;if(f)return f.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&D>=d.length&&(d=void 0),{value:d&&d[D++],done:!d}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},I=this&&this.__read||function(d,l){var f="function"==typeof Symbol&&d[Symbol.iterator];if(!f)return d;var D,R,x=f.call(d),F=[];try{for(;(void 0===l||l-- >0)&&!(D=x.next()).done;)F.push(D.value)}catch(j){R={error:j}}finally{try{D&&!D.done&&(f=x.return)&&f.call(x)}finally{if(R)throw R.error}}return F},k=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(N,"__esModule",{value:!0}),N.Peer=void 0;var P=U("eventemitter3"),M=U("./util"),h=k(U("./logger")),C=U("./socket"),_=U("./mediaconnection"),w=U("./dataconnection"),E=U("./enums"),m=U("./api"),p=function(d){function l(f,D){var R,x=d.call(this)||this;return x._id=null,x._lastServerId=null,x._destroyed=!1,x._disconnected=!1,x._open=!1,x._connections=new Map,x._lostMessages=new Map,f&&f.constructor==Object?D=f:f&&(R=f.toString()),D=b({debug:0,host:M.util.CLOUD_HOST,port:M.util.CLOUD_PORT,path:"/",key:l.DEFAULT_KEY,token:M.util.randomToken(),config:M.util.defaultConfig},D),x._options=D,"/"===x._options.host&&(x._options.host=window.location.hostname),x._options.path&&("/"!==x._options.path[0]&&(x._options.path="/"+x._options.path),"/"!==x._options.path[x._options.path.length-1]&&(x._options.path+="/")),void 0===x._options.secure&&x._options.host!==M.util.CLOUD_HOST?x._options.secure=M.util.isSecure():x._options.host==M.util.CLOUD_HOST&&(x._options.secure=!0),x._options.logFunction&&h.default.setLogFunction(x._options.logFunction),h.default.logLevel=x._options.debug||0,x._api=new m.API(D),x._socket=x._createServerConnection(),M.util.supports.audioVideo||M.util.supports.data?R&&!M.util.validateId(R)?(x._delayedAbort(E.PeerErrorType.InvalidID,'ID "'+R+'" is invalid'),x):(R?x._initialize(R):x._api.retrieveId().then(function(F){return x._initialize(F)}).catch(function(F){return x._abort(E.PeerErrorType.ServerError,F)}),x):(x._delayedAbort(E.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),x)}return A(l,d),Object.defineProperty(l.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"connections",{get:function(){var f,D,R=Object.create(null);try{for(var x=T(this._connections),F=x.next();!F.done;F=x.next()){var j=I(F.value,2);R[j[0]]=j[1]}}catch(z){f={error:z}}finally{try{F&&!F.done&&(D=x.return)&&D.call(x)}finally{if(f)throw f.error}}return R},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),l.prototype._createServerConnection=function(){var f=this,D=new C.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return D.on(E.SocketEventType.Message,function(R){f._handleMessage(R)}),D.on(E.SocketEventType.Error,function(R){f._abort(E.PeerErrorType.SocketError,R)}),D.on(E.SocketEventType.Disconnected,function(){f.disconnected||(f.emitError(E.PeerErrorType.Network,"Lost connection to server."),f.disconnect())}),D.on(E.SocketEventType.Close,function(){f.disconnected||f._abort(E.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),D},l.prototype._initialize=function(f){this._id=f,this.socket.start(f,this._options.token)},l.prototype._handleMessage=function(f){var D,R,x=f.type,F=f.payload,j=f.src;switch(x){case E.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(E.PeerEventType.Open,this.id);break;case E.ServerMessageType.Error:this._abort(E.PeerErrorType.ServerError,F.msg);break;case E.ServerMessageType.IdTaken:this._abort(E.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case E.ServerMessageType.InvalidKey:this._abort(E.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case E.ServerMessageType.Leave:h.default.log("Received leave message from "+j),this._cleanupPeer(j),this._connections.delete(j);break;case E.ServerMessageType.Expire:this.emitError(E.PeerErrorType.PeerUnavailable,"Could not connect to peer "+j);break;case E.ServerMessageType.Offer:var B=F.connectionId;if((ee=this.getConnection(j,B))&&(ee.close(),h.default.warn("Offer received for existing Connection ID:"+B)),F.type===E.ConnectionType.Media)ee=new _.MediaConnection(j,this,{connectionId:B,_payload:F,metadata:F.metadata}),this._addConnection(j,ee),this.emit(E.PeerEventType.Call,ee);else{if(F.type!==E.ConnectionType.Data)return void h.default.warn("Received malformed connection type:"+F.type);ee=new w.DataConnection(j,this,{connectionId:B,_payload:F,metadata:F.metadata,label:F.label,serialization:F.serialization,reliable:F.reliable}),this._addConnection(j,ee),this.emit(E.PeerEventType.Connection,ee)}var L=this._getMessages(B);try{for(var z=T(L),Z=z.next();!Z.done;Z=z.next())ee.handleMessage(Z.value)}catch(se){D={error:se}}finally{try{Z&&!Z.done&&(R=z.return)&&R.call(z)}finally{if(D)throw D.error}}break;default:if(!F)return void h.default.warn("You received a malformed message from "+j+" of type "+x);var ee;(ee=this.getConnection(j,B=F.connectionId))&&ee.peerConnection?ee.handleMessage(f):B?this._storeMessage(B,f):h.default.warn("You received an unrecognized message:",f)}},l.prototype._storeMessage=function(f,D){this._lostMessages.has(f)||this._lostMessages.set(f,[]),this._lostMessages.get(f).push(D)},l.prototype._getMessages=function(f){var D=this._lostMessages.get(f);return D?(this._lostMessages.delete(f),D):[]},l.prototype.connect=function(f,D){if(void 0===D&&(D={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var R=new w.DataConnection(f,this,D);return this._addConnection(f,R),R},l.prototype.call=function(f,D,R){if(void 0===R&&(R={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(D){R._stream=D;var x=new _.MediaConnection(f,this,R);return this._addConnection(f,x),x}h.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},l.prototype._addConnection=function(f,D){h.default.log("add connection "+D.type+":"+D.connectionId+" to peerId:"+f),this._connections.has(f)||this._connections.set(f,[]),this._connections.get(f).push(D)},l.prototype._removeConnection=function(f){var D=this._connections.get(f.peer);if(D){var R=D.indexOf(f);-1!==R&&D.splice(R,1)}this._lostMessages.delete(f.connectionId)},l.prototype.getConnection=function(f,D){var R,x,F=this._connections.get(f);if(!F)return null;try{for(var j=T(F),B=j.next();!B.done;B=j.next()){var L=B.value;if(L.connectionId===D)return L}}catch(z){R={error:z}}finally{try{B&&!B.done&&(x=j.return)&&x.call(j)}finally{if(R)throw R.error}}return null},l.prototype._delayedAbort=function(f,D){var R=this;setTimeout(function(){R._abort(f,D)},0)},l.prototype._abort=function(f,D){h.default.error("Aborting!"),this.emitError(f,D),this._lastServerId?this.disconnect():this.destroy()},l.prototype.emitError=function(f,D){var R;h.default.error("Error:",D),(R="string"==typeof D?new Error(D):D).type=f,this.emit(E.PeerEventType.Error,R)},l.prototype.destroy=function(){this.destroyed||(h.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(E.PeerEventType.Close))},l.prototype._cleanup=function(){var f,D;try{for(var R=T(this._connections.keys()),x=R.next();!x.done;x=R.next()){var F=x.value;this._cleanupPeer(F),this._connections.delete(F)}}catch(j){f={error:j}}finally{try{x&&!x.done&&(D=R.return)&&D.call(R)}finally{if(f)throw f.error}}this.socket.removeAllListeners()},l.prototype._cleanupPeer=function(f){var D,R,x=this._connections.get(f);if(x)try{for(var F=T(x),j=F.next();!j.done;j=F.next())j.value.close()}catch(B){D={error:B}}finally{try{j&&!j.done&&(R=F.return)&&R.call(F)}finally{if(D)throw D.error}}},l.prototype.disconnect=function(){if(!this.disconnected){var f=this.id;h.default.log("Disconnect peer with ID:"+f),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=f,this._id=null,this.emit(E.PeerEventType.Disconnected,f)}},l.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)h.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");h.default.error("In a hurry? We're still trying to make the initial connection!")}},l.prototype.listAllPeers=function(f){var D=this;void 0===f&&(f=function(R){}),this._api.listAllPeers().then(function(R){return f(R)}).catch(function(R){return D._abort(E.PeerErrorType.ServerError,R)})},l.DEFAULT_KEY="peerjs",l}(P.EventEmitter);N.Peer=p},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(U,X,N){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.peerjs=void 0;var A=U("./util"),b=U("./peer");N.peerjs={Peer:b.Peer,util:A.util},N.default=b.Peer,window.peerjs=N.peerjs,window.Peer=b.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])},784:yr=>{function Nn(vr){var U=new Error("Cannot find module '"+vr+"'");throw U.code="MODULE_NOT_FOUND",U}Nn.keys=()=>[],Nn.resolve=Nn,Nn.id=784,yr.exports=Nn}},yr=>{yr(yr.s=0)}]);