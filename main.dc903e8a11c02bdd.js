(self.webpackChunkWebRTCVideoCallAssistant_Client=self.webpackChunkWebRTCVideoCallAssistant_Client||[]).push([[179],{542:(Ir,zn,Ar)=>{"use strict";function H(e){return"function"==typeof e}function ie(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const L=ie(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function P(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class D{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(H(r))try{r()}catch(o){t=o instanceof L?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{k(o)}catch(s){t=null!=t?t:[],s instanceof L?t=[...t,...s.errors]:t.push(s)}}if(t)throw new L(t)}}add(t){var n;if(t&&t!==this)if(this.closed)k(t);else{if(t instanceof D){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&P(n,t)}remove(t){const{_finalizers:n}=this;n&&P(n,t),t instanceof D&&t._removeParent(this)}}D.EMPTY=(()=>{const e=new D;return e.closed=!0,e})();const S=D.EMPTY;function A(e){return e instanceof D||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function k(e){H(e)?e():e.unsubscribe()}const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I={setTimeout(e,t,...n){const{delegate:r}=I;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=I;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function h(e){I.setTimeout(()=>{const{onUnhandledError:t}=R;if(!t)throw e;t(e)})}function C(){}const _=m("C",void 0,void 0);function m(e,t,n){return{kind:e,value:t,error:n}}let v=null;function p(e){if(R.useDeprecatedSynchronousErrorHandling){const t=!v;if(t&&(v={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=v;if(v=null,n)throw r}}else e()}class l extends D{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,A(t)&&t.add(this)):this.destination=V}static create(t,n,r){return new x(t,n,r)}next(t){this.isStopped?B(function E(e){return m("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?B(function w(e){return m("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?B(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f=Function.prototype.bind;function b(e,t){return f.call(e,t)}class O{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){N(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){N(r)}else N(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){N(n)}}}class x extends l{constructor(t,n,r){let i;if(super(),H(t)||!t)i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&R.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&b(t.next,o),error:t.error&&b(t.error,o),complete:t.complete&&b(t.complete,o)}):i=t}this.destination=new O(i)}}function N(e){R.useDeprecatedSynchronousErrorHandling?function d(e){R.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=e)}(e):h(e)}function B(e,t){const{onStoppedNotification:n}=R;n&&I.setTimeout(()=>n(e,t))}const V={closed:!0,next:C,error:function j(e){throw e},complete:C},W="function"==typeof Symbol&&Symbol.observable||"@@observable";function Z(e){return e}let de=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Se(e){return e&&e instanceof l||function Ps(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}(e)&&A(e)}(n)?n:new x(n,r,i);return p(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=He(r))((i,o)=>{const s=new x({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[W](){return this}pipe(...n){return function se(e){return 0===e.length?Z:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=He(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function He(e){var t;return null!==(t=null!=e?e:R.Promise)&&void 0!==t?t:Promise}const Rs=ie(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let We=(()=>{class e extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ri(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Rs}next(n){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){p(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?S:(this.currentObservers=null,o.push(n),new D(()=>{this.currentObservers=null,P(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return e.create=(t,n)=>new ri(t,n),e})();class ri extends We{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:S}}function rn(e){return H(null==e?void 0:e.lift)}function et(e){return t=>{if(rn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(e,t,n,r,i){return new Pr(e,t,n,r,i)}class Pr extends l{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(e,t){return et((n,r)=>{let i=0;n.subscribe(Je(r,o=>{r.next(e.call(t,o,i++))}))})}function xr(e){return this instanceof xr?(this.v=e,this):new xr(e)}function cD(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(T){r[T]&&(i[T]=function(M){return new Promise(function(F,$){o.push([T,M,F,$])>1||a(T,M)})})}function a(T,M){try{!function c(T){T.value instanceof xr?Promise.resolve(T.value.v).then(u,g):y(o[0][2],T)}(r[T](M))}catch(F){y(o[0][3],F)}}function u(T){a("next",T)}function g(T){a("throw",T)}function y(T,M){T(M),o.shift(),o.length&&a(o[0][0],o[0][1])}}function uD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function lo(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}const Yf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Xf(e){return H(null==e?void 0:e.then)}function eh(e){return H(e[W])}function th(e){return Symbol.asyncIterator&&H(null==e?void 0:e[Symbol.asyncIterator])}function nh(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rh=function dD(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ih(e){return H(null==e?void 0:e[rh])}function oh(e){return cD(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield xr(n.read());if(i)return yield xr(void 0);yield yield xr(r)}}finally{n.releaseLock()}})}function sh(e){return H(null==e?void 0:e.getReader)}function An(e){if(e instanceof de)return e;if(null!=e){if(eh(e))return function fD(e){return new de(t=>{const n=e[W]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Yf(e))return function hD(e){return new de(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Xf(e))return function pD(e){return new de(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,h)})}(e);if(th(e))return ah(e);if(ih(e))return function gD(e){return new de(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(sh(e))return function mD(e){return ah(oh(e))}(e)}throw nh(e)}function ah(e){return new de(t=>{(function yD(e,t){var n,r,i,o;return function uo(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(g){try{u(r.next(g))}catch(y){s(y)}}function c(g){try{u(r.throw(g))}catch(y){s(y)}}function u(g){g.done?o(g.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(g.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=uD(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Wn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ft(e,t,n=1/0){return H(t)?ft((r,i)=>we((o,s)=>t(r,o,i,s))(An(e(r,i))),n):("number"==typeof t&&(n=t),et((r,i)=>function vD(e,t,n,r,i,o,s,a){const c=[];let u=0,g=0,y=!1;const T=()=>{y&&!c.length&&!u&&t.complete()},M=$=>u<r?F($):c.push($),F=$=>{o&&t.next($),u++;let Q=!1;An(n($,g++)).subscribe(Je(t,q=>{null==i||i(q),o?M(q):t.next(q)},()=>{Q=!0},void 0,()=>{if(Q)try{for(u--;c.length&&u<r;){const q=c.shift();s?Wn(t,s,()=>F(q)):F(q)}T()}catch(q){t.error(q)}}))};return e.subscribe(Je(t,M,()=>{y=!0,T()})),()=>{null==a||a()}}(r,i,e,n)))}function fo(e=1/0){return ft(Z,e)}const qn=new de(e=>e.complete());function Vc(e){return e[e.length-1]}function ch(e){return H(Vc(e))?e.pop():void 0}function ho(e){return function CD(e){return e&&H(e.schedule)}(Vc(e))?e.pop():void 0}function uh(e,t=0){return et((n,r)=>{n.subscribe(Je(r,i=>Wn(r,e,()=>r.next(i),t),()=>Wn(r,e,()=>r.complete(),t),i=>Wn(r,e,()=>r.error(i),t)))})}function lh(e,t=0){return et((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function dh(e,t){if(!e)throw new Error("Iterable cannot be null");return new de(n=>{Wn(n,t,()=>{const r=e[Symbol.asyncIterator]();Wn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ht(e,t){return t?function MD(e,t){if(null!=e){if(eh(e))return function DD(e,t){return An(e).pipe(lh(t),uh(t))}(e,t);if(Yf(e))return function ED(e,t){return new de(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Xf(e))return function wD(e,t){return An(e).pipe(lh(t),uh(t))}(e,t);if(th(e))return dh(e,t);if(ih(e))return function TD(e,t){return new de(n=>{let r;return Wn(n,t,()=>{r=e[rh](),Wn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>H(null==r?void 0:r.return)&&r.return()})}(e,t);if(sh(e))return function SD(e,t){return dh(oh(e),t)}(e,t)}throw nh(e)}(e,t):An(e)}function Os(e){return e<=0?()=>qn:et((t,n)=>{let r=0;t.subscribe(Je(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function jc(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Os(1)).subscribe(()=>e())}function Fe(e){for(let t in e)if(e[t]===Fe)return t;throw Error("Could not find renamed property on target object.")}function Bc(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function xe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Uc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const PD=Fe({__forward_ref__:Fe});function je(e){return e.__forward_ref__=je,e.toString=function(){return xe(this())},e}function _e(e){return fh(e)?e():e}function fh(e){return"function"==typeof e&&e.hasOwnProperty(PD)&&e.__forward_ref__===je}class Pe extends Error{constructor(t,n){super(function Hc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ge(e){return"string"==typeof e?e:null==e?"":String(e)}function It(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ge(e)}function xs(e,t){const n=t?` in ${t}`:"";throw new Pe(-201,`No provider for ${It(e)} found${n}`)}function Gt(e,t){null==e&&function $e(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Lt(e){return{providers:e.providers||[],imports:e.imports||[]}}function $c(e){return hh(e,ks)||hh(e,gh)}function hh(e,t){return e.hasOwnProperty(t)?e[t]:null}function ph(e){return e&&(e.hasOwnProperty(Gc)||e.hasOwnProperty(LD))?e[Gc]:null}const ks=Fe({\u0275prov:Fe}),Gc=Fe({\u0275inj:Fe}),gh=Fe({ngInjectableDef:Fe}),LD=Fe({ngInjectorDef:Fe});var pe=(()=>((pe=pe||{})[pe.Default=0]="Default",pe[pe.Host=1]="Host",pe[pe.Self=2]="Self",pe[pe.SkipSelf=4]="SkipSelf",pe[pe.Optional=8]="Optional",pe))();let zc;function ur(e){const t=zc;return zc=e,t}function mh(e,t,n){const r=$c(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pe.Optional?null:void 0!==t?t:void xs(xe(e),"Injector")}function lr(e){return{toString:e}.toString()}var gn=(()=>((gn=gn||{})[gn.OnPush=0]="OnPush",gn[gn.Default=1]="Default",gn))(),Pn=(()=>{return(e=Pn||(Pn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Pn;var e})();const jD="undefined"!=typeof globalThis&&globalThis,BD="undefined"!=typeof window&&window,UD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ne=jD||"undefined"!=typeof global&&global||BD||UD,si={},Le=[],Ns=Fe({\u0275cmp:Fe}),Wc=Fe({\u0275dir:Fe}),qc=Fe({\u0275pipe:Fe}),yh=Fe({\u0275mod:Fe}),Jn=Fe({\u0275fac:Fe}),po=Fe({__NG_ELEMENT_ID__:Fe});let HD=0;function Vt(e){return lr(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Le,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Pn.Emulated,id:"c",styles:e.styles||Le,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,s=e.pipes;return r.id+=HD++,r.inputs=bh(e.inputs,n),r.outputs=bh(e.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(vh):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(_h):null,r})}function vh(e){return Ct(e)||function dr(e){return e[Wc]||null}(e)}function _h(e){return function kr(e){return e[qc]||null}(e)}const Ch={};function zt(e){return lr(()=>{const t={type:e.type,bootstrap:e.bootstrap||Le,declarations:e.declarations||Le,imports:e.imports||Le,exports:e.exports||Le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ch[e.id]=e.type),t})}function bh(e,t){if(null==e)return si;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const fe=Vt;function Ct(e){return e[Ns]||null}function on(e,t){const n=e[yh]||null;if(!n&&!0===t)throw new Error(`Type ${xe(e)} does not have '\u0275mod' property.`);return n}function Rn(e){return Array.isArray(e)&&"object"==typeof e[1]}function yn(e){return Array.isArray(e)&&!0===e[1]}function Zc(e){return 0!=(8&e.flags)}function js(e){return 2==(2&e.flags)}function Bs(e){return 1==(1&e.flags)}function vn(e){return null!==e.template}function QD(e){return 0!=(512&e[2])}function Vr(e,t){return e.hasOwnProperty(Jn)?e[Jn]:null}class KD{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function an(){return wh}function wh(e){return e.type.prototype.ngOnChanges&&(e.setInput=XD),YD}function YD(){const e=Th(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===si)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function XD(e,t,n,r){const i=Th(e)||function ew(e,t){return e[Eh]=t}(e,{previous:si,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new KD(c&&c.currentValue,t,s===si),e[r]=t}an.ngInherit=!0;const Eh="__ngSimpleChanges__";function Th(e){return e[Eh]||null}let tu;function nu(){return void 0!==tu?tu:"undefined"!=typeof document?document:void 0}function Ze(e){return!!e.listen}const Sh={createRenderer:(e,t)=>nu()};function rt(e){for(;Array.isArray(e);)e=e[0];return e}function Us(e,t){return rt(t[e])}function un(e,t){return rt(t[e.index])}function ru(e,t){return e.data[t]}function qt(e,t){const n=t[e];return Rn(n)?n:n[0]}function Mh(e){return 4==(4&e[2])}function iu(e){return 128==(128&e[2])}function fr(e,t){return null==t?null:e[t]}function Ih(e){e[18]=0}function ou(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const he={lFrame:Fh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ah(){return he.bindingsEnabled}function z(){return he.lFrame.lView}function Re(){return he.lFrame.tView}function jr(e){return he.lFrame.contextLView=e,e[8]}function at(){let e=Ph();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ph(){return he.lFrame.currentTNode}function On(e,t){const n=he.lFrame;n.currentTNode=e,n.isParent=t}function su(){return he.lFrame.isParent}function au(){he.lFrame.isParent=!1}function Hs(){return he.isInCheckNoChangesMode}function $s(e){he.isInCheckNoChangesMode=e}function At(){const e=he.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Zn(){return he.lFrame.bindingIndex}function fi(){return he.lFrame.bindingIndex++}function Kn(e){const t=he.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function yw(e,t){const n=he.lFrame;n.bindingIndex=n.bindingRootIndex=e,cu(t)}function cu(e){he.lFrame.currentDirectiveIndex=e}function uu(e){const t=he.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function xh(){return he.lFrame.currentQueryIndex}function lu(e){he.lFrame.currentQueryIndex=e}function _w(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function kh(e,t,n){if(n&pe.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&pe.Host||(i=_w(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=he.lFrame=Nh();return r.currentTNode=t,r.lView=e,!0}function Gs(e){const t=Nh(),n=e[1];he.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Nh(){const e=he.lFrame,t=null===e?null:e.child;return null===t?Fh(e):t}function Fh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Lh(){const e=he.lFrame;return he.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Vh=Lh;function zs(){const e=Lh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pt(){return he.lFrame.selectedIndex}function hr(e){he.lFrame.selectedIndex=e}function Ke(){const e=he.lFrame;return ru(e.tView,e.selectedIndex)}function Ws(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:g}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),c&&(e.viewHooks||(e.viewHooks=[])).push(-n,c),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=g&&(e.destroyHooks||(e.destroyHooks=[])).push(n,g)}}function qs(e,t,n){jh(e,t,3,n)}function Qs(e,t,n,r){(3&e[2])===n&&jh(e,t,n,r)}function du(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function jh(e,t,n,r){const o=null!=r?r:-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[18]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[18]+=65536),(a<o||-1==o)&&(Iw(e,n,t,c),e[18]=(4294901760&e[18])+c+2),c++}function Iw(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class _o{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Js(e,t,n){const r=Ze(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];hu(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function Bh(e){return 3===e||4===e||6===e}function hu(e){return 64===e.charCodeAt(0)}function Zs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Uh(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Uh(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Hh(e){return-1!==e}function hi(e){return 32767&e}function pi(e,t){let n=function xw(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let pu=!0;function Ks(e){const t=pu;return pu=e,t}let kw=0;function bo(e,t){const n=mu(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,gu(r.data,e),gu(t,null),gu(r.blueprint,null));const i=Ys(e,t),o=e.injectorIndex;if(Hh(i)){const s=hi(i),a=pi(i,t),c=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function gu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ys(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xs(e,t,n){!function Nw(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(po)&&(r=n[po]),null==r&&(r=n[po]=kw++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function zh(e,t,n){if(n&pe.Optional)return e;xs(t,"NodeInjector")}function Wh(e,t,n,r){if(n&pe.Optional&&void 0===r&&(r=null),0==(n&(pe.Self|pe.Host))){const i=e[9],o=ur(void 0);try{return i?i.get(t,r,n&pe.Optional):mh(t,r,n&pe.Optional)}finally{ur(o)}}return zh(r,t,n)}function qh(e,t,n,r=pe.Default,i){if(null!==e){const o=function jw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(po)?e[po]:void 0;return"number"==typeof t?t>=0?255&t:Lw:t}(n);if("function"==typeof o){if(!kh(t,e,r))return r&pe.Host?zh(i,n,r):Wh(t,n,r,i);try{const s=o(r);if(null!=s||r&pe.Optional)return s;xs(n)}finally{Vh()}}else if("number"==typeof o){let s=null,a=mu(e,t),c=-1,u=r&pe.Host?t[16][6]:null;for((-1===a||r&pe.SkipSelf)&&(c=-1===a?Ys(e,t):t[a+8],-1!==c&&Zh(r,!1)?(s=t[1],a=hi(c),t=pi(c,t)):a=-1);-1!==a;){const g=t[1];if(Jh(o,a,g.data)){const y=Vw(a,t,n,s,r,u);if(y!==Qh)return y}c=t[a+8],-1!==c&&Zh(r,t[1].data[a+8]===u)&&Jh(o,a,t)?(s=g,a=hi(c),t=pi(c,t)):a=-1}}}return Wh(t,n,r,i)}const Qh={};function Lw(){return new gi(at(),z())}function Vw(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],g=ea(a,s,n,null==r?js(a)&&pu:r!=s&&0!=(3&a.type),i&pe.Host&&o===a);return null!==g?Do(t,s,g,a):Qh}function ea(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,g=o>>20,T=i?a+g:e.directiveEnd;for(let M=r?a:a+g;M<T;M++){const F=s[M];if(M<c&&n===F||M>=c&&F.type===n)return M}if(i){const M=s[c];if(M&&vn(M)&&M.type===n)return c}return null}function Do(e,t,n,r){let i=e[n];const o=t.data;if(function Aw(e){return e instanceof _o}(i)){const s=i;s.resolving&&function RD(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${e}${n}`)}(It(o[n]));const a=Ks(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ur(s.injectImpl):null;kh(e,r,pe.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Mw(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=wh(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==c&&ur(c),Ks(a),s.resolving=!1,Vh()}}return i}function Jh(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Zh(e,t){return!(e&pe.Self||e&pe.Host&&t)}class gi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return qh(this._tNode,this._lView,t,r,n)}}function Dt(e){return lr(()=>{const t=e.prototype.constructor,n=t[Jn]||yu(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Jn]||yu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yu(e){return fh(e)?()=>{const t=yu(_e(e));return t&&t()}:Vr(e)}function wo(e){return function Fw(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Bh(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(at(),e)}const yi="__parameters__";function _i(e,t,n){return lr(()=>{const r=function vu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,g){const y=c.hasOwnProperty(yi)?c[yi]:Object.defineProperty(c,yi,{value:[]})[yi];for(;y.length<=g;)y.push(null);return(y[g]=y[g]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class be{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uw=new be("AnalyzeForEntryComponents");function ln(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),ln(r,t)):t!==e&&t.push(r)}return t}function xn(e,t){e.forEach(n=>Array.isArray(n)?xn(n,t):t(n))}function Yh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ta(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Qt(e,t,n){let r=Ci(e,t);return r>=0?e[1|r]=n:(r=~r,function Gw(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Cu(e,t){const n=Ci(e,t);if(n>=0)return e[1|n]}function Ci(e,t){return function tp(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Mo={},Du="__NG_DI_FLAG__",ra="ngTempTokenPath",Kw=/\n/gm,rp="__source",Xw=Fe({provide:String,useValue:Fe});let Io;function ip(e){const t=Io;return Io=e,t}function e0(e,t=pe.Default){if(void 0===Io)throw new Pe(203,"");return null===Io?mh(e,void 0,t):Io.get(e,t&pe.Optional?null:void 0,t)}function Y(e,t=pe.Default){return(function VD(){return zc}()||e0)(_e(e),t)}const t0=Y;function wu(e){const t=[];for(let n=0;n<e.length;n++){const r=_e(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Pe(900,"");let i,o=pe.Default;for(let s=0;s<r.length;s++){const a=r[s],c=n0(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(Y(i,o))}else t.push(Y(r))}return t}function Ao(e,t){return e[Du]=t,e.prototype[Du]=t,e}function n0(e){return e[Du]}const ia=Ao(_i("Inject",e=>({token:e})),-1),gr=Ao(_i("Optional"),8),Po=Ao(_i("SkipSelf"),4);let sa,aa;function Di(e){var t;return(null===(t=function Tu(){if(void 0===sa&&(sa=null,Ne.trustedTypes))try{sa=Ne.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return sa}())||void 0===t?void 0:t.createHTML(e))||e}function lp(e){var t;return(null===(t=function Su(){if(void 0===aa&&(aa=null,Ne.trustedTypes))try{aa=Ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return aa}())||void 0===t?void 0:t.createHTML(e))||e}class Br{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class m0 extends Br{getTypeName(){return"HTML"}}class y0 extends Br{getTypeName(){return"Style"}}class v0 extends Br{getTypeName(){return"Script"}}class _0 extends Br{getTypeName(){return"URL"}}class C0 extends Br{getTypeName(){return"ResourceURL"}}function Jt(e){return e instanceof Br?e.changingThisBreaksApplicationSecurity:e}function kn(e,t){const n=hp(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function hp(e){return e instanceof Br&&e.getTypeName()||null}class S0{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Di(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class M0{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Di(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=Di(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let i=n.length-1;0<i;i--){const s=n.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const A0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,P0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Oo(e){return(e=String(e)).match(A0)||e.match(P0)?e:"unsafe:"+e}function Nn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function xo(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const mp=Nn("area,br,col,hr,img,wbr"),yp=Nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vp=Nn("rp,rt"),Mu=xo(mp,xo(yp,Nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xo(vp,Nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xo(vp,yp)),Iu=Nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Au=Nn("srcset"),_p=xo(Iu,Au,Nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R0=Nn("script,style,template");class O0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Mu.hasOwnProperty(n))return this.sanitizedSomething=!0,!R0.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!_p.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Iu[a]&&(c=Oo(c)),Au[a]&&(e=c,c=(e=String(e)).split(",").map(t=>Oo(t.trim())).join(", ")),this.buf.push(" ",s,'="',Cp(c),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Mu.hasOwnProperty(n)&&!mp.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Cp(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const x0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k0=/([^\#-~ |!])/g;function Cp(e){return e.replace(/&/g,"&amp;").replace(x0,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(k0,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ca;function bp(e,t){let n=null;try{ca=ca||function pp(e){const t=new M0(e);return function I0(){try{return!!(new window.DOMParser).parseFromString(Di(""),"text/html")}catch(e){return!1}}()?new S0(t):t}(e);let r=t?String(t):"";n=ca.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ca.getInertBodyElement(r)}while(r!==o);return Di((new O0).sanitizeChildren(Pu(n)||n))}finally{if(n){const r=Pu(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Pu(e){return"content"in e&&function N0(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ve=(()=>((Ve=Ve||{})[Ve.NONE=0]="NONE",Ve[Ve.HTML=1]="HTML",Ve[Ve.STYLE=2]="STYLE",Ve[Ve.SCRIPT=3]="SCRIPT",Ve[Ve.URL=4]="URL",Ve[Ve.RESOURCE_URL=5]="RESOURCE_URL",Ve))();function Ru(e){const t=function ko(){const e=z();return e&&e[12]}();return t?lp(t.sanitize(Ve.HTML,e)||""):kn(e,"HTML")?lp(Jt(e)):bp(nu(),ge(e))}const Ep="__ngContext__";function wt(e,t){e[Ep]=t}function ku(e){const t=function No(e){return e[Ep]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Fu(e){return e.ngOriginalError}function K0(e,...t){e.error(...t)}class Fo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function Z0(e){return e&&e.ngErrorLogger||K0}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Fu(t);for(;n&&Fu(n);)n=Fu(n);return n||null}}const aE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ne))();function Fn(e){return e instanceof Function?e():e}var Zt=(()=>((Zt=Zt||{})[Zt.Important=1]="Important",Zt[Zt.DashCase=2]="DashCase",Zt))();function Vu(e,t){return undefined(e,t)}function Lo(e){const t=e[3];return yn(t)?t[3]:t}function ju(e){return xp(e[13])}function Bu(e){return xp(e[4])}function xp(e){for(;null!==e&&!yn(e);)e=e[4];return e}function Ei(e,t,n,r,i){if(null!=r){let o,s=!1;yn(r)?o=r:Rn(r)&&(s=!0,r=r[0]);const a=rt(r);0===e&&null!==n?null==i?jp(t,n,a):Ur(t,n,a,i||null,!0):1===e&&null!==n?Ur(t,n,a,i||null,!0):2===e?function Wp(e,t,n){const r=ua(e,t);r&&function bE(e,t,n,r){Ze(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function EE(e,t,n,r,i){const o=n[7];o!==rt(n)&&Ei(t,e,r,o,i);for(let a=10;a<n.length;a++){const c=n[a];Vo(c[1],c,e,t,r,o)}}(t,e,o,n,i)}}function Hu(e,t,n){if(Ze(e))return e.createElement(t,n);{const r=null!==n?function iw(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function Np(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,ou(i,-1)),n.splice(r,1)}function $u(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Np(i,r),t>0&&(e[n-1][4]=r[4]);const o=ta(e,10+t);!function hE(e,t){Vo(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Fp(e,t){if(!(256&t[2])){const n=t[11];Ze(n)&&n.destroyNode&&Vo(e,t,n,3,null,null),function mE(e){let t=e[13];if(!t)return Gu(e[1],e);for(;t;){let n=null;if(Rn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Rn(t)&&Gu(t[1],t),t=t[3];null===t&&(t=e),Rn(t)&&Gu(t[1],t),n=t&&t[4]}t=n}}(t)}}function Gu(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function CE(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof _o)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function _E(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(t):rt(t[s]),c=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?a.removeEventListener(n[o],c,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(e,t),1===t[1].type&&Ze(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&yn(t[3])){n!==t[3]&&Np(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Lp(e,t,n){return function Vp(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Pn.None||i===Pn.Emulated)return null}return un(r,n)}(e,t.parent,n)}function Ur(e,t,n,r,i){Ze(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function jp(e,t,n){Ze(e)?e.appendChild(t,n):t.appendChild(n)}function Bp(e,t,n,r,i){null!==r?Ur(e,t,n,r,i):jp(e,t,n)}function ua(e,t){return Ze(e)?e.parentNode(t):t.parentNode}let $p=function Hp(e,t,n){return 40&e.type?un(e,n):null};function la(e,t,n,r){const i=Lp(e,r,t),o=t[11],a=function Up(e,t,n){return $p(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Bp(o,i,n[c],a,!1);else Bp(o,i,n,a,!1)}function da(e,t){if(null!==t){const n=t.type;if(3&n)return un(t,e);if(4&n)return Wu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return da(e,r);{const i=e[t.index];return yn(i)?Wu(-1,i):rt(i)}}if(32&n)return Vu(t,e)()||rt(e[t.index]);{const r=zp(e,t);return null!==r?Array.isArray(r)?r[0]:da(Lo(e[16]),r):da(e,t.next)}}return null}function zp(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Wu(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return da(r,i)}return t[7]}function qu(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&wt(rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)qu(e,t,n.child,r,i,o,!1),Ei(t,e,i,a,o);else if(32&c){const u=Vu(n,r);let g;for(;g=u();)Ei(t,e,i,g,o);Ei(t,e,i,a,o)}else 16&c?qp(e,t,r,n,i,o):Ei(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Vo(e,t,n,r,i,o){qu(n,r,e.firstChild,t,i,o,!1)}function qp(e,t,n,r,i,o){const s=n[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Ei(t,e,i,c[u],o);else qu(e,t,c,s[3],i,o,!0)}function Qp(e,t,n){Ze(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Qu(e,t,n){Ze(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Jp(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const Zp="ng-template";function SE(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Jp(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Kp(e){return 4===e.type&&e.value!==Zp}function ME(e,t,n){return t===(4!==e.type||n?e.value:Zp)}function IE(e,t,n){let r=4;const i=e.attrs||[],o=function RE(e){for(let t=0;t<e.length;t++)if(Bh(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ME(e,c,n)||""===c&&1===t.length){if(_n(r))return!1;s=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!SE(e.attrs,u,n)){if(_n(r))return!1;s=!0}continue}const y=AE(8&r?"class":c,i,Kp(e),n);if(-1===y){if(_n(r))return!1;s=!0;continue}if(""!==u){let T;T=y>o?"":i[y+1].toLowerCase();const M=8&r?T:null;if(M&&-1!==Jp(M,u,0)||2&r&&u!==T){if(_n(r))return!1;s=!0}}}}else{if(!s&&!_n(r)&&!_n(c))return!1;if(s&&_n(c))continue;s=!1,r=c|1&r}}return _n(r)||s}function _n(e){return 0==(1&e)}function AE(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function OE(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Yp(e,t,n=!1){for(let r=0;r<t.length;r++)if(IE(e,t[r],n))return!0;return!1}function Xp(e,t){return e?":not("+t.trim()+")":t}function kE(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!_n(s)&&(t+=Xp(o,i),i=""),r=s,o=o||!_n(r);n++}return""!==i&&(t+=Xp(o,i)),t}const me={};function te(e){eg(Re(),z(),Pt()+e,Hs())}function eg(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&qs(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Qs(t,o,0,n)}hr(n)}function fa(e,t){return e<<17|t<<2}function Cn(e){return e>>17&32767}function Ju(e){return 2|e}function Yn(e){return(131068&e)>>2}function Zu(e,t){return-131069&e|t<<2}function Ku(e){return 1|e}function dg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=e.data[o];lu(i),s.contentQueries(2,t[o],o)}}}function jo(e,t,n,r,i,o,s,a,c,u){const g=t.blueprint.slice();return g[0]=i,g[2]=140|r,Ih(g),g[3]=g[15]=e,g[8]=n,g[10]=s||e&&e[10],g[11]=a||e&&e[11],g[12]=c||e&&e[12]||null,g[9]=u||e&&e[9]||null,g[6]=o,g[16]=2==t.type?e[16]:g,g}function Ti(e,t,n,r,i){let o=e.data[t];if(null===o)o=function sl(e,t,n,r,i){const o=Ph(),s=su(),c=e.data[t]=function YE(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(e,t,n,r,i),function mw(){return he.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function vo(){const e=he.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return On(o,!0),o}function Si(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Bo(e,t,n){Gs(t);try{const r=e.viewQuery;null!==r&&gl(1,r,n);const i=e.template;null!==i&&fg(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dg(e,t),e.staticViewQueries&&gl(2,e.viewQuery,n);const o=e.components;null!==o&&function JE(e,t){for(let n=0;n<t.length;n++)mT(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,zs()}}function Mi(e,t,n,r){const i=t[2];if(256==(256&i))return;Gs(t);const o=Hs();try{Ih(t),function Rh(e){return he.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&fg(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const u=e.preOrderCheckHooks;null!==u&&qs(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Qs(t,u,0,null),du(t,0)}if(function pT(e){for(let t=ju(e);null!==t;t=Bu(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&ou(o,1),i[2]|=1024}}}(t),function hT(e){for(let t=ju(e);null!==t;t=Bu(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];iu(r)&&Mi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&dg(e,t),!o)if(s){const u=e.contentCheckHooks;null!==u&&qs(t,u)}else{const u=e.contentHooks;null!==u&&Qs(t,u,1),du(t,1)}!function qE(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)hr(~i);else{const o=i,s=n[++r],a=n[++r];yw(s,o),a(2,t[o])}}}finally{hr(-1)}}(e,t);const a=e.components;null!==a&&function QE(e,t){for(let n=0;n<t.length;n++)gT(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&gl(2,c,r),!o)if(s){const u=e.viewCheckHooks;null!==u&&qs(t,u)}else{const u=e.viewHooks;null!==u&&Qs(t,u,2),du(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ou(t[3],-1))}finally{zs()}}function ZE(e,t,n,r){const i=t[10],o=!Hs(),s=Mh(t);try{o&&!s&&i.begin&&i.begin(),s&&Bo(e,t,r),Mi(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function fg(e,t,n,r,i){const o=Pt(),s=2&r;try{hr(-1),s&&t.length>20&&eg(e,t,20,Hs()),n(r,i)}finally{hr(o)}}function hg(e,t,n){if(Zc(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function al(e,t,n){!Ah()||(function oT(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||bo(n,t),wt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=vn(c);u&&lT(t,n,c);const g=Do(t,e,a,n);wt(g,t),null!==s&&dT(0,a-i,g,c,0,s),u&&(qt(n.index,t)[8]=g)}}(e,t,n,un(n,t)),128==(128&n.flags)&&function sT(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function vw(){return he.lFrame.currentDirectiveIndex}();try{hr(s);for(let c=r;c<i;c++){const u=e.data[c],g=t[c];cu(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&bg(u,g)}}finally{hr(-1),cu(a)}}(e,t,n))}function cl(e,t,n=un){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function pg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ga(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ga(e,t,n,r,i,o,s,a,c,u){const g=20+r,y=g+i,T=function KE(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:me);return n}(g,y),M="function"==typeof u?u():u;return T[1]={type:e,blueprint:T,template:n,queries:null,viewQuery:a,declTNode:t,data:T.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:M,incompleteFirstPass:!1}}function yg(e,t,n,r){const i=Mg(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Ig(e).push(r,i.length-1))}function vg(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Kt(e,t,n,r,i,o,s,a){const c=un(t,n);let g,u=t.inputs;!a&&null!=u&&(g=u[r])?(Rg(e,n,g,r,i),js(t)&&function tT(e,t){const n=qt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function eT(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,Ze(o)?o.setProperty(c,r,i):hu(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ul(e,t,n,r){let i=!1;if(Ah()){const o=function aT(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Yp(n,s.selectors,!1)&&(i||(i=[]),Xs(bo(n,t),e,s.type),vn(s)?(Dg(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,wg(n,e.data.length,o.length);for(let g=0;g<o.length;g++){const y=o[g];y.providersResolver&&y.providersResolver(y)}let a=!1,c=!1,u=Si(e,t,o.length,null);for(let g=0;g<o.length;g++){const y=o[g];n.mergedAttrs=Zs(n.mergedAttrs,y.hostAttrs),Eg(e,n,t,u,y),uT(u,y,s),null!==y.contentQueries&&(n.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=128);const T=y.type.prototype;!a&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!c&&(T.ngOnChanges||T.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),u++}!function XE(e,t){const r=t.directiveEnd,i=e.data,o=t.attrs,s=[];let a=null,c=null;for(let u=t.directiveStart;u<r;u++){const g=i[u],y=g.inputs,T=null===o||Kp(t)?null:fT(y,o);s.push(T),a=vg(y,u,a),c=vg(g.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}(e,n)}s&&function cT(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Pe(-301,!1);r.push(t[i],o)}}}(n,r,s)}return n.mergedAttrs=Zs(n.mergedAttrs,n.attrs),i}function Cg(e,t,n,r,i,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const c=~t.index;(function iT(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(r,i,s)}}function bg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Dg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function uT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;vn(t)&&(n[""]=e)}}function wg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Eg(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Vr(i.type)),s=new _o(o,vn(i),null);e.blueprint[r]=s,n[r]=s,Cg(e,t,0,r,Si(e,n,i.hostVars,me),i)}function lT(e,t,n){const r=un(t,e),i=pg(n),o=e[10],s=ma(e,jo(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function Ln(e,t,n,r,i,o){const s=un(e,t);!function ll(e,t,n,r,i,o,s){if(null==o)Ze(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==s?ge(o):s(o,r||"",i);Ze(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],s,o,e.value,n,r,i)}function dT(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const u=s[c++],g=s[c++],y=s[c++];null!==a?r.setInput(n,y,u,g):n[g]=y}}}function fT(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Tg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function gT(e,t){const n=qt(t,e);if(iu(n)){const r=n[1];80&n[2]?Mi(r,n,r.template,n[8]):n[5]>0&&dl(n)}}function dl(e){for(let r=ju(e);null!==r;r=Bu(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Mi(s,o,s.template,o[8])}else o[5]>0&&dl(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=qt(n[r],e);iu(i)&&i[5]>0&&dl(i)}}function mT(e,t){const n=qt(t,e),r=n[1];(function yT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Bo(r,n,n[8])}function ma(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function fl(e){for(;e;){e[2]|=64;const t=Lo(e);if(QD(e)&&!t)return e;e=t}return null}function pl(e,t,n){const r=t[10];r.begin&&r.begin();try{Mi(e,t,e.template,n)}catch(i){throw Pg(t,i),i}finally{r.end&&r.end()}}function Sg(e){!function hl(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=ku(n),i=r[1];ZE(i,r,i.template,n)}}(e[8])}function gl(e,t,n){lu(0),t(e,n)}const bT=(()=>Promise.resolve(null))();function Mg(e){return e[7]||(e[7]=[])}function Ig(e){return e.cleanup||(e.cleanup=[])}function Pg(e,t){const n=e[9],r=n?n.get(Fo,null):null;r&&r.handleError(t)}function Rg(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=t[s],u=e.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Xn(e,t,n){const r=Us(t,e);!function kp(e,t,n){Ze(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ya(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Uc(i,a):2==o&&(r=Uc(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ml=new be("INJECTOR",-1);class Og{get(t,n=Mo){if(n===Mo){const r=new Error(`NullInjectorError: No provider for ${xe(t)}!`);throw r.name="NullInjectorError",r}return n}}const yl=new be("Set Injector scope."),Uo={},ET={};let vl;function xg(){return void 0===vl&&(vl=new Og),vl}function kg(e,t=null,n=null,r){const i=Ng(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Ng(e,t=null,n=null,r){return new TT(e,n,t||xg(),r)}class TT{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&xn(n,a=>this.processProvider(a,t,n)),xn([t],a=>this.processInjectorType(a,[],o)),this.records.set(ml,Ii(void 0,this));const s=this.records.get(yl);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:xe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Mo,r=pe.Default){this.assertNotDestroyed();const i=ip(this),o=ur(void 0);try{if(!(r&pe.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function xT(e){return"function"==typeof e||"object"==typeof e&&e instanceof be}(t)&&$c(t);a=c&&this.injectableDefInScope(c)?Ii(_l(t),Uo):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&pe.Self?xg():this.parent).get(t,n=r&pe.Optional&&n===Mo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[ra]=s[ra]||[]).unshift(xe(t)),i)throw s;return function r0(e,t,n,r){const i=e[ra];throw t[rp]&&i.unshift(t[rp]),e.message=function o0(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=xe(t);if(Array.isArray(t))i=t.map(xe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):xe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Kw,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ra]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{ur(o),ip(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(xe(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(t,n,r){if(!(t=_e(t)))return!1;let i=ph(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=ph(o)),null==i)return!1;if(null!=i.imports&&!a){let g;r.push(s);try{xn(i.imports,y=>{this.processInjectorType(y,n,r)&&(void 0===g&&(g=[]),g.push(y))})}finally{}if(void 0!==g)for(let y=0;y<g.length;y++){const{ngModule:T,providers:M}=g[y];xn(M,F=>this.processProvider(F,T,M||Le))}}this.injectorDefTypes.add(s);const c=Vr(s)||(()=>new s);this.records.set(s,Ii(c,Uo));const u=i.providers;if(null!=u&&!a){const g=t;xn(u,y=>this.processProvider(y,g,u))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,r){let i=Ai(t=_e(t))?t:_e(t&&t.provide);const o=function MT(e,t,n){return Lg(e)?Ii(void 0,e.useValue):Ii(Fg(e),Uo)}(t);if(Ai(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Ii(void 0,Uo,!0),s.factory=()=>wu(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,n){return n.value===Uo&&(n.value=ET,n.value=n.factory()),"object"==typeof n.value&&n.value&&function OT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_e(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function _l(e){const t=$c(e),n=null!==t?t.factory:Vr(e);if(null!==n)return n;if(e instanceof be)throw new Pe(204,!1);if(e instanceof Function)return function ST(e){const t=e.length;if(t>0)throw function So(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Pe(204,!1);const n=function ND(e){const t=e&&(e[ks]||e[gh]);if(t){const n=function FD(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Pe(204,!1)}function Fg(e,t,n){let r;if(Ai(e)){const i=_e(e);return Vr(i)||_l(i)}if(Lg(e))r=()=>_e(e.useValue);else if(function AT(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wu(e.deps||[]));else if(function IT(e){return!(!e||!e.useExisting)}(e))r=()=>Y(_e(e.useExisting));else{const i=_e(e&&(e.useClass||e.provide));if(!function RT(e){return!!e.deps}(e))return Vr(i)||_l(i);r=()=>new i(...wu(e.deps))}return r}function Ii(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Lg(e){return null!==e&&"object"==typeof e&&Xw in e}function Ai(e){return"function"==typeof e}let gt=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return kg({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return kg({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Mo,e.NULL=new Og,e.\u0275prov=ce({token:e,providedIn:"any",factory:()=>Y(ml)}),e.__NG_ELEMENT_ID__=-1,e})();function UT(e,t){Ws(ku(e)[1],at())}function ke(e){let t=function Jg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(vn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Pe(903,"");i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=Dl(e.inputs),s.declaredInputs=Dl(e.declaredInputs),s.outputs=Dl(e.outputs);const a=i.hostBindings;a&&zT(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&$T(e,c),u&&GT(e,u),Bc(e.inputs,i.inputs),Bc(e.declaredInputs,i.declaredInputs),Bc(e.outputs,i.outputs),vn(i)&&i.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===ke&&(n=!1)}}t=Object.getPrototypeOf(t)}!function HT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Zs(i.hostAttrs,n=Zs(n,i.hostAttrs))}}(r)}function Dl(e){return e===si?{}:e===Le?[]:e}function $T(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function GT(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function zT(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let va=null;function Pi(){if(!va){const e=Ne.Symbol;if(e&&e.iterator)va=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(va=r)}}}return va}function Ho(e){return!!function wl(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Pi()in e)}function Vn(e,t,n){return e[t]=n}function Et(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Hr(e,t,n,r){const i=Et(e,t,n);return Et(e,t+1,r)||i}function Ot(e,t,n,r){const i=z();return Et(i,fi(),t)&&(Re(),Ln(Ke(),i,e,t,n,r)),Ot}function ki(e,t,n,r,i,o,s,a){const u=function _a(e,t,n,r,i){const o=Hr(e,t,n,r);return Et(e,t+2,i)||o}(e,Zn(),n,i,s);return Kn(3),u?t+ge(n)+r+ge(i)+o+ge(s)+a:me}function qe(e,t,n,r,i,o,s,a){const c=z(),u=Re(),g=e+20,y=u.firstCreatePass?function YT(e,t,n,r,i,o,s,a,c){const u=t.consts,g=Ti(t,e,4,s||null,fr(u,a));ul(t,n,g,fr(u,c)),Ws(t,g);const y=g.tViews=ga(2,g,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,g),y.queries=t.queries.embeddedTView(g)),g}(g,u,c,t,n,r,i,o,s):u.data[g];On(y,!1);const T=c[11].createComment("");la(u,c,T,y),wt(T,c),ma(c,c[g]=Tg(T,c,T,y)),Bs(y)&&al(u,c,y),null!=s&&cl(c,y,a)}function Ca(e){return function di(e,t){return e[t]}(function gw(){return he.lFrame.contextLView}(),20+e)}function G(e,t=pe.Default){const n=z();return null===n?Y(e,t):qh(at(),n,_e(e),t)}function Il(){throw new Error("invalid")}function oe(e,t,n){const r=z();return Et(r,fi(),t)&&Kt(Re(),Ke(),r,e,t,r[11],n,!1),oe}function Al(e,t,n,r,i){const s=i?"class":"style";Rg(e,n,t.inputs[s],s,r)}function J(e,t,n,r){const i=z(),o=Re(),s=20+e,a=i[11],c=i[s]=Hu(a,t,function Sw(){return he.lFrame.currentNamespace}()),u=o.firstCreatePass?function _S(e,t,n,r,i,o,s){const a=t.consts,u=Ti(t,e,2,i,fr(a,o));return ul(t,n,u,fr(a,s)),null!==u.attrs&&ya(u,u.attrs,!1),null!==u.mergedAttrs&&ya(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];On(u,!0);const g=u.mergedAttrs;null!==g&&Js(a,c,g);const y=u.classes;null!==y&&Qu(a,c,y);const T=u.styles;return null!==T&&Qp(a,c,T),64!=(64&u.flags)&&la(o,i,c,u),0===function lw(){return he.lFrame.elementDepthCount}()&&wt(c,i),function dw(){he.lFrame.elementDepthCount++}(),Bs(u)&&(al(o,i,u),hg(o,u,i)),null!==r&&cl(i,u),J}function K(){let e=at();su()?au():(e=e.parent,On(e,!1));const t=e;!function fw(){he.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(Ws(n,e),Zc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Rw(e){return 0!=(16&e.flags)}(t)&&Al(n,t,z(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ow(e){return 0!=(32&e.flags)}(t)&&Al(n,t,z(),t.stylesWithoutHost,!1),K}function Ut(e,t,n,r){return J(e,t,n,r),K(),Ut}function Go(e,t,n){const r=z(),i=Re(),o=e+20,s=i.firstCreatePass?function CS(e,t,n,r,i){const o=t.consts,s=fr(o,r),a=Ti(t,e,8,"ng-container",s);return null!==s&&ya(a,s,!0),ul(t,n,a,fr(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];On(s,!0);const a=r[o]=r[11].createComment("");return la(i,r,a,s),wt(a,r),Bs(s)&&(al(i,r,s),hg(i,s,r)),null!=n&&cl(r,s),Go}function zo(){let e=at();const t=Re();return su()?au():(e=e.parent,On(e,!1)),t.firstCreatePass&&(Ws(t,e),Zc(e)&&t.queries.elementEnd(e)),zo}function Ui(){return z()}function Wo(e){return!!e&&"function"==typeof e.then}const Pl=function mm(e){return!!e&&"function"==typeof e.subscribe};function Me(e,t,n,r){const i=z(),o=Re(),s=at();return function vm(e,t,n,r,i,o,s,a){const c=Bs(r),g=e.firstCreatePass&&Ig(e),y=t[8],T=Mg(t);let M=!0;if(3&r.type||a){const Q=un(r,t),q=a?a(Q):Q,U=T.length,ne=a?ve=>a(rt(ve[r.index])):r.index;if(Ze(n)){let ve=null;if(!a&&c&&(ve=function bS(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==ve)(ve.__ngLastListenerFn__||ve).__ngNextListenerFn__=o,ve.__ngLastListenerFn__=o,M=!1;else{o=Rl(r,t,y,o,!1);const Oe=n.listen(q,i,o);T.push(o,Oe),g&&g.push(i,ne,U,U+1)}}else o=Rl(r,t,y,o,!0),q.addEventListener(i,o,s),T.push(o),g&&g.push(i,ne,U,s)}else o=Rl(r,t,y,o,!1);const F=r.outputs;let $;if(M&&null!==F&&($=F[i])){const Q=$.length;if(Q)for(let q=0;q<Q;q+=2){const nn=t[$[q]][$[q+1]].subscribe(o),ni=T.length;T.push(o,nn),g&&g.push(i,r.index,ni,-(ni+1))}}}(o,i,i[11],s,e,t,!!n,r),Me}function _m(e,t,n,r){try{return!1!==n(r)}catch(i){return Pg(e,i),!1}}function Rl(e,t,n,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?qt(e.index,t):t;0==(32&t[2])&&fl(a);let c=_m(t,0,r,s),u=o.__ngNextListenerFn__;for(;u;)c=_m(t,0,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function mt(e=1){return function Cw(e){return(he.lFrame.contextLView=function bw(e,t){for(;e>0;)t=t[15],e--;return t}(e,he.lFrame.contextLView))[8]}(e)}function Am(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Cn(o):Yn(o),c=!1;for(;0!==a&&(!1===c||s);){const g=e[a+1];MS(e[a],t)&&(c=!0,e[a+1]=r?Ku(g):Ju(g)),a=r?Cn(g):Yn(g)}c&&(e[n+1]=r?Ju(o):Ku(o))}function MS(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ci(e,t)>=0}const ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pm(e){return e.substring(ut.key,ut.keyEnd)}function Rm(e,t){const n=ut.textEnd;return n===t?-1:(t=ut.keyEnd=function RS(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ut.key=t,n),Hi(e,t,n))}function Hi(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function $i(e,t,n){return Dn(e,t,n,!1),$i}function Da(e,t){return Dn(e,t,null,!0),Da}function er(e){!function wn(e,t,n,r){const i=Re(),o=Kn(2);i.firstUpdatePass&&Lm(i,null,o,r);const s=z();if(n!==me&&Et(s,o,n)){const a=i.data[Pt()];if(Um(a,r)&&!Fm(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Uc(c,n||"")),Al(i,a,s,n,r)}else!function BS(e,t,n,r,i,o,s,a){i===me&&(i=Le);let c=0,u=0,g=0<i.length?i[0]:null,y=0<o.length?o[0]:null;for(;null!==g||null!==y;){const T=c<i.length?i[c+1]:void 0,M=u<o.length?o[u+1]:void 0;let $,F=null;g===y?(c+=2,u+=2,T!==M&&(F=y,$=M)):null===y||null!==g&&g<y?(c+=2,F=g):(u+=2,F=y,$=M),null!==F&&jm(e,t,n,r,F,$,s,a),g=c<i.length?i[c]:null,y=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function jS(e,t,n){if(null==n||""===n)return Le;const r=[],i=Jt(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(Qt,Bn,e,!0)}function Bn(e,t){for(let n=function AS(e){return function xm(e){ut.key=0,ut.keyEnd=0,ut.value=0,ut.valueEnd=0,ut.textEnd=e.length}(e),Rm(e,Hi(e,0,ut.textEnd))}(t);n>=0;n=Rm(t,n))Qt(e,Pm(t),!0)}function Dn(e,t,n,r){const i=z(),o=Re(),s=Kn(2);o.firstUpdatePass&&Lm(o,e,s,r),t!==me&&Et(i,s,t)&&jm(o,o.data[Pt()],i,i[11],e,i[s+1]=function US(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=xe(Jt(e)))),e}(t,n),r,s)}function Fm(e,t){return t>=e.expandoStartIndex}function Lm(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Pt()],s=Fm(e,n);Um(o,r)&&null===t&&!s&&(t=!1),t=function NS(e,t,n,r){const i=uu(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=qo(n=xl(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=xl(i,e,t,n,r),null===o){let c=function FS(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Yn(r))return e[Cn(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=xl(null,e,t,c[1],r),c=qo(c,t.attrs,r),function LS(e,t,n,r){e[Cn(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function VS(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=qo(r,e[o].hostAttrs,n);return qo(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function TS(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Cn(s),c=Yn(s);e[r]=n;let g,u=!1;if(Array.isArray(n)){const y=n;g=y[1],(null===g||Ci(y,g)>0)&&(u=!0)}else g=n;if(i)if(0!==c){const T=Cn(e[a+1]);e[r+1]=fa(T,a),0!==T&&(e[T+1]=Zu(e[T+1],r)),e[a+1]=function LE(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=fa(a,0),0!==a&&(e[a+1]=Zu(e[a+1],r)),a=r;else e[r+1]=fa(c,0),0===a?a=r:e[c+1]=Zu(e[c+1],r),c=r;u&&(e[r+1]=Ju(e[r+1])),Am(e,g,r,!0),Am(e,g,r,!1),function SS(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ci(o,t)>=0&&(n[r+1]=Ku(n[r+1]))}(t,g,e,r,o),s=fa(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function xl(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=qo(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function qo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Qt(e,s,!!n||t[++o]))}return void 0===e?null:e}function jm(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,u=c[a+1];wa(function rg(e){return 1==(1&e)}(u)?Bm(c,t,n,i,Yn(u),s):void 0)||(wa(o)||function ng(e){return 2==(2&e)}(u)&&(o=Bm(c,null,n,i,a,s)),function TE(e,t,n,r,i){const o=Ze(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Zt.DashCase;if(null==i)o?e.removeStyle(n,r,s):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Zt.Important),o?e.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,Us(Pt(),n),i,o))}function Bm(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),g=u?c[1]:c,y=null===g;let T=n[i+1];T===me&&(T=y?Le:void 0);let M=y?Cu(T,r):g===r?T:void 0;if(u&&!wa(M)&&(M=Cu(c,r)),wa(M)&&(a=M,s))return a;const F=e[i+1];i=s?Cn(F):Yn(F)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Cu(c,r))}return a}function wa(e){return void 0!==e}function Um(e,t){return 0!=(e.flags&(t?16:32))}function re(e,t=""){const n=z(),r=Re(),i=e+20,o=r.firstCreatePass?Ti(r,i,1,t,null):r.data[i],s=n[i]=function Uu(e,t){return Ze(e)?e.createText(t):e.createTextNode(t)}(n[11],t);la(r,n,s,o),On(o,!1)}function xt(e,t,n){const r=z(),i=function Oi(e,t,n,r){return Et(e,fi(),n)?t+ge(n)+r:me}(r,e,t,n);return i!==me&&Xn(r,Pt(),i),xt}function vr(e,t,n,r,i){const o=z(),s=function xi(e,t,n,r,i,o){const a=Hr(e,Zn(),n,i);return Kn(2),a?t+ge(n)+r+ge(i)+o:me}(o,e,t,n,r,i);return s!==me&&Xn(o,Pt(),s),vr}function kl(e,t,n,r,i,o,s){const a=z(),c=ki(a,e,t,n,r,i,o,s);return c!==me&&Xn(a,Pt(),c),kl}function Nl(e,t,n){const r=z();if(Et(r,fi(),t)){const o=Re(),s=Ke();Kt(o,s,r,e,t,function Ag(e,t,n){return(null===e||vn(e))&&(n=function aw(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(uu(o.data),s,r),n,!0)}return Nl}const Ea="en-US";let ay=Ea;function Vl(e,t,n,r,i){if(e=_e(e),Array.isArray(e))for(let o=0;o<e.length;o++)Vl(e[o],t,n,r,i);else{const o=Re(),s=z();let a=Ai(e)?e:_e(e.provide),c=Fg(e);const u=at(),g=1048575&u.providerIndexes,y=u.directiveStart,T=u.providerIndexes>>20;if(Ai(e)||!e.multi){const M=new _o(c,i,G),F=Bl(a,t,i?g:g+T,y);-1===F?(Xs(bo(u,s),o,a),jl(o,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(M),s.push(M)):(n[F]=M,s[F]=M)}else{const M=Bl(a,t,g+T,y),F=Bl(a,t,g,g+T),$=M>=0&&n[M],Q=F>=0&&n[F];if(i&&!Q||!i&&!$){Xs(bo(u,s),o,a);const q=function sI(e,t,n,r,i){const o=new _o(e,n,G);return o.multi=[],o.index=t,o.componentProviders=0,Ry(o,i,r&&!n),o}(i?oI:iI,n.length,i,r,c);!i&&Q&&(n[F].providerFactory=q),jl(o,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(q),s.push(q)}else jl(o,e,M>-1?M:F,Ry(n[i?F:M],c,!i&&r));!i&&r&&Q&&n[F].componentProviders++}}}function jl(e,t,n,r){const i=Ai(t),o=function PT(e){return!!e.useClass}(t);if(i||o){const c=(o?_e(t.useClass):t).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const g=u.indexOf(n);-1===g?u.push(n,[r,c]):u[g+1].push(r,c)}else u.push(n,c)}}}function Ry(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Bl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function iI(e,t,n,r){return Ul(this.multi,[])}function oI(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Do(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),Ul(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Ul(i,o);return o}function Ul(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ze(e,t=[]){return n=>{n.providersResolver=(r,i)=>function rI(e,t,n){const r=Re();if(r.firstCreatePass){const i=vn(e);Vl(n,r.data,r.blueprint,i,!0),Vl(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Oy{}class uI{resolveComponentFactory(t){throw function cI(e){const t=Error(`No component factory found for ${xe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Wi=(()=>{class e{}return e.NULL=new uI,e})();function lI(){return qi(at(),z())}function qi(e,t){return new Yt(un(e,t))}let Yt=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=lI,e})();function dI(e){return e instanceof Yt?e.nativeElement:e}class ky{}let tr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function hI(){const e=z(),n=qt(at().index,e);return function fI(e){return e[11]}(Rn(n)?n:e)}(),e})(),pI=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null}),e})();class Yo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const gI=new Yo("13.2.6"),Hl={};function Aa(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(rt(o)),yn(o))for(let a=10;a<o.length;a++){const c=o[a],u=c[1].firstChild;null!==u&&Aa(c[1],c,u,r)}const s=n.type;if(8&s)Aa(e,t,n.child,r);else if(32&s){const a=Vu(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=zp(t,n);if(Array.isArray(a))r.push(...a);else{const c=Lo(t[16]);Aa(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Xo{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Aa(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(yn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&($u(t,r),ta(n,r))}this._attachedToViewContainer=!1}Fp(this._lView[1],this._lView)}onDestroy(t){yg(this._lView[1],this._lView,null,t)}markForCheck(){fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _T(e,t,n){$s(!0);try{pl(e,t,n)}finally{$s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gE(e,t){Vo(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=t}}class mI extends Xo{constructor(t){super(t),this._view=t}detectChanges(){Sg(this._view)}checkNoChanges(){!function CT(e){$s(!0);try{Sg(e)}finally{$s(!1)}}(this._view)}get context(){return null}}class Ny extends Wi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ct(t);return new $l(n,this.ngModule)}}function Fy(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class $l extends Oy{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function NE(e){return e.map(kE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Fy(this.componentDef.inputs)}get outputs(){return Fy(this.componentDef.outputs)}create(t,n,r,i){const o=(i=i||this.ngModule)?function vI(e,t){return{get:(n,r,i)=>{const o=e.get(n,Hl,i);return o!==Hl||r===Hl?o:t.get(n,r,i)}}}(t,i.injector):t,s=o.get(ky,Sh),a=o.get(pI,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",g=r?function mg(e,t,n){if(Ze(e))return e.selectRootElement(t,n===Pn.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Hu(s.createRenderer(null,this.componentDef),u,function yI(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),y=this.componentDef.onPush?576:528,T=function Qg(e,t){return{components:[],scheduler:e||aE,clean:bT,playerHandler:t||null,flags:0}}(),M=ga(0,null,null,1,0,null,null,null,null,null),F=jo(null,M,T,y,null,null,s,c,a,o);let $,Q;Gs(F);try{const q=function Wg(e,t,n,r,i,o){const s=n[1];n[20]=e;const c=Ti(s,20,2,"#host",null),u=c.mergedAttrs=t.hostAttrs;null!==u&&(ya(c,u,!0),null!==e&&(Js(i,e,u),null!==c.classes&&Qu(i,e,c.classes),null!==c.styles&&Qp(i,e,c.styles)));const g=r.createRenderer(e,t),y=jo(n,pg(t),null,t.onPush?64:16,n[20],c,r,g,o||null,null);return s.firstCreatePass&&(Xs(bo(c,n),s,t.type),Dg(s,c),wg(c,n.length,1)),ma(n,y),n[20]=y}(g,this.componentDef,F,s,c);if(g)if(r)Js(c,g,["ng-version",gI.full]);else{const{attrs:U,classes:ne}=function FE(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!_n(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);U&&Js(c,g,U),ne&&ne.length>0&&Qu(c,g,ne.join(" "))}if(Q=ru(M,20),void 0!==n){const U=Q.projection=[];for(let ne=0;ne<this.ngContentSelectors.length;ne++){const ve=n[ne];U.push(null!=ve?Array.from(ve):null)}}$=function qg(e,t,n,r,i){const o=n[1],s=function rT(e,t,n){const r=at();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Eg(e,r,t,Si(e,t,1,null),n));const i=Do(t,e,r.directiveStart,r);wt(i,t);const o=un(r,t);return o&&wt(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(c=>c(s,t)),t.contentQueries){const c=at();t.contentQueries(1,s,c.directiveStart)}const a=at();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(hr(a.index),Cg(n[1],a,0,a.directiveStart,a.directiveEnd,t),bg(t,s)),s}(q,this.componentDef,F,T,[UT]),Bo(M,F,null)}finally{zs()}return new CI(this.componentType,$,qi(Q,F),F,Q)}}class CI extends class aI{}{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new mI(i),this.componentType=t}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class nr{}class Ly{}const Qi=new Map;class By extends nr{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ny(this);const r=on(t);this._bootstrapComponents=Fn(r.bootstrap),this._r3Injector=Ng(t,n,[{provide:nr,useValue:this},{provide:Wi,useValue:this.componentFactoryResolver}],xe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=gt.THROW_IF_NOT_FOUND,r=pe.Default){return t===gt||t===nr||t===ml?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Gl extends Ly{constructor(t){super(),this.moduleType=t,null!==on(t)&&function DI(e){const t=new Set;!function n(r){const i=on(r,!0),o=i.id;null!==o&&(function Vy(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${xe(t)} vs ${xe(t.name)}`)}(o,Qi.get(o),r),Qi.set(o,r));const s=Fn(i.imports);for(const a of s)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new By(this.moduleType,t)}}function Pa(e,t,n){const r=At()+e,i=z();return i[r]===me?Vn(i,r,n?t.call(n):t()):function $o(e,t){return e[t]}(i,r)}function Ji(e,t,n,r){return function Uy(e,t,n,r,i,o){const s=t+n;return Et(e,s,i)?Vn(e,s+1,o?r.call(o,i):r(i)):function es(e,t){const n=e[t];return n===me?void 0:n}(e,s+1)}(z(),At(),e,t,n,r)}function zl(e){return t=>{setTimeout(e,void 0,t)}}const Xe=class VI extends We{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,o,s;let a=t,c=n||(()=>null),u=r;if(t&&"object"==typeof t){const y=t;a=null===(i=y.next)||void 0===i?void 0:i.bind(y),c=null===(o=y.error)||void 0===o?void 0:o.bind(y),u=null===(s=y.complete)||void 0===s?void 0:s.bind(y)}this.__isAsync&&(c=zl(c),a&&(a=zl(a)),u&&(u=zl(u)));const g=super.subscribe({next:a,error:c,complete:u});return t instanceof D&&t.add(g),g}};function jI(){return this._results[Pi()]()}class Wl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Pi(),r=Wl.prototype;r[n]||(r[n]=jI)}get changes(){return this._changes||(this._changes=new Xe)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=ln(t);(this._changesDetected=!function Hw(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let rr=(()=>{class e{}return e.__NG_ELEMENT_ID__=HI,e})();const BI=rr,UI=class extends BI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=jo(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),Bo(n,r,t),new Xo(r)}};function HI(){return Ra(at(),z())}function Ra(e,t){return 4&e.type?new UI(t,e,qi(e,t)):null}let En=(()=>{class e{}return e.__NG_ELEMENT_ID__=$I,e})();function $I(){return Qy(at(),z())}const GI=En,Wy=class extends GI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return qi(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ys(this._hostTNode,this._hostLView);if(Hh(t)){const n=pi(t,this._hostLView),r=hi(t);return new gi(n[1].data[r+8],n)}return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=qy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,o){const s=t&&!function To(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.ngModuleRef}const c=s?t:new $l(Ct(t)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const T=(s?u:this.parentInjector).get(nr,null);T&&(o=T)}const g=c.create(u,i,void 0,o);return this.insert(g.hostView,a),g}insert(t,n){const r=t._lView,i=r[1];if(function uw(e){return yn(e[3])}(r)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const y=r[3],T=new Wy(y,y[6],y[3]);T.detach(T.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function yE(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],Yh(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function vE(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,s,o);const a=Wu(o,s),c=r[11],u=ua(c,s[7]);return null!==u&&function pE(e,t,n,r,i,o){r[0]=i,r[6]=t,Vo(e,r,n,1,i,o)}(i,s[6],c,r,u,a),t.attachToViewContainerRef(),Yh(ql(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=qy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=$u(this._lContainer,n);r&&(ta(ql(this._lContainer),n),Fp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=$u(this._lContainer,n);return r&&null!=ta(ql(this._lContainer),n)?new Xo(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function qy(e){return e[8]}function ql(e){return e[8]||(e[8]=[])}function Qy(e,t){let n;const r=t[e.index];if(yn(r))n=r;else{let i;if(8&e.type)i=rt(r);else{const o=t[11];i=o.createComment("");const s=un(e,t);Ur(o,ua(o,s),i,function DE(e,t){return Ze(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=Tg(r,t,i,e),ma(t,n)}return new Wy(n,e,t)}class Ql{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ql(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Jl(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Xy(t,n).matches&&this.queries[n].setDirty()}}class Jy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Zl{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Zl(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Kl{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Kl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,qI(n,o)),this.matchTNodeWithReadOption(t,n,ea(n,t,o,!1,!1))}else r===rr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ea(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Yt||i===En||i===rr&&4&n.type)this.addMatch(n.index,-2);else{const o=ea(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function qI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function JI(e,t,n,r){return-1===n?function QI(e,t){return 11&e.type?qi(e,t):4&e.type?Ra(e,t):null}(t,e):-2===n?function ZI(e,t,n){return n===Yt?qi(t,e):n===rr?Ra(t,e):n===En?Qy(t,e):void 0}(e,t,r):Do(e,e[1],n,t)}function Zy(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:JI(t,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Yl(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Zy(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],g=t[-c];for(let y=10;y<g.length;y++){const T=g[y];T[17]===T[3]&&Yl(T[1],T,u,r)}if(null!==g[9]){const y=g[9];for(let T=0;T<y.length;T++){const M=y[T];Yl(M[1],M,u,r)}}}}}return r}function Gr(e){const t=z(),n=Re(),r=xh();lu(r+1);const i=Xy(n,r);if(e.dirty&&Mh(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Yl(n,t,r,[]):Zy(n,t,i,r);e.reset(o,dI),e.notifyOnChanges()}return!0}return!1}function ns(e,t,n){const r=Re();r.firstCreatePass&&(function Yy(e,t,n){null===e.queries&&(e.queries=new Zl),e.queries.track(new Kl(t,n))}(r,new Jy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Ky(e,t,n){const r=new Wl(4==(4&n));yg(e,t,r,r.destroy),null===t[19]&&(t[19]=new Jl),t[19].queries.push(new Ql(r))}(r,z(),t)}function zr(){return function KI(e,t){return e[19].queries[t].queryList}(z(),xh())}function Xy(e,t){return e.queries.getByIndex(t)}function ka(...e){}const od=new be("Application Initializer");let sd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ka,this.reject=ka,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Wo(o))n.push(o);else if(Pl(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Y(od,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const is=new be("AppId",{providedIn:"root",factory:function mv(){return`${ad()}${ad()}${ad()}`}});function ad(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yv=new be("Platform Initializer"),Na=new be("Platform ID"),vv=new be("appBootstrapListener");let _v=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const _r=new be("LocaleId",{providedIn:"root",factory:()=>t0(_r,pe.Optional|pe.SkipSelf)||function mA(){return"undefined"!=typeof $localize&&$localize.locale||Ea}()});class vA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Cv=(()=>{class e{compileModuleSync(n){return new Gl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Fn(on(n).declarations).reduce((s,a)=>{const c=Ct(a);return c&&s.push(new $l(c)),s},[]);return new vA(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const CA=(()=>Promise.resolve(0))();function cd(e){"undefined"==typeof Zone?CA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function bA(){let e=Ne.requestAnimationFrame,t=Ne.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function EA(e){const t=()=>{!function wA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ne,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ld(e),e.isCheckStableRunning=!0,ud(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ld(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return bv(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Dv(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return bv(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Dv(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,ld(e),ud(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,DA,ka,ka);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const DA={};function ud(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ld(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function bv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dv(e){e._nesting--,ud(e)}class TA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let dd=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lt.assertNotInAngularZone(),cd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Y(lt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),wv=(()=>{class e{constructor(){this._applications=new Map,fd.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return fd.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class SA{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Tn,fd=new SA;const Ev=new be("AllowMultipleToken");class Tv{constructor(t,n){this.name=t,this.token=n}}function Sv(e,t,n=[]){const r=`Platform: ${t}`,i=new be(r);return(o=[])=>{let s=Mv();if(!s||s.injector.get(Ev,!1))if(e)e(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:yl,useValue:"platform"});!function PA(e){if(Tn&&!Tn.destroyed&&!Tn.injector.get(Ev,!1))throw new Pe(400,"");Tn=e.get(Iv);const t=e.get(yv,null);t&&t.forEach(n=>n())}(gt.create({providers:a,name:r}))}return function RA(e){const t=Mv();if(!t)throw new Pe(401,"");return t}()}}function Mv(){return Tn&&!Tn.destroyed?Tn:null}let Iv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function OA(e,t){let n;return n="noop"===e?new TA:("zone.js"===e?void 0:e)||new lt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:lt,useValue:a}];return a.run(()=>{const u=gt.create({providers:c,parent:this.injector,name:n.moduleType.name}),g=n.create(u),y=g.injector.get(Fo,null);if(!y)throw new Pe(402,"");return a.runOutsideAngular(()=>{const T=a.onError.subscribe({next:M=>{y.handleError(M)}});g.onDestroy(()=>{hd(this._modules,g),T.unsubscribe()})}),function xA(e,t,n){try{const r=n();return Wo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(y,a,()=>{const T=g.injector.get(sd);return T.runInitializers(),T.donePromise.then(()=>(function fM(e){Gt(e,"Expected localeId to be defined"),"string"==typeof e&&(ay=e.toLowerCase().replace(/_/g,"-"))}(g.injector.get(_r,Ea)||Ea),this._moduleDoBootstrap(g),g))})})}bootstrapModule(n,r=[]){const i=Av({},r);return function IA(e,t,n){const r=new Gl(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(os);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Pe(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Y(gt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Av(e,t){return Array.isArray(t)?t.reduce(Av,e):Object.assign(Object.assign({},e),t)}let os=(()=>{class e{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new de(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),c=new de(u=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),cd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});this.isStable=function ID(...e){const t=ho(e),n=function bD(e,t){return"number"==typeof Vc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?An(r[0]):fo(n)(ht(r,t)):qn}(a,c.pipe(function AD(e={}){const{connector:t=(()=>new We),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s=null,a=null,c=null,u=0,g=!1,y=!1;const T=()=>{null==a||a.unsubscribe(),a=null},M=()=>{T(),s=c=null,g=y=!1},F=()=>{const $=s;M(),null==$||$.unsubscribe()};return et(($,Q)=>{u++,!y&&!g&&T();const q=c=null!=c?c:t();Q.add(()=>{u--,0===u&&!y&&!g&&(a=jc(F,i))}),q.subscribe(Q),s||(s=new x({next:U=>q.next(U),error:U=>{y=!0,T(),a=jc(M,n,U),q.error(U)},complete:()=>{g=!0,T(),a=jc(M,r),q.complete()}}),ht($).subscribe(s))})(o)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Pe(405,"");let i;i=n instanceof Oy?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function AA(e){return e.isBoundToModule}(i)?void 0:this._injector.get(nr),a=i.create(gt.NULL,[],r||i.selector,o),c=a.location.nativeElement,u=a.injector.get(dd,null),g=u&&a.injector.get(wv);return u&&g&&g.registerApplication(c,u),a.onDestroy(()=>{this.detachView(a.hostView),hd(this.components,a),g&&g.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;hd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(vv,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Y(lt),Y(gt),Y(Fo),Y(Wi),Y(sd))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Rv=!0,Fa=(()=>{class e{}return e.__NG_ELEMENT_ID__=FA,e})();function FA(e){return function LA(e,t,n){if(js(e)&&!n){const r=qt(e.index,t);return new Xo(r,r)}return 47&e.type?new Xo(t[16],t):null}(at(),z(),16==(16&e))}class Fv{constructor(){}supports(t){return Ho(t)}create(t){return new $A(t)}}const HA=(e,t)=>t;class $A{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||HA}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Vv(r,i,o)?n:r,a=Vv(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,g=c-i;if(u!=g){for(let T=0;T<u;T++){const M=T<o.length?o[T]:o[T]=0,F=M+T;g<=F&&F<u&&(o[T]=M+1)}o[s.previousIndex]=g-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ho(t))throw new Pe(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function KT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Pi()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new GA(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Lv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class GA{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zA{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Lv{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new zA,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vv(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Bv(){return new ja([new Fv])}let ja=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Bv()),deps:[[e,new Po,new gr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Pe(901,"")}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:Bv}),e})();const ZA=Sv(null,"core",[{provide:Na,useValue:"unknown"},{provide:Iv,deps:[gt]},{provide:wv,deps:[]},{provide:_v,deps:[]}]);let KA=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Y(os))},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({}),e})(),Ba=null;function Un(){return Ba}const yt=new be("DocumentToken");let qr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:function(){return function tP(){return Y(Hv)}()},providedIn:"platform"}),e})();const nP=new be("Location Initialized");let Hv=(()=>{class e extends qr{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(n){const r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){$v()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){$v()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Y(yt))},e.\u0275prov=ce({token:e,factory:function(){return function rP(){return new Hv(Y(yt))}()},providedIn:"platform"}),e})();function $v(){return!!window.history.pushState}function vd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Gv(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ir(e){return e&&"?"!==e[0]?"?"+e:e}let Ki=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:function(){return function iP(e){const t=Y(yt).location;return new zv(Y(qr),t&&t.origin||"")}()},providedIn:"root"}),e})();const _d=new be("appBaseHref");let zv=(()=>{class e extends Ki{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+ir(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+ir(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Y(qr),Y(_d,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),oP=(()=>{class e extends Ki{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=vd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ir(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ir(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Y(qr),Y(_d,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Cd=(()=>{class e{constructor(n,r){this._subject=new Xe,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Gv(Wv(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ir(r))}normalize(n){return e.stripTrailingSlash(function aP(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Wv(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ir(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ir(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=ir,e.joinWithSlash=vd,e.stripTrailingSlash=Gv,e.\u0275fac=function(n){return new(n||e)(Y(Ki),Y(qr))},e.\u0275prov=ce({token:e,factory:function(){return function sP(){return new Cd(Y(Ki),Y(qr))}()},providedIn:"root"}),e})();function Wv(e){return e.replace(/\/index.html$/,"")}function t_(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}class WP{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let us=(()=>{class e{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new WP(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),n_(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{n_(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(G(En),G(rr),G(ja))},e.\u0275dir=fe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function n_(e,t){e.context.$implicit=t.item}let ls=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new qP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){r_("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){r_("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(G(En),G(rr))},e.\u0275dir=fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class qP{constructor(){this.$implicit=null,this.ngIf=null}}function r_(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${xe(t)}'.`)}let s_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({}),e})();let w1=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new E1(Y(yt),window)}),e})();class E1{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function T1(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=c_(this.window.history)||c_(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function c_(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class u_{}class kd extends class S1 extends class eP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function XA(e){Ba||(Ba=e)}(new kd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function M1(){return ds=ds||document.querySelector("base"),ds?ds.getAttribute("href"):null}();return null==n?null:function I1(e){Za=Za||document.createElement("a"),Za.setAttribute("href",e);const t=Za.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return t_(document.cookie,t)}}let Za,ds=null;const l_=new be("TRANSITION_ID"),P1=[{provide:od,useFactory:function A1(e,t,n){return()=>{n.get(sd).donePromise.then(()=>{const r=Un(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[l_,yt,gt],multi:!0}];class Nd{static init(){!function MA(e){fd=e}(new Nd)}addToWindow(t){Ne.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ne.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ne.getAllAngularRootElements=()=>t.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?Un().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let R1=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Ka=new be("EventManagerPlugins");let Ya=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Y(Ka),Y(lt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class d_{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Un().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let f_=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),fs=(()=>{class e extends f_{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(h_),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(h_))}}return e.\u0275fac=function(n){return new(n||e)(Y(yt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function h_(e){Un().remove(e)}const Fd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ld=/%COMP%/g;function Xa(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Xa(e,i,n):(i=i.replace(Ld,e),n.push(i))}return n}function m_(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Vd=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new jd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Pn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new L1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Pn.ShadowDom:return new V1(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xa(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Y(Ya),Y(fs),Y(is))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class jd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Fd[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Fd[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Fd[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Zt.DashCase|Zt.Important)?t.style.setProperty(n,r,i&Zt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Zt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,m_(r)):this.eventManager.addEventListener(t,n,m_(r))}}class L1 extends jd{constructor(t,n,r,i){super(t),this.component=r;const o=Xa(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function k1(e){return"_ngcontent-%COMP%".replace(Ld,e)}(i+"-"+r.id),this.hostAttr=function N1(e){return"_nghost-%COMP%".replace(Ld,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class V1 extends jd{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Xa(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let j1=(()=>{class e extends d_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Y(yt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const v_=["alt","control","meta","shift"],U1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},__={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},H1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let $1=(()=>{class e extends d_{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="";if(v_.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function G1(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&__.hasOwnProperty(t)&&(t=__[t]))}return U1[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),v_.forEach(o=>{o!=i&&H1[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{e.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Y(yt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Q1=Sv(ZA,"browser",[{provide:Na,useValue:"browser"},{provide:yv,useValue:function z1(){kd.makeCurrent(),Nd.init()},multi:!0},{provide:yt,useFactory:function q1(){return function ow(e){tu=e}(document),document},deps:[]}]),J1=[{provide:yl,useValue:"root"},{provide:Fo,useFactory:function W1(){return new Fo},deps:[]},{provide:Ka,useClass:j1,multi:!0,deps:[yt,lt,Na]},{provide:Ka,useClass:$1,multi:!0,deps:[yt]},{provide:Vd,useClass:Vd,deps:[Ya,fs,is]},{provide:ky,useExisting:Vd},{provide:f_,useExisting:fs},{provide:fs,useClass:fs,deps:[yt]},{provide:dd,useClass:dd,deps:[lt]},{provide:Ya,useClass:Ya,deps:[Ka,lt]},{provide:u_,useClass:R1,deps:[]}];let Z1=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:is,useValue:n.appId},{provide:l_,useExisting:is},P1]}}}return e.\u0275fac=function(n){return new(n||e)(Y(e,12))},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({providers:J1,imports:[s_,KA]}),e})();"undefined"!=typeof window&&window;let D_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:function(n){let r=null;return r=n?new(n||e):Y(w_),r},providedIn:"root"}),e})(),w_=(()=>{class e extends D_{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ve.NONE:return r;case Ve.HTML:return kn(r,"HTML")?Jt(r):bp(this._doc,String(r)).toString();case Ve.STYLE:return kn(r,"Style")?Jt(r):r;case Ve.SCRIPT:if(kn(r,"Script"))return Jt(r);throw new Error("unsafe value used in a script context");case Ve.URL:return hp(r),kn(r,"URL")?Jt(r):Oo(String(r));case Ve.RESOURCE_URL:if(kn(r,"ResourceURL"))return Jt(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return function b0(e){return new m0(e)}(n)}bypassSecurityTrustStyle(n){return function D0(e){return new y0(e)}(n)}bypassSecurityTrustScript(n){return function w0(e){return new v0(e)}(n)}bypassSecurityTrustUrl(n){return function E0(e){return new _0(e)}(n)}bypassSecurityTrustResourceUrl(n){return function T0(e){return new C0(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(Y(yt))},e.\u0275prov=ce({token:e,factory:function(n){let r=null;return r=n?new n:function sR(e){return new w_(e.get(yt))}(Y(gt)),r},providedIn:"root"}),e})();const{isArray:aR}=Array,{getPrototypeOf:cR,prototype:uR,keys:lR}=Object;function E_(e){if(1===e.length){const t=e[0];if(aR(t))return{args:t,keys:null};if(function dR(e){return e&&"object"==typeof e&&cR(e)===uR}(t)){const n=lR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:fR}=Array;function T_(e){return we(t=>function hR(e,t){return fR(t)?e(...t):e(t)}(e,t))}function S_(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}let M_=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(G(tr),G(Yt))},e.\u0275dir=fe({type:e}),e})(),Qr=(()=>{class e extends M_{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Dt(e)))(r||e)}}(),e.\u0275dir=fe({type:e,features:[ke]}),e})();const Hn=new be("NgValueAccessor"),mR={provide:Hn,useExisting:je(()=>Yi),multi:!0},vR=new be("CompositionEventMode");let Yi=(()=>{class e extends M_{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yR(){const e=Un()?Un().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(G(tr),G(Yt),G(vR,8))},e.\u0275dir=fe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Me("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ze([mR]),ke]}),e})();const Tt=new be("NgValidators"),Dr=new be("NgAsyncValidators");function O_(e){return function br(e){return null==e||0===e.length}(e.value)?{required:!0}:null}function ec(e){return null}function V_(e){return null!=e}function j_(e){const t=Wo(e)?ht(e):e;return Pl(t),t}function B_(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function U_(e,t){return t.map(n=>n(e))}function H_(e){return e.map(t=>function CR(e){return!e.validate}(t)?t:n=>t.validate(n))}function Ud(e){return null!=e?function $_(e){if(!e)return null;const t=e.filter(V_);return 0==t.length?null:function(n){return B_(U_(n,t))}}(H_(e)):null}function Hd(e){return null!=e?function G_(e){if(!e)return null;const t=e.filter(V_);return 0==t.length?null:function(n){return function pR(...e){const t=ch(e),{args:n,keys:r}=E_(e),i=new de(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let g=0;g<s;g++){let y=!1;An(n[g]).subscribe(Je(o,T=>{y||(y=!0,u--),a[g]=T},()=>c--,void 0,()=>{(!c||!y)&&(u||o.next(r?S_(r,a):a),o.complete())}))}});return t?i.pipe(T_(t)):i}(U_(n,t).map(j_)).pipe(we(B_))}}(H_(e)):null}function z_(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function $d(e){return e?Array.isArray(e)?e:[e]:[]}function tc(e,t){return Array.isArray(e)?e.includes(t):e===t}function Q_(e,t){const n=$d(t);return $d(e).forEach(i=>{tc(n,i)||n.push(i)}),n}function J_(e,t){return $d(t).filter(n=>!tc(e,n))}class Z_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ud(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class wr extends Z_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ft extends Z_{get formDirective(){return null}get path(){return null}}class K_{constructor(t){this._cd=t}is(t){var n,r,i;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let nc=(()=>{class e extends K_{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(G(wr,2))},e.\u0275dir=fe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Da("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ke]}),e})(),rc=(()=>{class e extends K_{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(G(Ft,10))},e.\u0275dir=fe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Da("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ke]}),e})();function hs(e,t){Wd(e,t),t.valueAccessor.writeValue(e.value),function IR(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&X_(e,t)})}(e,t),function PR(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function AR(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&X_(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function MR(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function ac(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Wd(e,t){const n=function W_(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(z_(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function q_(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(z_(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();ac(t._rawValidators,i),ac(t._rawAsyncValidators,i)}function X_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Jd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ps="VALID",uc="INVALID",Xi="PENDING",gs="DISABLED";function Kd(e){return(lc(e)?e.validators:e)||null}function nC(e){return Array.isArray(e)?Ud(e):e||null}function Yd(e,t){return(lc(t)?t.asyncValidators:e)||null}function rC(e){return Array.isArray(e)?Hd(e):e||null}function lc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const Xd=e=>e instanceof tf;function oC(e){return(e=>e instanceof cC)(e)?e.value:e.getRawValue()}function sC(e,t){const n=Xd(e),r=e.controls;if(!(n?Object.keys(r):r).length)throw new Pe(1e3,"");if(!r[t])throw new Pe(1001,"")}function aC(e,t){Xd(e),e._forEachChild((r,i)=>{if(void 0===t[i])throw new Pe(1002,"")})}class ef{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=nC(this._rawValidators),this._composedAsyncValidatorFn=rC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ps}get invalid(){return this.status===uc}get pending(){return this.status==Xi}get disabled(){return this.status===gs}get enabled(){return this.status!==gs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rC(t)}addValidators(t){this.setValidators(Q_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Q_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(J_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(J_(t,this._rawAsyncValidators))}hasValidator(t){return tc(this._rawValidators,t)}hasAsyncValidator(t){return tc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xi,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=gs,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ps,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ps||this.status===Xi)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gs:ps}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xi,this._hasOwnPendingAsyncValidator=!0;const n=j_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function kR(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(n)),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(i=>{r=Xd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(e=>e instanceof FR)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?gs:this.errors?uc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xi)?Xi:this._anyControlsHaveStatus(uc)?uc:ps}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class cC extends ef{constructor(t=null,n,r){super(Kd(n),Yd(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lc(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Jd(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Jd(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class tf extends ef{constructor(t,n,r){super(Kd(n),Yd(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){aC(this,t),Object.keys(t).forEach(r=>{sC(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=oC(n),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class FR extends ef{constructor(t,n,r){super(Kd(n),Yd(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){aC(this,t),t.forEach((r,i)=>{sC(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>oC(t))}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const LR={provide:Ft,useExisting:je(()=>eo)},ms=(()=>Promise.resolve(null))();let eo=(()=>{class e extends Ft{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xe,this.form=new tf({},Ud(n),Hd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ms.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),hs(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ms.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ms.then(()=>{const r=this._findContainer(n.path),i=new tf({});(function eC(e,t){Wd(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ms.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ms.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function tC(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(G(Tt,10),G(Dr,10))},e.\u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Me("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([LR]),ke]}),e})();const jR={provide:wr,useExisting:je(()=>ys)},dC=(()=>Promise.resolve(null))();let ys=(()=>{class e extends wr{constructor(n,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new cC,this._registered=!1,this.update=new Xe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Qd(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Yi?n=o:function xR(e){return Object.getPrototypeOf(e.constructor)===Qr}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function qd(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){dC.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;dC.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(n){return this._parent?function oc(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(G(Ft,9),G(Tt,10),G(Dr,10),G(Hn,10),G(Fa,8))},e.\u0275dir=fe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([jR]),ke,an]}),e})(),dc=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),hC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({}),e})();const JR={provide:Hn,useExisting:je(()=>fc),multi:!0};function CC(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let fc=(()=>{class e extends Qr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=CC(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function ZR(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Dt(e)))(r||e)}}(),e.\u0275dir=fe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Me("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ze([JR]),ke]}),e})(),bC=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(CC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(G(Yt),G(tr),G(fc,9))},e.\u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const KR={provide:Hn,useExisting:je(()=>sf),multi:!0};function DC(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let sf=(()=>{class e extends Qr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function YR(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Dt(e)))(r||e)}}(),e.\u0275dir=fe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Me("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ze([KR]),ke]}),e})(),wC=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(DC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(DC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(G(Yt),G(tr),G(sf,9))},e.\u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Jr=(()=>{class e{constructor(){this._validator=ec}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ec,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=fe({type:e,features:[an]}),e})();const nO={provide:Tt,useExisting:je(()=>to),multi:!0};let to=(()=>{class e extends Jr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n=>function XR(e){return null!=e&&!1!==e&&"false"!=`${e}`}(n),this.createValidator=n=>O_}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Dt(e)))(r||e)}}(),e.\u0275dir=fe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Ot("required",r._enabled?"":null)},inputs:{required:"required"},features:[ze([nO]),ke]}),e})(),cO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({imports:[[hC]]}),e})(),uO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({imports:[cO]}),e})();function ye(...e){return ht(e,ho(e))}function no(e,t){return H(t)?ft(e,t,1):ft(e,1)}function Zr(e,t){return et((n,r)=>{let i=0;n.subscribe(Je(r,o=>e.call(t,o,i++)&&r.next(o)))})}class xC{}class kC{}class sr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof sr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new sr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof sr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class lO{encodeKey(t){return NC(t)}encodeValue(t){return NC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fO=/%(\d[a-f0-9])/gi,hO={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function NC(e){return encodeURIComponent(e).replace(fO,(t,n)=>{var r;return null!==(r=hO[n])&&void 0!==r?r:t})}function FC(e){return`${e}`}class Er{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dO(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Er({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(FC(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(FC(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class pO{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function LC(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function VC(e){return"undefined"!=typeof Blob&&e instanceof Blob}function jC(e){return"undefined"!=typeof FormData&&e instanceof FormData}class vs{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new sr),this.context||(this.context=new pO),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Er,this.urlWithParams=n}serializeBody(){return null===this.body?null:LC(this.body)||VC(this.body)||jC(this.body)||function mO(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jC(this.body)?null:VC(this.body)?this.body.type||null:LC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var n;const r=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,g=t.params||this.params;const y=null!==(n=t.context)&&void 0!==n?n:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((T,M)=>T.set(M,t.setHeaders[M]),u)),t.setParams&&(g=Object.keys(t.setParams).reduce((T,M)=>T.set(M,t.setParams[M]),g)),new vs(r,i,s,{params:g,headers:u,context:y,reportProgress:c,responseType:o,withCredentials:a})}}var st=(()=>((st=st||{})[st.Sent=0]="Sent",st[st.UploadProgress=1]="UploadProgress",st[st.ResponseHeader=2]="ResponseHeader",st[st.DownloadProgress=3]="DownloadProgress",st[st.Response=4]="Response",st[st.User=5]="User",st))();class af{constructor(t,n=200,r="OK"){this.headers=t.headers||new sr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class cf extends af{constructor(t={}){super(t),this.type=st.ResponseHeader}clone(t={}){return new cf({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hc extends af{constructor(t={}){super(t),this.type=st.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class BC extends af{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function uf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let pc=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof vs)o=n;else{let c,u;c=i.headers instanceof sr?i.headers:new sr(i.headers),i.params&&(u=i.params instanceof Er?i.params:new Er({fromObject:i.params})),o=new vs(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ye(o).pipe(no(c=>this.handler.handle(c)));if(n instanceof vs||"events"===i.observe)return s;const a=s.pipe(Zr(c=>c instanceof hc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(we(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(we(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Er).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,uf(i,r))}post(n,r,i={}){return this.request("POST",n,uf(i,r))}put(n,r,i={}){return this.request("PUT",n,uf(i,r))}}return e.\u0275fac=function(n){return new(n||e)(Y(xC))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class UC{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const HC=new be("HTTP_INTERCEPTORS");let yO=(()=>{class e{intercept(n,r){return r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const vO=/^\)\]\}',?\n/;let $C=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new de(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((M,F)=>i.setRequestHeader(M,F.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const M=n.detectContentTypeHeader();null!==M&&i.setRequestHeader("Content-Type",M)}if(n.responseType){const M=n.responseType.toLowerCase();i.responseType="json"!==M?M:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const M=i.statusText||"OK",F=new sr(i.getAllResponseHeaders()),$=function _O(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return s=new cf({headers:F,status:i.status,statusText:M,url:$}),s},c=()=>{let{headers:M,status:F,statusText:$,url:Q}=a(),q=null;204!==F&&(q=void 0===i.response?i.responseText:i.response),0===F&&(F=q?200:0);let U=F>=200&&F<300;if("json"===n.responseType&&"string"==typeof q){const ne=q;q=q.replace(vO,"");try{q=""!==q?JSON.parse(q):null}catch(ve){q=ne,U&&(U=!1,q={error:ve,text:q})}}U?(r.next(new hc({body:q,headers:M,status:F,statusText:$,url:Q||void 0})),r.complete()):r.error(new BC({error:q,headers:M,status:F,statusText:$,url:Q||void 0}))},u=M=>{const{url:F}=a(),$=new BC({error:M,status:i.status||0,statusText:i.statusText||"Unknown Error",url:F||void 0});r.error($)};let g=!1;const y=M=>{g||(r.next(a()),g=!0);let F={type:st.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),"text"===n.responseType&&!!i.responseText&&(F.partialText=i.responseText),r.next(F)},T=M=>{let F={type:st.UploadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),r.next(F)};return i.addEventListener("load",c),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),n.reportProgress&&(i.addEventListener("progress",y),null!==o&&i.upload&&i.upload.addEventListener("progress",T)),i.send(o),r.next({type:st.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",c),i.removeEventListener("timeout",u),n.reportProgress&&(i.removeEventListener("progress",y),null!==o&&i.upload&&i.upload.removeEventListener("progress",T)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Y(u_))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const lf=new be("XSRF_COOKIE_NAME"),df=new be("XSRF_HEADER_NAME");class GC{}let CO=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=t_(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Y(yt),Y(Na),Y(lf))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),ff=(()=>{class e{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Y(GC),Y(df))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),bO=(()=>{class e{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(HC,[]);this.chain=r.reduceRight((i,o)=>new UC(i,o),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Y(kC),Y(gt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),DO=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:ff,useClass:yO}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:lf,useValue:n.cookieName}:[],n.headerName?{provide:df,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({providers:[ff,{provide:HC,useExisting:ff,multi:!0},{provide:GC,useClass:CO},{provide:lf,useValue:"XSRF-TOKEN"},{provide:df,useValue:"X-XSRF-TOKEN"}]}),e})(),wO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({providers:[pc,{provide:xC,useClass:bO},$C,{provide:kC,useExisting:$C}],imports:[[DO.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();class Xt extends We{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function zC(e,t,n){e?Wn(n,e,t):t()}function gc(e,t){const n=H(e)?e:()=>e,r=i=>i.error(n());return new de(t?i=>t.schedule(r,0,i):r)}const mc=ie(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function hf(...e){return function SO(){return fo(1)}()(ht(e,ho(e)))}function WC(e){return new de(t=>{An(e()).subscribe(t)})}function qC(){return et((e,t)=>{let n=null;e._refCount++;const r=Je(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class MO extends de{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new D;const n=this.getSubject();t.add(this.source.subscribe(Je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=D.EMPTY)}return t}refCount(){return qC()(this)}}function Kr(e,t){return et((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Je(r,c=>{null==i||i.unsubscribe();let u=0;const g=o++;An(e(c,g)).subscribe(i=Je(r,y=>r.next(t?t(c,y,g,u++):y),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function AO(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe(Je(s,g=>{const y=u++;c=a?e(c,g,y):(a=!0,g),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function QC(e,t){return et(AO(e,t,arguments.length>=2,!0))}function Tr(e){return et((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Je(n,void 0,void 0,s=>{o=An(e(s,Tr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function pf(e){return e<=0?()=>qn:et((t,n)=>{let r=[];t.subscribe(Je(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function JC(e=PO){return et((t,n)=>{let r=!1;t.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function PO(){return new mc}function ZC(e){return et((t,n)=>{let r=!1;t.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function ro(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zr((i,o)=>e(i,o,r)):Z,Os(1),n?ZC(t):JC(()=>new mc))}function en(e,t,n){const r=H(e)||t||n?{next:e,error:t,complete:n}:e;return r?et((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Je(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Z}class ar{constructor(t,n){this.id=t,this.url=n}}class gf extends ar{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _s extends ar{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class KC extends ar{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xO extends ar{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kO extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NO extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FO extends ar{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LO extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VO extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HO{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eb{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Te="primary";class $O{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function io(e){return new $O(e)}const tb="ngNavigationCancelingError";function mf(e){const t=Error("NavigationCancelingError: "+e);return t[tb]=!0,t}function zO(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function $n(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!nb(e[i],t[i]))return!1;return!0}function nb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function rb(e){return Array.prototype.concat.apply([],e)}function ib(e){return e.length>0?e[e.length-1]:null}function vt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Gn(e){return Pl(e)?e:Wo(e)?ht(Promise.resolve(e)):ye(e)}const QO={exact:function ab(e,t,n){if(!Xr(e.segments,t.segments)||!yc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!ab(e.children[r],t.children[r],n))return!1;return!0},subset:cb},ob={exact:function JO(e,t){return $n(e,t)},subset:function ZO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>nb(e[n],t[n]))},ignored:()=>!0};function sb(e,t,n){return QO[n.paths](e.root,t.root,n.matrixParams)&&ob[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function cb(e,t,n){return ub(e,t,t.segments,n)}function ub(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Xr(i,n)||t.hasChildren()||!yc(i,n,r))}if(e.segments.length===n.length){if(!Xr(e.segments,n)||!yc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!cb(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Xr(e.segments,i)&&yc(e.segments,i,r)&&e.children[Te])&&ub(e.children[Te],t,o,r)}}function yc(e,t,n){return t.every((r,i)=>ob[n](e[i].parameters,r.parameters))}class Yr{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=io(this.queryParams)),this._queryParamMap}toString(){return XO.serialize(this)}}class Ae{constructor(t,n){this.segments=t,this.children=n,this.parent=null,vt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vc(this)}}class Cs{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=io(this.parameters)),this._parameterMap}toString(){return pb(this)}}function Xr(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class lb{}class db{parse(t){const n=new cx(t);return new Yr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${bs(t.root,!0)}`,r=function nx(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${_c(n)}=${_c(i)}`).join("&"):`${_c(n)}=${_c(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function ex(e){return encodeURI(e)}(t.fragment)}`:""}`}}const XO=new db;function vc(e){return e.segments.map(t=>pb(t)).join("/")}function bs(e,t){if(!e.hasChildren())return vc(e);if(t){const n=e.children[Te]?bs(e.children[Te],!1):"",r=[];return vt(e.children,(i,o)=>{o!==Te&&r.push(`${o}:${bs(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function YO(e,t){let n=[];return vt(e.children,(r,i)=>{i===Te&&(n=n.concat(t(r,i)))}),vt(e.children,(r,i)=>{i!==Te&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Te?[bs(e.children[Te],!1)]:[`${i}:${bs(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Te]?`${vc(e)}/${n[0]}`:`${vc(e)}/(${n.join("//")})`}}function fb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _c(e){return fb(e).replace(/%3B/gi,";")}function yf(e){return fb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cc(e){return decodeURIComponent(e)}function hb(e){return Cc(e.replace(/\+/g,"%20"))}function pb(e){return`${yf(e.path)}${function tx(e){return Object.keys(e).map(t=>`;${yf(t)}=${yf(e[t])}`).join("")}(e.parameters)}`}const rx=/^[^\/()?;=#]+/;function bc(e){const t=e.match(rx);return t?t[0]:""}const ix=/^[^=?&#]+/,sx=/^[^&#]+/;class cx{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Te]=new Ae(t,n)),r}parseSegment(){const t=bc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Cs(Cc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=bc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=bc(this.remaining);i&&(r=i,this.capture(r))}t[Cc(n)]=Cc(r)}parseQueryParam(t){const n=function ox(e){const t=e.match(ix);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function ax(e){const t=e.match(sx);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=hb(n),o=hb(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Te);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Te]:new Ae([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=vf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=vf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=_f(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return _f(t,this._root).map(n=>n.value)}}function vf(e,t){if(e===t.value)return t;for(const n of t.children){const r=vf(e,n);if(r)return r}return null}function _f(e,t){if(e===t.value)return[t];for(const n of t.children){const r=_f(e,n);if(r.length)return r.unshift(t),r}return[]}class cr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function oo(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class mb extends gb{constructor(t,n){super(t),this.snapshot=n,Cf(this,t)}toString(){return this.snapshot.toString()}}function yb(e,t){const n=function ux(e,t){const s=new Dc([],{},{},"",{},Te,t,null,e.root,-1,{});return new _b("",new cr(s,[]))}(e,t),r=new Xt([new Cs("",{})]),i=new Xt({}),o=new Xt({}),s=new Xt({}),a=new Xt(""),c=new In(r,i,s,a,o,Te,t,n.root);return c.snapshot=n.root,new mb(new cr(c,[]),n)}class In{constructor(t,n,r,i,o,s,a,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>io(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>io(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vb(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function lx(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dc{constructor(t,n,r,i,o,s,a,c,u,g,y){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=io(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=io(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _b extends gb{constructor(t,n){super(n),this.url=t,Cf(this,n)}toString(){return Cb(this._root)}}function Cf(e,t){t.value._routerState=e,t.children.forEach(n=>Cf(e,n))}function Cb(e){const t=e.children.length>0?` { ${e.children.map(Cb).join(", ")} } `:"";return`${e.value}${t}`}function bf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,$n(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),$n(t.params,n.params)||e.params.next(n.params),function WO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!$n(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),$n(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Df(e,t){const n=$n(e.params,t.params)&&function KO(e,t){return Xr(e,t)&&e.every((n,r)=>$n(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Df(e.parent,t.parent))}function Ds(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function fx(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ds(e,r,i);return Ds(e,r)})}(e,t,n);return new cr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ds(e,a)),s}}const r=function hx(e){return new In(new Xt(e.url),new Xt(e.params),new Xt(e.queryParams),new Xt(e.fragment),new Xt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Ds(e,o));return new cr(r,i)}}function wc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ws(e){return"object"==typeof e&&null!=e&&e.outlets}function wf(e,t,n,r,i){let o={};return r&&vt(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(c=>`${c}`):`${s}`}),new Yr(n.root===e?t:bb(n.root,e,t),o,i)}function bb(e,t,n){const r={};return vt(e.children,(i,o)=>{r[o]=i===t?n:bb(i,t,n)}),new Ae(e.segments,r)}class Db{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&wc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ws);if(i&&i!==ib(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ef{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function wb(e,t,n){if(e||(e=new Ae([],{})),0===e.segments.length&&e.hasChildren())return Ec(e,t,n);const r=function _x(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(ws(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!Tb(c,u,s))return o;r+=2}else{if(!Tb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Ae(e.segments.slice(0,r.pathIndex),{});return o.children[Te]=new Ae(e.segments.slice(r.pathIndex),e.children),Ec(o,0,i)}return r.match&&0===i.length?new Ae(e.segments,{}):r.match&&!e.hasChildren()?Tf(e,t,n):r.match?Ec(e,0,i):Tf(e,t,n)}function Ec(e,t,n){if(0===n.length)return new Ae(e.segments,{});{const r=function vx(e){return ws(e[0])?e[0].outlets:{[Te]:e}}(n),i={};return vt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=wb(e.children[s],t,o))}),vt(e.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Ae(e.segments,i)}}function Tf(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(ws(o)){const c=Cx(o.outlets);return new Ae(r,c)}if(0===i&&wc(n[0])){r.push(new Cs(e.segments[t].path,Eb(n[0]))),i++;continue}const s=ws(o)?o.outlets[Te]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&wc(a)?(r.push(new Cs(s,Eb(a))),i+=2):(r.push(new Cs(s,{})),i++)}return new Ae(r,{})}function Cx(e){const t={};return vt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Tf(new Ae([],{}),0,n))}),t}function Eb(e){const t={};return vt(e,(n,r)=>t[r]=`${n}`),t}function Tb(e,t,n){return e==n.path&&$n(t,n.parameters)}class Dx{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),bf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=oo(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),vt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=oo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new HO(o.value.snapshot))}),t.children.length&&this.forwardEvent(new BO(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(bf(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function wx(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),c=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=c,s.outlet&&s.outlet.activateWith(i,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Sf{constructor(t,n){this.routes=t,this.module=n}}function Sr(e){return"function"==typeof e}function ei(e){return e instanceof Yr}const Es=Symbol("INITIAL_VALUE");function Ts(){return Kr(e=>function EO(...e){const t=ho(e),n=ch(e),{args:r,keys:i}=E_(e);if(0===r.length)return ht([],t);const o=new de(function TO(e,t,n=Z){return r=>{zC(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)zC(t,()=>{const u=ht(e[c],t);let g=!1;u.subscribe(Je(r,y=>{o[c]=y,g||(g=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>S_(i,s):Z));return n?o.pipe(T_(n)):o}(e.map(t=>t.pipe(Os(1),function IO(...e){const t=ho(e);return et((n,r)=>{(t?hf(e,n,t):hf(e,n)).subscribe(r)})}(Es)))).pipe(QC((t,n)=>{let r=!1;return n.reduce((i,o,s)=>i!==Es?i:(o===Es&&(r=!0),r||!1!==o&&s!==n.length-1&&!ei(o)?i:o),t)},Es),Zr(t=>t!==Es),we(t=>ei(t)?t:!0===t),Os(1)))}class Ax{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ss,this.attachRef=null}}class Ss{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Ax,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let Mf=(()=>{class e{constructor(n,r,i,o,s){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.name=o||Te,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const s=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,c=new Px(n,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(G(Ss),G(En),G(Wi),wo("name"),G(Fa))},e.\u0275dir=fe({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class Px{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===In?this.route:t===Ss?this.childContexts:this.parent.get(t,n)}}let Sb=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Ut(0,"router-outlet")},directives:[Mf],encapsulation:2}),e})();function Mb(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Rx(r,Ox(t,r))}}function Rx(e,t){e.children&&Mb(e.children,t)}function Ox(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function If(e){const t=e.children&&e.children.map(If),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Te&&(n.component=Sb),n}function pn(e){return e.outlet||Te}function Ib(e,t){const n=e.filter(r=>pn(r)===t);return n.push(...e.filter(r=>pn(r)!==t)),n}const Ab={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tc(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Ab):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||zO)(n,e,t);if(!o)return Object.assign({},Ab);const s={};vt(o.posParams,(c,u)=>{s[u]=c.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function Sc(e,t,n,r,i="corrected"){if(n.length>0&&function Nx(e,t,n){return n.some(r=>Mc(e,t,r)&&pn(r)!==Te)}(e,n,r)){const s=new Ae(t,function kx(e,t,n,r){const i={};i[Te]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&pn(o)!==Te){const s=new Ae([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,i[pn(o)]=s}return i}(e,t,r,new Ae(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Fx(e,t,n){return n.some(r=>Mc(e,t,r))}(e,n,r)){const s=new Ae(e.segments,function xx(e,t,n,r,i,o){const s={};for(const a of r)if(Mc(e,n,a)&&!i[pn(a)]){const c=new Ae([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[pn(a)]=c}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const o=new Ae(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Mc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Pb(e,t,n,r){return!!(pn(e)===r||r!==Te&&Mc(t,n,e))&&("**"===e.path||Tc(t,e,n).matched)}function Rb(e,t,n){return 0===t.length&&!e.children[n]}class Ic{constructor(t){this.segmentGroup=t||null}}class Ob{constructor(t){this.urlTree=t}}function Ms(e){return gc(new Ic(e))}function xb(e){return gc(new Ob(e))}class Bx{constructor(t,n,r,i,o){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(nr)}apply(){const t=Sc(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ae(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Te).pipe(we(o=>this.createUrlTree(Af(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tr(o=>{if(o instanceof Ob)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ic?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Te).pipe(we(i=>this.createUrlTree(Af(i),t.queryParams,t.fragment))).pipe(Tr(i=>{throw i instanceof Ic?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new Ae([],{[Te]:t}):t;return new Yr(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(we(o=>new Ae([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ht(i).pipe(no(o=>{const s=r.children[o],a=Ib(n,o);return this.expandSegmentGroup(t,a,s,o).pipe(we(c=>({segment:c,outlet:o})))}),QC((o,s)=>(o[s.outlet]=s.segment,o),{}),function RO(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zr((i,o)=>e(i,o,r)):Z,pf(1),n?ZC(t):JC(()=>new mc))}())}expandSegment(t,n,r,i,o,s){return ht(r).pipe(no(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,o,s).pipe(Tr(u=>{if(u instanceof Ic)return ye(null);throw u}))),ro(a=>!!a),Tr((a,c)=>{if(a instanceof mc||"EmptyError"===a.name)return Rb(n,i,o)?ye(new Ae([],{})):Ms(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,o,s,a){return Pb(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s):Ms(n):Ms(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xb(o):this.lineralizeSegments(r,o).pipe(ft(s=>{const a=new Ae(s,{});return this.expandSegment(t,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:g}=Tc(n,i,o);if(!a)return Ms(n);const y=this.applyRedirectCommands(c,i.redirectTo,g);return i.redirectTo.startsWith("/")?xb(y):this.lineralizeSegments(i,y).pipe(ft(T=>this.expandSegment(t,n,r,T.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ye(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(we(y=>(r._loadedConfig=y,new Ae(i,{})))):ye(new Ae(i,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=Tc(n,r,i);return s?this.getChildConfig(t,r,i).pipe(ft(g=>{const y=g.module,T=g.routes,{segmentGroup:M,slicedSegments:F}=Sc(n,a,c,T),$=new Ae(M.segments,M.children);if(0===F.length&&$.hasChildren())return this.expandChildren(y,T,$).pipe(we(ne=>new Ae(a,ne)));if(0===T.length&&0===F.length)return ye(new Ae(a,{}));const Q=pn(r)===o;return this.expandSegment(y,$,T,F,Q?Te:o,!0).pipe(we(U=>new Ae(a.concat(U.segments),U.children)))})):Ms(n)}getChildConfig(t,n,r){return n.children?ye(new Sf(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?ye(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(ft(i=>i?this.configLoader.load(t.injector,n).pipe(we(o=>(n._loadedConfig=o,o))):function Vx(e){return gc(mf(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(n))):ye(new Sf([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?ye(i.map(s=>{const a=t.get(s);let c;if(function Tx(e){return e&&Sr(e.canLoad)}(a))c=a.canLoad(n,r);else{if(!Sr(a))throw new Error("Invalid CanLoad guard");c=a(n,r)}return Gn(c)})).pipe(Ts(),en(s=>{if(!ei(s))return;const a=mf(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),we(s=>!0===s)):ye(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ye(r);if(i.numberOfChildren>1||!i.children[Te])return gc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[Te]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Yr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return vt(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return vt(n.children,(a,c)=>{s[c]=this.createSegmentGroup(t,a,r,i)}),new Ae(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function Af(e){const t={};for(const r of Object.keys(e.children)){const o=Af(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function Ux(e){if(1===e.numberOfChildren&&e.children[Te]){const t=e.children[Te];return new Ae(e.segments.concat(t.segments),t.children)}return e}(new Ae(e.segments,t))}class kb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ac{constructor(t,n){this.component=t,this.route=n}}function $x(e,t,n){const r=e._root;return Is(r,t?t._root:null,n,[r.value])}function Pc(e,t,n){const r=function zx(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Is(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=oo(t);return e.children.forEach(s=>{(function Wx(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function qx(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Xr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Xr(e.url,t.url)||!$n(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Df(e,t)||!$n(e.queryParams,t.queryParams);default:return!Df(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Is(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ac(a.outlet.component,s))}else s&&As(t,a,i),i.canActivateChecks.push(new kb(r)),Is(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),vt(o,(s,a)=>As(s,n.getContext(a),i)),i}function As(e,t,n){const r=oo(e),i=e.value;vt(r,(o,s)=>{As(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Ac(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class nk{}function Nb(e){return new de(t=>t.error(e))}class ik{constructor(t,n,r,i,o,s){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=Sc(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Te);if(null===n)return null;const r=new Dc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Te,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new cr(r,n),o=new _b(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const n=t.value,r=vb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const o of Object.keys(n.children)){const s=n.children[o],a=Ib(t,o),c=this.processSegmentGroup(a,s,o);if(null===c)return null;r.push(...c)}const i=Fb(r);return function ok(e){e.sort((t,n)=>t.value.outlet===Te?-1:n.value.outlet===Te?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(t,n,r,i){for(const o of t){const s=this.processSegmentAgainstRoute(o,n,r,i);if(null!==s)return s}return Rb(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!Pb(t,n,r,i))return null;let o,s=[],a=[];if("**"===t.path){const M=r.length>0?ib(r).parameters:{};o=new Dc(r,M,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jb(t),pn(t),t.component,t,Lb(n),Vb(n)+r.length,Bb(t))}else{const M=Tc(n,t,r);if(!M.matched)return null;s=M.consumedSegments,a=M.remainingSegments,o=new Dc(s,M.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jb(t),pn(t),t.component,t,Lb(n),Vb(n)+s.length,Bb(t))}const c=function sk(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:g}=Sc(n,s,a,c.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);if(0===g.length&&u.hasChildren()){const M=this.processChildren(c,u);return null===M?null:[new cr(o,M)]}if(0===c.length&&0===g.length)return[new cr(o,[])];const y=pn(t)===i,T=this.processSegment(c,u,g,y?Te:i);return null===T?null:[new cr(o,T)]}}function ak(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Fb(e){const t=[],n=new Set;for(const r of e){if(!ak(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=Fb(r.children);t.push(new cr(r.value,i))}return t.filter(r=>!n.has(r))}function Lb(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Vb(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function jb(e){return e.data||{}}function Bb(e){return e.resolve||{}}function Ub(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Pf(e){return Kr(t=>{const n=e(t);return n?ht(n).pipe(we(()=>t)):ye(t)})}class gk extends class pk{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const Rf=new be("ROUTES");class Hb{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(we(o=>{this.onLoadEndListener&&this.onLoadEndListener(n);const s=o.create(t);return new Sf(rb(s.injector.get(Rf,void 0,pe.Self|pe.Optional)).map(If),s)}),Tr(o=>{throw n._loader$=void 0,o}));return n._loader$=new MO(i,()=>new We).pipe(qC()),n._loader$}loadModuleFactory(t){return Gn(t()).pipe(ft(n=>n instanceof Ly?ye(n):ht(this.compiler.compileModuleAsync(n))))}}class yk{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function vk(e){throw e}function _k(e,t,n){return t.parse("/")}function $b(e,t){return ye(null)}const Ck={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tn=(()=>{class e{constructor(n,r,i,o,s,a,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new We,this.errorHandler=vk,this.malformedUriErrorHandler=_k,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$b,afterPreactivation:$b},this.urlHandlingStrategy=new yk,this.routeReuseStrategy=new gk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(nr),this.console=s.get(_v);const y=s.get(lt);this.isNgZoneEnabled=y instanceof lt&&lt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function qO(){return new Yr(new Ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hb(s,a,T=>this.triggerEvent(new YC(T)),T=>this.triggerEvent(new XC(T))),this.routerState=yb(this.currentUrlTree,this.rootComponentType),this.transitions=new Xt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Zr(i=>0!==i.id),we(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Kr(i=>{let o=!1,s=!1;return ye(i).pipe(en(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kr(a=>{const c=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Gb(a.source)&&(this.browserUrlTree=a.extractedUrl),ye(a).pipe(Kr(y=>{const T=this.transitions.getValue();return r.next(new gf(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),T!==this.transitions.getValue()?qn:Promise.resolve(y)}),function Hx(e,t,n,r){return Kr(i=>function jx(e,t,n,r,i){return new Bx(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(we(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),en(y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:y.urlAfterRedirects})}),function ck(e,t,n,r,i){return ft(o=>function rk(e,t,n,r,i="emptyOnly",o="legacy"){try{const s=new ik(e,t,n,r,i,o).recognize();return null===s?Nb(new nk):ye(s)}catch(s){return Nb(s)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(we(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),en(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(M,y)}this.browserUrlTree=y.urlAfterRedirects}const T=new kO(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(T)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:M,source:F,restoredState:$,extras:Q}=a,q=new gf(T,this.serializeUrl(M),F,$);r.next(q);const U=yb(M,this.rootComponentType).snapshot;return ye(Object.assign(Object.assign({},a),{targetSnapshot:U,urlAfterRedirects:M,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),qn}),Pf(a=>{const{targetSnapshot:c,id:u,extractedUrl:g,rawUrl:y,extras:{skipLocationChange:T,replaceUrl:M}}=a;return this.hooks.beforePreactivation(c,{navigationId:u,appliedUrlTree:g,rawUrlTree:y,skipLocationChange:!!T,replaceUrl:!!M})}),en(a=>{const c=new NO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),we(a=>Object.assign(Object.assign({},a),{guards:$x(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Qx(e,t){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ye(Object.assign(Object.assign({},n),{guardsResult:!0})):function Jx(e,t,n,r){return ht(e).pipe(ft(i=>function tk(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ye(o.map(a=>{const c=Pc(a,t,i);let u;if(function Ix(e){return e&&Sr(e.canDeactivate)}(c))u=Gn(c.canDeactivate(e,t,n,r));else{if(!Sr(c))throw new Error("Invalid CanDeactivate guard");u=Gn(c(e,t,n,r))}return u.pipe(ro())})).pipe(Ts()):ye(!0)}(i.component,i.route,n,t,r)),ro(i=>!0!==i,!0))}(s,r,i,e).pipe(ft(a=>a&&function Ex(e){return"boolean"==typeof e}(a)?function Zx(e,t,n,r){return ht(t).pipe(no(i=>hf(function Yx(e,t){return null!==e&&t&&t(new jO(e)),ye(!0)}(i.route.parent,r),function Kx(e,t){return null!==e&&t&&t(new UO(e)),ye(!0)}(i.route,r),function ek(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Gx(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>WC(()=>ye(s.guards.map(c=>{const u=Pc(c,s.node,n);let g;if(function Mx(e){return e&&Sr(e.canActivateChild)}(u))g=Gn(u.canActivateChild(r,e));else{if(!Sr(u))throw new Error("Invalid CanActivateChild guard");g=Gn(u(r,e))}return g.pipe(ro())})).pipe(Ts())));return ye(o).pipe(Ts())}(e,i.path,n),function Xx(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ye(!0);const i=r.map(o=>WC(()=>{const s=Pc(o,t,n);let a;if(function Sx(e){return e&&Sr(e.canActivate)}(s))a=Gn(s.canActivate(t,e));else{if(!Sr(s))throw new Error("Invalid CanActivate guard");a=Gn(s(t,e))}return a.pipe(ro())}));return ye(i).pipe(Ts())}(e,i.route,n))),ro(i=>!0!==i,!0))}(r,o,e,t):ye(a)),we(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),en(a=>{if(ei(a.guardsResult)){const u=mf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const c=new FO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Zr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Pf(a=>{if(a.guards.canActivateChecks.length)return ye(a).pipe(en(c=>{const u=new LO(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),Kr(c=>{let u=!1;return ye(c).pipe(function uk(e,t){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ye(n);let o=0;return ht(i).pipe(no(s=>function lk(e,t,n,r){return function dk(e,t,n,r){const i=Ub(e);if(0===i.length)return ye({});const o={};return ht(i).pipe(ft(s=>function fk(e,t,n,r){const i=Pc(e,t,r);return Gn(i.resolve?i.resolve(t,n):i(t,n))}(e[s],t,n,r).pipe(en(a=>{o[s]=a}))),pf(1),ft(()=>Ub(o).length===i.length?ye(o):qn))}(e._resolve,e,t,r).pipe(we(o=>(e._resolvedData=o,e.data=Object.assign(Object.assign({},e.data),vb(e,n).resolve),null)))}(s.route,r,e,t)),en(()=>o++),pf(1),ft(s=>o===i.length?ye(n):qn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),en({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),en(c=>{const u=new VO(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}))}),Pf(a=>{const{targetSnapshot:c,id:u,extractedUrl:g,rawUrl:y,extras:{skipLocationChange:T,replaceUrl:M}}=a;return this.hooks.afterPreactivation(c,{navigationId:u,appliedUrlTree:g,rawUrlTree:y,skipLocationChange:!!T,replaceUrl:!!M})}),we(a=>{const c=function dx(e,t,n){const r=Ds(e,t._root,n?n._root:void 0);return new mb(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:c})}),en(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>we(r=>(new Dx(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),en({next(){o=!0},complete(){o=!0}}),function OO(e){return et((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Tr(a=>{if(s=!0,function GO(e){return e&&e[tb]}(a)){const c=ei(a.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const u=new KC(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),c?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gb(i.source)};this.scheduleNavigation(g,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new xO(i.id,this.serializeUrl(i.extractedUrl),a);r.next(c);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return qn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(s){const c=Object.assign({},s);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){Mb(n),this.config=n.map(If),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=i||this.routerState.root,g=c?this.currentUrlTree.fragment:s;let y=null;switch(a){case"merge":y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}return null!==y&&(y=this.removeEmptyProps(y)),function px(e,t,n,r,i){if(0===n.length)return wf(t.root,t.root,t,r,i);const o=function gx(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Db(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return vt(o.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Db(n,t,r)}(n);if(o.toRoot())return wf(t.root,new Ae([],{}),t,r,i);const s=function mx(e,t,n){if(e.isAbsolute)return new Ef(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const o=n.snapshot._urlSegment;return new Ef(o,o===t.root,0)}const r=wc(e.commands[0])?0:1;return function yx(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ef(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Ec(s.segmentGroup,s.index,o.commands):wb(s.segmentGroup,s.index,o.commands);return wf(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,n,y,null!=g?g:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ei(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function Dk(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Ck):!1===r?Object.assign({},bk):r,ei(n))return sb(this.currentUrlTree,n,i);const o=this.parseUrl(n);return sb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new _s(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,o,s){var a,c;if(this.disposed)return Promise.resolve(!1);let u,g,y;s?(u=s.resolve,g=s.reject,y=s.promise):y=new Promise((F,$)=>{u=F,g=$});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:u,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(F=>Promise.reject(F))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new KC(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){Il()},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Gb(e){return"imperative"!==e}let so=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new We,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:ao(this.skipLocationChange),replaceUrl:ao(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ao(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)(G(tn),G(In),wo("tabindex"),G(tr),G(Yt))},e.\u0275dir=fe({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Me("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[an]}),e})();function ao(e){return""===e||!!e}class zb{}class Wb{preload(t,n){return ye(null)}}let qb=(()=>{class e{constructor(n,r,i,o){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=new Hb(i,r,c=>n.triggerEvent(new YC(c)),c=>n.triggerEvent(new XC(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(n=>n instanceof _s),no(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(nr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(n,o)):o.children&&i.push(this.processRoutes(n,o.children));return ht(i).pipe(fo(),we(o=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ye(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ft(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(Y(tn),Y(Cv),Y(gt),Y(zb))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),xf=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _s&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof eb&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new eb(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){Il()},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const ti=new be("ROUTER_CONFIGURATION"),Qb=new be("ROUTER_FORROOT_GUARD"),Sk=[Cd,{provide:lb,useClass:db},{provide:tn,useFactory:function Rk(e,t,n,r,i,o,s={},a,c){const u=new tn(null,e,t,n,r,i,rb(o));return a&&(u.urlHandlingStrategy=a),c&&(u.routeReuseStrategy=c),function Ok(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(s,u),s.enableTracing&&u.events.subscribe(g=>{var y,T;null===(y=console.group)||void 0===y||y.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(T=console.groupEnd)||void 0===T||T.call(console)}),u},deps:[lb,Ss,Cd,gt,Cv,Rf,ti,[class mk{},new gr],[class hk{},new gr]]},Ss,{provide:In,useFactory:function xk(e){return e.routerState.root},deps:[tn]},qb,Wb,class Tk{preload(t,n){return n().pipe(Tr(()=>ye(null)))}},{provide:ti,useValue:{enableTracing:!1}}];function Mk(){return new Tv("Router",tn)}let Jb=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[Sk,Zb(n),{provide:Qb,useFactory:Pk,deps:[[tn,new gr,new Po]]},{provide:ti,useValue:r||{}},{provide:Ki,useFactory:Ak,deps:[qr,[new ia(_d),new gr],ti]},{provide:xf,useFactory:Ik,deps:[tn,w1,ti]},{provide:zb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Wb},{provide:Tv,multi:!0,useFactory:Mk},[kf,{provide:od,multi:!0,useFactory:kk,deps:[kf]},{provide:Kb,useFactory:Nk,deps:[kf]},{provide:vv,multi:!0,useExisting:Kb}]]}}static forChild(n){return{ngModule:e,providers:[Zb(n)]}}}return e.\u0275fac=function(n){return new(n||e)(Y(Qb,8),Y(tn,8))},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({}),e})();function Ik(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new xf(e,t,n)}function Ak(e,t,n={}){return n.useHash?new oP(e,t):new zv(e,t)}function Pk(e){return"guarded"}function Zb(e){return[{provide:Uw,multi:!0,useValue:e},{provide:Rf,multi:!0,useValue:e}]}let kf=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new We}appInitializer(){return this.injector.get(nP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(tn),s=this.injector.get(ti);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?ye(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ti),i=this.injector.get(qb),o=this.injector.get(xf),s=this.injector.get(tn),a=this.injector.get(os);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(Y(gt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function kk(e){return e.appInitializer.bind(e)}function Nk(e){return e.bootstrapListener.bind(e)}const Kb=new be("Router Initializer");var Rc,Lk=new Uint8Array(16);function Vk(){if(!Rc&&!(Rc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rc(Lk)}const jk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Uk=function Bk(e){return"string"==typeof e&&jk.test(e)};for(var _t=[],Nf=0;Nf<256;++Nf)_t.push((Nf+256).toString(16).substr(1));const zk=function Gk(e,t,n){var r=(e=e||{}).random||(e.rng||Vk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function Hk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(_t[e[t+0]]+_t[e[t+1]]+_t[e[t+2]]+_t[e[t+3]]+"-"+_t[e[t+4]]+_t[e[t+5]]+"-"+_t[e[t+6]]+_t[e[t+7]]+"-"+_t[e[t+8]]+_t[e[t+9]]+"-"+_t[e[t+10]]+_t[e[t+11]]+_t[e[t+12]]+_t[e[t+13]]+_t[e[t+14]]+_t[e[t+15]]).toLowerCase();if(!Uk(n))throw TypeError("Stringified UUID is invalid");return n}(r)},St_API_URL="https://webrtcproje.azurewebsites.net/";let Ff=(()=>{class e{constructor(n){this.http=n}get(n){return this.http.get(`${St_API_URL}Meeting/Get/${n}`)}getAll(){return this.http.get(`${St_API_URL}Meeting/GetAll`)}create(n){return this.http.put(`${St_API_URL}Meeting/Create`,n)}update(n){return this.http.patch(`${St_API_URL}Meeting/Update/${n.id}`,n)}delete(n){return this.http.delete(`${St_API_URL}Meeting/Delete/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Y(pc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Wk(e,t){return{type:7,name:e,definitions:t,options:{}}}function Yb(e,t=null){return{type:4,styles:t,timings:e}}function Lf(e){return{type:6,styles:e,offset:null}}function Vf(e,t,n){return{type:0,name:e,styles:t,options:n}}function Xb(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}const tD=["toast-component",""];function qk(e,t){if(1&e){const n=Ui();J(0,"button",5),Me("click",function(){return jr(n),mt().remove()}),J(1,"span",6),re(2,"\xd7"),K()()}}function Qk(e,t){if(1&e&&(Go(0),re(1),zo()),2&e){const n=mt(2);te(1),xt("[",n.duplicatesCount+1,"]")}}function Jk(e,t){if(1&e&&(J(0,"div"),re(1),qe(2,Qk,2,1,"ng-container",4),K()),2&e){const n=mt();er(n.options.titleClass),Ot("aria-label",n.title),te(1),xt(" ",n.title," "),te(1),oe("ngIf",n.duplicatesCount)}}function Zk(e,t){if(1&e&&Ut(0,"div",7),2&e){const n=mt();er(n.options.messageClass),oe("innerHTML",n.message,Ru)}}function Kk(e,t){if(1&e&&(J(0,"div",8),re(1),K()),2&e){const n=mt();er(n.options.messageClass),Ot("aria-label",n.message),te(1),xt(" ",n.message," ")}}function Yk(e,t){if(1&e&&(J(0,"div"),Ut(1,"div",9),K()),2&e){const n=mt();te(1),$i("width",n.width+"%")}}function Xk(e,t){if(1&e){const n=Ui();J(0,"button",5),Me("click",function(){return jr(n),mt().remove()}),J(1,"span",6),re(2,"\xd7"),K()()}}function eN(e,t){if(1&e&&(Go(0),re(1),zo()),2&e){const n=mt(2);te(1),xt("[",n.duplicatesCount+1,"]")}}function tN(e,t){if(1&e&&(J(0,"div"),re(1),qe(2,eN,2,1,"ng-container",4),K()),2&e){const n=mt();er(n.options.titleClass),Ot("aria-label",n.title),te(1),xt(" ",n.title," "),te(1),oe("ngIf",n.duplicatesCount)}}function nN(e,t){if(1&e&&Ut(0,"div",7),2&e){const n=mt();er(n.options.messageClass),oe("innerHTML",n.message,Ru)}}function rN(e,t){if(1&e&&(J(0,"div",8),re(1),K()),2&e){const n=mt();er(n.options.messageClass),Ot("aria-label",n.message),te(1),xt(" ",n.message," ")}}function iN(e,t){if(1&e&&(J(0,"div"),Ut(1,"div",9),K()),2&e){const n=mt();te(1),$i("width",n.width+"%")}}class oN{constructor(t,n){this.component=t,this.injector=n}attach(t,n){return this._attachedHost=t,t.attach(this,n)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Oc{constructor(t,n,r,i,o,s){this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this._onTap=new We,this._onAction=new We,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const nD={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},rD=new be("ToastConfig");class aN{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new We,this._activate=new We,this._manualClose=new We,this._resetTimeout=new We,this._countDuplicate=new We}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,n){t&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class cN{constructor(t,n){this._toastPackage=t,this._parentInjector=n}get(t,n,r){return t===Oc?this._toastPackage:this._parentInjector.get(t,n,r)}}class uN extends class sN{attach(t,n){return this._attachedPortal=t,this.attachComponentPortal(t,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,n,r){super(),this._hostDomElement=t,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(t,n){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=r.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class lN{constructor(t){this._portalHost=t}attach(t,n=!0){return this._portalHost.attach(t,n)}detach(){return this._portalHost.detach()}}let dN=(()=>{class e{constructor(n){this._document=n}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}}return e.\u0275fac=function(n){return new(n||e)(Y(yt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fN=(()=>{class e{constructor(n,r,i,o){this._overlayContainer=n,this._componentFactoryResolver=r,this._appRef=i,this._document=o,this._paneElements=new Map}create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new uN(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new lN(this._createPortalHost(n))}}return e.\u0275fac=function(n){return new(n||e)(Y(dN),Y(Wi),Y(os),Y(yt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Mr=(()=>{class e{constructor(n,r,i,o,s){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=s,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},o=""){return this._preBuildNotification(o,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,o){const{includeTitleDuplicates:s}=this.toastrConfig;for(const a of this.toasts){const c=s&&a.title===n;if((!s||c)&&a.message===r)return a.toastRef.onDuplicate(i,o),a}return null}applyConfig(n={}){return Object.assign(Object.assign({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,o)):this._buildNotification(n,r,i,o)}_buildNotification(n,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&o.enableHtml&&(u=this.sanitizer.sanitize(Ve.HTML,r));const g=new aN(c),y=new Oc(this.index,o,u,i,n,g),T=new cN(y,this._injector),M=new oN(o.toastComponent,T),F=c.attach(M,this.toastrConfig.newestOnTop);g.componentInstance=F.instance;const $={toastId:this.index,title:i||"",message:r||"",toastRef:g,onShown:g.afterActivate(),onHidden:g.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:F};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$.toastRef.activate()})),this.toasts.push($),$}}return e.\u0275fac=function(n){return new(n||e)(Y(rD),Y(fN),Y(gt),Y(D_),Y(lt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hN=(()=>{class e{constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}}return e.\u0275fac=function(n){return new(n||e)(G(Mr),G(Oc),G(lt))},e.\u0275cmp=Vt({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){1&n&&Me("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(Nl("@flyInOut",r.state),er(r.toastClasses),$i("display",r.displayStyle))},attrs:tD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(qe(0,qk,3,0,"button",0),qe(1,Jk,3,5,"div",1),qe(2,Zk,1,3,"div",2),qe(3,Kk,2,4,"div",3),qe(4,Yk,2,2,"div",4)),2&n&&(oe("ngIf",r.options.closeButton),te(1),oe("ngIf",r.title),te(1),oe("ngIf",r.message&&r.options.enableHtml),te(1),oe("ngIf",r.message&&!r.options.enableHtml),te(1),oe("ngIf",r.options.progressBar))},directives:[ls],encapsulation:2,data:{animation:[Wk("flyInOut",[Vf("inactive",Lf({opacity:0})),Vf("active",Lf({opacity:1})),Vf("removed",Lf({opacity:0})),Xb("inactive => active",Yb("{{ easeTime }}ms {{ easing }}")),Xb("active => removed",Yb("{{ easeTime }}ms {{ easing }}"))])]}}),e})();Object.assign(Object.assign({},nD),{toastComponent:hN});let pN=(()=>{class e{constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return e.\u0275fac=function(n){return new(n||e)(G(Mr),G(Oc),G(os))},e.\u0275cmp=Vt({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){1&n&&Me("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(er(r.toastClasses),$i("display",r.displayStyle))},attrs:tD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(qe(0,Xk,3,0,"button",0),qe(1,tN,3,5,"div",1),qe(2,nN,1,3,"div",2),qe(3,rN,2,4,"div",3),qe(4,iN,2,2,"div",4)),2&n&&(oe("ngIf",r.options.closeButton),te(1),oe("ngIf",r.title),te(1),oe("ngIf",r.message&&r.options.enableHtml),te(1),oe("ngIf",r.message&&!r.options.enableHtml),te(1),oe("ngIf",r.options.progressBar))},directives:[ls],encapsulation:2}),e})();const gN=Object.assign(Object.assign({},nD),{toastComponent:pN});let mN=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:rD,useValue:{default:gN,config:n}}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({imports:[[s_]]}),e})();const yN=function(e){return["/meeting-stats",e]};function vN(e,t){if(1&e&&(J(0,"button",11),re(1,"Review"),K()),2&e){const n=mt().$implicit;oe("routerLink",Ji(1,yN,n.id))}}const _N=function(e){return["/set-meeting",e]},CN=function(e){return["/meetings",e]};function bN(e,t){if(1&e){const n=Ui();J(0,"li",4)(1,"span"),re(2),K(),J(3,"div",5)(4,"button",6),Me("click",function(){const o=jr(n).index;return mt().deleteMeeting(o)}),re(5,"Delete"),K(),J(6,"button",7),re(7,"Edit"),K(),J(8,"button",8),re(9,"Join"),K(),J(10,"button",9),Me("click",function(){return jr(n),mt().getInviteLink("2")}),re(11,"Inivte"),K(),qe(12,vN,2,3,"button",10),K()()}if(2&e){const n=t.$implicit;te(2),kl("",n.createdForNavigation.firstName," ",n.createdForNavigation.lastName," ",n.startsAt," "),te(4),oe("routerLink",Ji(6,_N,n.id)),te(2),oe("routerLink",Ji(8,CN,n.id)),te(4),oe("ngIf",!!n.statId)}}const DN=function(){return["meetings/create"]};let wN=(()=>{class e{constructor(n,r){this.meetingService=n,this.toastService=r}ngOnInit(){this.meetingService.getAll().subscribe({next:n=>{this.meetings=n,console.log(n)}})}get id(){return zk()}getInviteLink(n){navigator.clipboard.writeText(n)}deleteMeeting(n){this.meetingService.delete(this.meetings[n].id).subscribe({next:i=>{this.meetings.splice(n,1),this.toastService.success("Meeting deleted successfully")}})}}return e.\u0275fac=function(n){return new(n||e)(G(Ff),G(Mr))},e.\u0275cmp=Vt({type:e,selectors:[["app-home"]],decls:7,vars:3,consts:[[1,"container"],[1,"list-group","mb-2"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"actions"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",3,"routerLink"],["type","button",1,"btn","btn-sm","btn-primary",3,"routerLink"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],["type","button","class","btn btn-sm btn-secondary",3,"routerLink",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-secondary",3,"routerLink"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),re(2,"Meetings"),K(),J(3,"ul",1),qe(4,bN,13,10,"li",2),K(),J(5,"button",3),re(6,"Create Meeting"),K()()),2&n&&(te(4),oe("ngForOf",r.meetings),te(1),oe("routerLink",Pa(2,DN)))},directives:[us,so,ls],styles:[".list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),EN=(()=>{class e{constructor(n,r){this.meetingService=n,this.route=r}ngOnInit(){let n=+this.route.snapshot.paramMap.get("id");this.meetingService.get(n).subscribe({next:r=>this.meeting=r})}}return e.\u0275fac=function(n){return new(n||e)(G(Ff),G(In))},e.\u0275cmp=Vt({type:e,selectors:[["app-meeting-stats"]],decls:22,vars:10,consts:[[1,"container"],[1,"card","no-border"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"list-group"],[1,"list-group-item","list-group-item-action"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),re(4,"Meeting Stats"),K(),J(5,"h6",4),re(6),K(),J(7,"h6",4),re(8),K(),J(9,"ul",5)(10,"li",6),re(11),K(),J(12,"li",6),re(13),K(),J(14,"li",6),re(15),K(),J(16,"li",6),re(17),K(),J(18,"li",6),re(19),K(),J(20,"li",6),re(21),K()()()()()),2&n&&(te(6),vr("Customer Representetive:",r.meeting.createdByNavigation.firstName," ",r.meeting.createdByNavigation.lastName,""),te(2),vr("Customer:",r.meeting.createdForNavigation.firstName," ",r.meeting.createdForNavigation.lastName," "),te(3),xt("Start Date:",r.meeting.stat.startedAt,""),te(2),xt("End Date:",r.meeting.stat.endedAt,""),te(2),xt("User Speak Duration:",r.meeting.stat.userSpeakTime,""),te(2),xt("User Video Duration:",r.meeting.stat.userVideoTime,""),te(2),xt("Client Speak Duration:",r.meeting.stat.customerSpeakTime,""),te(2),xt("Client Video Duration:",r.meeting.stat.customerVideoTime,""))},styles:[".no-border[_ngcontent-%COMP%]{border:none}"]}),e})();function iD(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function jf(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){iD(o,r,i,s,a,"next",c)}function a(c){iD(o,r,i,s,a,"throw",c)}s(void 0)})}}var TN=Ar(321),SN=Ar.n(TN);let MN=(()=>{class e{constructor(){this.localStreamBs=new Xt(null),this.localStream$=this.localStreamBs.asObservable(),this.remoteStreamBs=new Xt(null),this.remoteStream$=this.remoteStreamBs.asObservable(),this.isCallStartedBs=new We,this.isCallStarted$=this.isCallStartedBs.asObservable()}initPeer(n){if(!this.peer||!this.peer.disconnected){const r={debug:3,config:{iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]}};try{return this.peer=new(SN())(n,r),n}catch(i){console.error(i)}}return""}establishMediaCall(n){var r=this;return jf(function*(){console.log(n);try{const i=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});if(r.peer.connect(n).on("error",s=>{console.error(s)}),r.mediaCall=r.peer.call(n,i),!r.mediaCall)throw new Error("Unable to connect to remote peer");r.localStreamBs.next(i),r.isCallStartedBs.next(!0),r.mediaCall.on("stream",s=>{r.remoteStreamBs.next(s)}),r.mediaCall.on("error",s=>{console.error(s),r.isCallStartedBs.next(!1)}),r.mediaCall.on("close",()=>r.onCallClose())}catch(i){console.error(i),r.isCallStartedBs.next(!1)}})()}enableCallAnswer(){var n=this;return jf(function*(){try{const r=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n.localStreamBs.next(r),n.peer.on("call",function(){var i=jf(function*(o){n.mediaCall=o,n.isCallStartedBs.next(!0),n.mediaCall.answer(r),n.mediaCall.on("stream",s=>{n.remoteStreamBs.next(s)}),n.mediaCall.on("error",s=>{n.isCallStartedBs.next(!1),console.error(s)}),n.mediaCall.on("close",()=>n.onCallClose())});return function(o){return i.apply(this,arguments)}}())}catch(r){console.error(r),n.isCallStartedBs.next(!1)}})()}onCallClose(){this.remoteStreamBs.value.getTracks().forEach(n=>{n.stop()}),this.localStreamBs.value.getTracks().forEach(n=>{n.stop()})}closeMediaCall(){var n;null===(n=this.mediaCall)||void 0===n||n.close(),this.mediaCall||this.onCallClose(),this.isCallStartedBs.next(!1)}destroyPeer(){var n,r,i;null===(n=this.mediaCall)||void 0===n||n.close(),null===(r=this.peer)||void 0===r||r.disconnect(),null===(i=this.peer)||void 0===i||i.destroy()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const IN=["localVideo"],AN=["remoteVideo"];function PN(e,t){1&e&&(J(0,"div",16)(1,"div",17)(2,"h1"),re(3,"B"),K()()())}function RN(e,t){1&e&&Ut(0,"video",18,19),2&e&&oe("muted",!0)}function ON(e,t){1&e&&(J(0,"div",20)(1,"div",17)(2,"h1"),re(3,"B"),K()()())}function xN(e,t){1&e&&Ut(0,"video",21,22)}let Bf=(()=>{class e{constructor(n,r){this.callService=n,this.route=r,this.title="WebRTCVideoCallAssistant.Client",this.targetID="",this.isMicOpen=!0,this.isLocalCamOpen=!0,this.isRemoteCamOpen=!0}ngOnInit(){this.isCallStarted$=this.callService.isCallStarted$,this.route.queryParams.subscribe({next:n=>{const r=n.userId,i=n.clientId;this.isUser=!i,this.peerID=this.callService.initPeer(this.isUser?r:i),ye(this.isUser?this.callService.enableCallAnswer():this.callService.establishMediaCall(r)).subscribe()}})}ngAfterViewInit(){this.callService.localStream$.subscribe(n=>{n&&(this.localVideo.nativeElement.srcObject=n)}),this.callService.remoteStream$.subscribe(n=>{n&&(this.remoteVideo.nativeElement.srcObject=n)})}ngOnDestroy(){this.callService.destroyPeer()}showModal(n){ye(n?this.callService.establishMediaCall(this.targetID):this.callService.enableCallAnswer()).subscribe(r=>{})}endCall(){this.callService.closeMediaCall()}toggleVideo(){}toggleMicrophone(){}}return e.\u0275fac=function(n){return new(n||e)(G(MN),G(In))},e.\u0275cmp=Vt({type:e,selectors:[["app-meeting"]],viewQuery:function(n,r){if(1&n&&(ns(IN,5),ns(AN,5)),2&n){let i;Gr(i=zr())&&(r.localVideo=i.first),Gr(i=zr())&&(r.remoteVideo=i.first)}},decls:23,vars:4,consts:[[1,"meeting-container"],["id","video-wrapper"],[1,"local-video-wrapper"],["class","offline-local-video d-flex justify-content-center align-items-center",4,"ngIf"],["class","local-video","autoplay","","playsinline","",3,"muted",4,"ngIf"],[1,"client-name"],[1,"remote-video-wrapper"],["class","offline-remote-video d-flex justify-content-center align-items-center",4,"ngIf"],["class","remote-video","autoplay","","playsinline","",4,"ngIf"],[1,"micropohone-status"],["aria-hidden","true",1,"fa","fa-microphone-slash"],[1,"control-buttons"],["type","button",1,"btn","btn-danger"],["aria-hidden","true",1,"fa-solid","fa-video-slash"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-phone"],[1,"offline-local-video","d-flex","justify-content-center","align-items-center"],[1,"user-initial","text-center"],["autoplay","","playsinline","",1,"local-video",3,"muted"],["localVideo",""],[1,"offline-remote-video","d-flex","justify-content-center","align-items-center"],["autoplay","","playsinline","",1,"remote-video"],["remoteVideo",""]],template:function(n,r){1&n&&(J(0,"div",0)(1,"div",1)(2,"div",2),qe(3,PN,4,0,"div",3),qe(4,RN,2,1,"video",4),J(5,"div",5)(6,"h4"),re(7,"You"),K()()(),J(8,"div",6),qe(9,ON,4,0,"div",7),qe(10,xN,2,0,"video",8),J(11,"div",5)(12,"h3"),re(13,"John Doe"),K()(),J(14,"div",9),Ut(15,"i",10),K()()(),J(16,"div",11)(17,"button",12),Ut(18,"i",10),K(),J(19,"button",12),Ut(20,"i",13),K(),J(21,"button",14),Me("click",function(){return r.endCall()}),Ut(22,"i",15),K()()()),2&n&&(te(3),oe("ngIf",!r.isLocalCamOpen),te(1),oe("ngIf",r.isLocalCamOpen),te(5),oe("ngIf",!r.isRemoteCamOpen),te(1),oe("ngIf",r.isRemoteCamOpen))},directives:[ls],styles:[".meeting-container[_ngcontent-%COMP%]{height:100vh;background-color:#202124;padding:15px}.btn[_ngcontent-%COMP%]{height:40px;min-width:40px;border-radius:50%}#video-wrapper[_ngcontent-%COMP%]{position:relative;height:80vh}#video-wrapper[_ngcontent-%COMP%]   .local-video-wrapper[_ngcontent-%COMP%]{z-index:1;position:absolute;right:1.5rem;bottom:1.5rem;width:20vw;height:12vw;max-width:20rem;max-height:20rem;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .remote-video-wrapper[_ngcontent-%COMP%]{height:100%;background-color:#343434;border-radius:20px}#video-wrapper[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%]{display:inline-block;color:#fff;border-radius:50%;background-color:#0288d1;height:50px;width:50px}#video-wrapper[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.5rem}#video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;margin:10px 15px}#video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], #video-wrapper[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f5f5f5;margin:0}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]{height:100%;background-color:#343434;border-radius:20px}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%]{height:100px;width:100px}#video-wrapper[_ngcontent-%COMP%]   .offline-remote-video[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:5rem}#video-wrapper[_ngcontent-%COMP%]   .offline-local-video[_ngcontent-%COMP%]{z-index:1;width:100%;height:100%;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .remote-video[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#343434;border-radius:4px}#video-wrapper[_ngcontent-%COMP%]   .local-video[_ngcontent-%COMP%]{z-index:1;position:absolute;width:20vw;height:12vw;width:100%;height:100%;border-radius:4px;background-color:#4a4e51}#video-wrapper[_ngcontent-%COMP%]   .micropohone-status[_ngcontent-%COMP%]{position:absolute;right:0;top:0;margin:10px;background-color:#303033;border-radius:50%;height:32px;width:32px;text-align:center}#video-wrapper[_ngcontent-%COMP%]   .micropohone-status[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#fff;line-height:32px}.control-buttons[_ngcontent-%COMP%]{height:17vh;display:flex;width:100%;align-items:center;justify-content:center}.control-buttons[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),Uf=(()=>{class e{constructor(n){this.http=n}get(n){return this.http.get(`${St_API_URL}Customer/Get/${n}`)}getAll(){return this.http.get(`${St_API_URL}Customer/GetAll`)}create(n){return this.http.put(`${St_API_URL}Customer/Create`,n)}update(n){return this.http.patch(`${St_API_URL}Customer/Update/${n.id}`,n)}delete(n){return this.http.delete(`${St_API_URL}Customer/Delete/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Y(pc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hf=(()=>{class e{constructor(n){this.http=n}get(n){return this.http.get(`${St_API_URL}User/Get/${n}`)}getAll(){return this.http.get(`${St_API_URL}User/GetAll`)}create(n){return this.http.put(`${St_API_URL}User/Create`,n)}update(n){return this.http.patch(`${St_API_URL}User/Update/${n.id}`,{password:n.password,phone:n.phone})}delete(n){return this.http.delete(`${St_API_URL}User/Delete/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Y(pc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kN(e,t){if(1&e&&(J(0,"option",12),re(1),K()),2&e){const n=t.$implicit;oe("value",n.id),te(1),vr("",n.firstName," ",n.lastName,"")}}function NN(e,t){if(1&e&&(J(0,"option",12),re(1),K()),2&e){const n=t.$implicit;oe("value",n.id),te(1),vr("",n.firstName," ",n.lastName,"")}}let oD=(()=>{class e{constructor(n,r,i,o,s){this.route=n,this.meetingService=r,this.customerService=i,this.userService=o,this.toastService=s,this.meeting={id:0,createdAt:null,createdBy:null,createdFor:null,createdByNavigation:null,createdForNavigation:null,customerSlug:null,startsAt:null,userSlug:null,statId:null,stat:null}}ngOnInit(){let n=+this.route.snapshot.paramMap.get("id");this.isNewRecord=!n,this.customerService.getAll().subscribe({next:r=>this.customers=r}),this.userService.getAll().subscribe({next:r=>this.users=r}),this.isNewRecord||this.meetingService.get(n).subscribe({next:r=>this.meeting=r})}onSubmit(){this.isNewRecord?this.meetingService.create(this.meeting).subscribe({next:n=>this.toastService.success("Meeting created successfully."),error:n=>this.toastService.error(n)}):this.meetingService.update(this.meeting).subscribe({next:n=>this.toastService.success("Meeting updated successfully."),error:n=>this.toastService.error(n)})}}return e.\u0275fac=function(n){return new(n||e)(G(In),G(Ff),G(Uf),G(Hf),G(Mr))},e.\u0275cmp=Vt({type:e,selectors:[["app-set-meeting"]],decls:23,vars:6,consts:[[1,"container"],[1,"create-meeting-form",3,"submit"],["meetingForm","ngForm"],[1,"form-group"],["for","user-list",1,"form-label","font-weight-bold"],[1,"input-group","mb-3"],["required","","name","customer","id","user-list","aria-label","Default select example",1,"form-select","user-select","form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["required","","name","user","id","user-list","aria-label","Default select example",1,"form-select","user-select","form-control",3,"ngModel","ngModelChange"],["for","start-date",1,"form-label","font-weight-bold"],["type","datetime-local","required","","name","start-date","id","start-date",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(n,r){if(1&n&&(J(0,"div",0)(1,"form",1,2),Me("submit",function(){return r.onSubmit()}),J(3,"div",3)(4,"label",4),re(5,"Customer"),K(),J(6,"div",5)(7,"select",6),Me("ngModelChange",function(o){return r.meeting.createdFor=o}),qe(8,kN,2,3,"option",7),K()()(),J(9,"div",3)(10,"label",4),re(11,"User"),K(),J(12,"div",5)(13,"select",8),Me("ngModelChange",function(o){return r.meeting.createdBy=o}),qe(14,NN,2,3,"option",7),K()()(),J(15,"div",3)(16,"label",9),re(17,"Start Date"),K(),J(18,"div",5)(19,"input",10),Me("ngModelChange",function(o){return r.meeting.startsAt=o}),K()()(),J(20,"div",3)(21,"button",11),re(22,"Save"),K()()()()),2&n){const i=Ca(2);te(7),oe("ngModel",r.meeting.createdFor),te(1),oe("ngForOf",r.customers),te(5),oe("ngModel",r.meeting.createdBy),te(1),oe("ngForOf",r.users),te(5),oe("ngModel",r.meeting.startsAt),te(2),oe("disabled",!i.form.valid)}},directives:[dc,rc,eo,fc,to,nc,ys,us,bC,wC,Yi],styles:[".create-meeting-form[_ngcontent-%COMP%]{width:480px}.user-select[_ngcontent-%COMP%]{width:inherit}"]}),e})();const FN=function(e){return["/customers/",e]};function LN(e,t){if(1&e){const n=Ui();J(0,"li",4)(1,"span"),re(2),K(),J(3,"div",5)(4,"button",6),Me("click",function(){const o=jr(n).index;return mt().deleteCustomer(o)}),re(5,"Delete"),K(),J(6,"button",7),re(7,"Edit"),K()()()}if(2&e){const n=t.$implicit;te(2),vr("",n.firstName," ",n.lastName,""),te(4),oe("routerLink",Ji(3,FN,n.id))}}const VN=function(){return["/customers/create"]};let jN=(()=>{class e{constructor(n,r){this.cusomerService=n,this.toastService=r}ngOnInit(){this.cusomerService.getAll().subscribe(n=>{this.customers=n})}deleteCustomer(n){this.cusomerService.delete(this.customers[n].id).subscribe({next:i=>{this.customers.splice(n,1),this.toastService.success("Customer deleted successfully")}})}}return e.\u0275fac=function(n){return new(n||e)(G(Uf),G(Mr))},e.\u0275cmp=Vt({type:e,selectors:[["app-customers"]],decls:7,vars:3,consts:[[1,"container"],[1,"list-group","mb-2"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"actions"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",3,"routerLink"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),re(2,"Customers"),K(),J(3,"ul",1),qe(4,LN,8,5,"li",2),K(),J(5,"button",3),re(6,"Create Customer"),K()()),2&n&&(te(4),oe("ngForOf",r.customers),te(1),oe("routerLink",Pa(2,VN)))},directives:[us,so],styles:[".list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),sD=(()=>{class e{constructor(n,r,i){this.customerService=n,this.route=r,this.toastService=i,this.customer={id:0,firstName:"",lastName:"",phone:"",email:""}}ngOnInit(){let n=+this.route.snapshot.paramMap.get("id");this.isNewRecord=!n,this.isNewRecord||this.customerService.get(n).subscribe({next:r=>this.customer=r})}onSubmit(){this.isNewRecord?this.customerService.create(this.customer).subscribe({next:n=>this.toastService.success("Customer created successfully."),error:n=>this.toastService.error(n)}):this.customerService.update(this.customer).subscribe({next:n=>this.toastService.success("Customer updated successfully."),error:n=>this.toastService.error(n)})}}return e.\u0275fac=function(n){return new(n||e)(G(Uf),G(In),G(Mr))},e.\u0275cmp=Vt({type:e,selectors:[["app-customer"]],decls:23,vars:5,consts:[[1,"container"],[3,"ngSubmit"],["customerForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","required","","name","firstName","id","firstName","placeholder","First Name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","text","required","","name","lastName","id","lastName","placeholder","Last Name",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","required","","name","email","id","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","required","","name","phone","id","phone","placeholder","Phone",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){if(1&n&&(J(0,"div",0)(1,"h2"),re(2,"Customer"),K(),J(3,"form",1,2),Me("ngSubmit",function(){return r.onSubmit()}),J(5,"div",3)(6,"label",4),re(7,"First Name"),K(),J(8,"input",5),Me("ngModelChange",function(o){return r.customer.firstName=o}),K()(),J(9,"div",3)(10,"label",6),re(11,"Last Name"),K(),J(12,"input",7),Me("ngModelChange",function(o){return r.customer.lastName=o}),K()(),J(13,"div",3)(14,"label",8),re(15,"Email"),K(),J(16,"input",9),Me("ngModelChange",function(o){return r.customer.email=o}),K()(),J(17,"div",3)(18,"label",10),re(19,"Phone"),K(),J(20,"input",11),Me("ngModelChange",function(o){return r.customer.phone=o}),K()(),J(21,"button",12),re(22,"Save"),K()()()),2&n){const i=Ca(4);te(8),oe("ngModel",r.customer.firstName),te(4),oe("ngModel",r.customer.lastName),te(4),oe("ngModel",r.customer.email),te(4),oe("ngModel",r.customer.phone),te(1),oe("disabled",!i.form.valid)}},directives:[dc,rc,eo,Yi,to,nc,ys],styles:[""]}),e})();const BN=function(e){return["/users/",e]};function UN(e,t){if(1&e){const n=Ui();J(0,"li",4)(1,"span"),re(2),K(),J(3,"div",5)(4,"button",6),Me("click",function(){const o=jr(n).index;return mt().deleteUser(o)}),re(5,"Delete"),K(),J(6,"button",7),re(7,"Edit"),K()()()}if(2&e){const n=t.$implicit;te(2),vr("",n.firstName," ",n.lastName,""),te(4),oe("routerLink",Ji(3,BN,n.id))}}const HN=function(){return["/users/create"]};let $N=(()=>{class e{constructor(n,r){this.userService=n,this.toastService=r}ngOnInit(){this.userService.getAll().subscribe({next:n=>{this.users=n}})}deleteUser(n){this.userService.delete(this.users[n].id).subscribe({next:i=>{this.users.splice(n,1),this.toastService.success("Customer deleted successfully")}})}}return e.\u0275fac=function(n){return new(n||e)(G(Hf),G(Mr))},e.\u0275cmp=Vt({type:e,selectors:[["app-users"]],decls:7,vars:3,consts:[[1,"container"],[1,"list-group","mb-2"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"actions"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",3,"routerLink"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),re(2,"Users"),K(),J(3,"ul",1),qe(4,UN,8,5,"li",2),K(),J(5,"button",3),re(6,"Create User"),K()()),2&n&&(te(4),oe("ngForOf",r.users),te(1),oe("routerLink",Pa(2,HN)))},directives:[us,so],styles:[".list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.list-group-item[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),aD=(()=>{class e{constructor(n,r,i){this.userService=n,this.route=r,this.toastService=i,this.user={id:0,firstName:"",lastName:"",password:"",email:"",phone:""}}ngOnInit(){let n=+this.route.snapshot.paramMap.get("id");this.isNewRecord=!n,this.isNewRecord||this.userService.get(n).subscribe({next:r=>{r.password=null,this.user=r}})}onSubmit(){this.isNewRecord?this.userService.create(this.user).subscribe({next:n=>this.toastService.success("User created successfully."),error:n=>this.toastService.error(n.message)}):this.userService.update(this.user).subscribe({next:n=>this.toastService.success("User updated successfully."),error:n=>console.log(n)})}}return e.\u0275fac=function(n){return new(n||e)(G(Hf),G(In),G(Mr))},e.\u0275cmp=Vt({type:e,selectors:[["app-user"]],decls:27,vars:7,consts:[[1,"container"],[3,"ngSubmit"],["userForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","required","","name","firstName","id","firstName","placeholder","First Name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","text","required","","name","lastName","id","lastName","placeholder","Last Name",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","required","","name","email","id","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","required","","name","phone","id","phone","placeholder","Phone",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","id","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){if(1&n&&(J(0,"div",0)(1,"h2"),re(2,"User"),K(),J(3,"form",1,2),Me("ngSubmit",function(){return r.onSubmit()}),J(5,"div",3)(6,"label",4),re(7,"First Name"),K(),J(8,"input",5),Me("ngModelChange",function(o){return r.user.firstName=o}),K()(),J(9,"div",3)(10,"label",6),re(11,"Last Name"),K(),J(12,"input",7),Me("ngModelChange",function(o){return r.user.lastName=o}),K()(),J(13,"div",3)(14,"label",8),re(15,"Email"),K(),J(16,"input",9),Me("ngModelChange",function(o){return r.user.email=o}),K()(),J(17,"div",3)(18,"label",10),re(19,"Phone"),K(),J(20,"input",11),Me("ngModelChange",function(o){return r.user.phone=o}),K()(),J(21,"div",3)(22,"label",12),re(23,"Password"),K(),J(24,"input",13),Me("ngModelChange",function(o){return r.user.password=o}),K()(),J(25,"button",14),re(26,"Save"),K()()()),2&n){const i=Ca(4);te(8),oe("ngModel",r.user.firstName),te(4),oe("ngModel",r.user.lastName),te(4),oe("ngModel",r.user.email),te(4),oe("ngModel",r.user.phone),te(4),oe("ngModel",r.user.password),Ot("required",r.isNewRecord),te(1),oe("disabled",!i.form.valid)}},directives:[dc,rc,eo,Yi,to,nc,ys],styles:[""]}),e})();const GN=[{path:"",component:wN},{path:"meeting",component:Bf},{path:"meeting-stats",component:EN},{path:"meetings/create",component:oD},{path:"meetings/:id",component:oD},{path:"user/joinMeeting",component:Bf},{path:"client/jointMeeting",component:Bf},{path:"customers",component:jN},{path:"customers/:id",component:sD},{path:"customers/create",component:sD},{path:"users",component:$N},{path:"users/:id",component:aD},{path:"users/create",component:aD},{path:"**",redirectTo:""}];let zN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Lt({imports:[[Jb.forRoot(GN)],Jb]}),e})();const WN=["localVideo"],qN=["remoteVideo"];let QN=(()=>{class e{constructor(){this.title="WebRTCVideoCallAssistant.Client",this.targetID=""}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}showModal(n){}endCall(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["app-root"]],viewQuery:function(n,r){if(1&n&&(ns(WN,5),ns(qN,5)),2&n){let i;Gr(i=zr())&&(r.localVideo=i.first),Gr(i=zr())&&(r.remoteVideo=i.first)}},decls:1,vars:0,template:function(n,r){1&n&&Ut(0,"router-outlet")},directives:[Mf],styles:[".row[_ngcontent-%COMP%]{padding-top:15px}#video-wrapper[_ngcontent-%COMP%]{text-align:center;background-color:#343434;border-radius:4px;height:550px}.remote-video[_ngcontent-%COMP%]{height:480px;width:640px;border-radius:4px;transform:translateY(10%)}.local-video[_ngcontent-%COMP%]{z-index:1;position:absolute;right:1.5rem;bottom:1.5rem;width:10vw;height:10vw;max-width:10rem;max-height:10rem;border:3px solid white;border-radius:4px}"]}),e})(),JN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zt({type:e,bootstrap:[QN]}),e.\u0275inj=Lt({providers:[],imports:[[Z1,zN,uO,wO,mN.forRoot()]]}),e})();(function NA(){Rv=!1})(),Q1().bootstrapModule(JN).catch(e=>console.error(e))},321:(Ir,zn,Ar)=>{parcelRequire=function(H,ie,L,P){var D,S="function"==typeof parcelRequire&&parcelRequire;function k(h,C){if(!ie[h]){if(!H[h]){var _="function"==typeof parcelRequire&&parcelRequire;if(!C&&_)return _(h,!0);if(S)return S(h,!0);if("string"==typeof h)return Ar(784)(h);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}m.resolve=function(v){return H[h][1][v]||v},m.cache={};var E=ie[h]=new k.Module(h);H[h][0].call(E.exports,m,E,E.exports,this)}return ie[h].exports;function m(v){return k(m.resolve(v))}}k.isParcelRequire=!0,k.Module=function(h){this.id=h,this.bundle=k,this.exports={}},k.modules=H,k.cache=ie,k.parent=S,k.register=function(h,C){H[h]=[function(_,w){w.exports=C},{}]};for(var R=0;R<L.length;R++)try{k(L[R])}catch(h){D||(D=h)}if(L.length){var I=k(L[L.length-1]);Ir.exports=I}if(parcelRequire=k,D)throw D;return k}({EgBh:[function(H,ie,L){var P={};P.useBlobBuilder=function(){try{return new Blob([]),!1}catch(A){return!0}}(),P.useArrayBufferView=!P.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(A){return!0}}(),ie.exports.binaryFeatures=P;var D=ie.exports.BlobBuilder;function S(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(D=ie.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),S.prototype.append=function(A){"number"==typeof A?this._pieces.push(A):(this.flush(),this._parts.push(A))},S.prototype.flush=function(){if(this._pieces.length>0){var A=new Uint8Array(this._pieces);P.useArrayBufferView||(A=A.buffer),this._parts.push(A),this._pieces=[]}},S.prototype.getBuffer=function(){if(this.flush(),P.useBlobBuilder){for(var A=new D,k=0,R=this._parts.length;k<R;k++)A.append(this._parts[k]);return A.getBlob()}return new Blob(this._parts)},ie.exports.BufferBuilder=S},{}],kdPp:[function(H,ie,L){var P=H("./bufferbuilder").BufferBuilder,D=H("./bufferbuilder").binaryFeatures;function A(h){this.index=0,this.dataBuffer=h,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function k(){this.bufferBuilder=new P}function R(h){var C=h.charCodeAt(0);return C<=2047?"00":C<=65535?"000":C<=2097151?"0000":C<=67108863?"00000":"000000"}ie.exports={unpack:function(h){return new A(h).unpack()},pack:function(h){var C=new k;return C.pack(h),C.getBuffer()}},A.prototype.unpack=function(){var h,C=this.unpack_uint8();if(C<128)return C;if((224^C)<32)return(224^C)-32;if((h=160^C)<=15)return this.unpack_raw(h);if((h=176^C)<=15)return this.unpack_string(h);if((h=144^C)<=15)return this.unpack_array(h);if((h=128^C)<=15)return this.unpack_map(h);switch(C){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}},A.prototype.unpack_uint8=function(){var h=255&this.dataView[this.index];return this.index++,h},A.prototype.unpack_uint16=function(){var h=this.read(2),C=256*(255&h[0])+(255&h[1]);return this.index+=2,C},A.prototype.unpack_uint32=function(){var h=this.read(4),C=256*(256*(256*h[0]+h[1])+h[2])+h[3];return this.index+=4,C},A.prototype.unpack_uint64=function(){var h=this.read(8),C=256*(256*(256*(256*(256*(256*(256*h[0]+h[1])+h[2])+h[3])+h[4])+h[5])+h[6])+h[7];return this.index+=8,C},A.prototype.unpack_int8=function(){var h=this.unpack_uint8();return h<128?h:h-256},A.prototype.unpack_int16=function(){var h=this.unpack_uint16();return h<32768?h:h-65536},A.prototype.unpack_int32=function(){var h=this.unpack_uint32();return h<Math.pow(2,31)?h:h-Math.pow(2,32)},A.prototype.unpack_int64=function(){var h=this.unpack_uint64();return h<Math.pow(2,63)?h:h-Math.pow(2,64)},A.prototype.unpack_raw=function(h){if(this.length<this.index+h)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+h+" "+this.length);var C=this.dataBuffer.slice(this.index,this.index+h);return this.index+=h,C},A.prototype.unpack_string=function(h){for(var C,_,w=this.read(h),E=0,m="";E<h;)(C=w[E])<128?(m+=String.fromCharCode(C),E++):(192^C)<32?(_=(192^C)<<6|63&w[E+1],m+=String.fromCharCode(_),E+=2):(_=(15&C)<<12|(63&w[E+1])<<6|63&w[E+2],m+=String.fromCharCode(_),E+=3);return this.index+=h,m},A.prototype.unpack_array=function(h){for(var C=new Array(h),_=0;_<h;_++)C[_]=this.unpack();return C},A.prototype.unpack_map=function(h){for(var C={},_=0;_<h;_++){var w=this.unpack(),E=this.unpack();C[w]=E}return C},A.prototype.unpack_float=function(){var h=this.unpack_uint32();return(h>>31==0?1:-1)*(8388607&h|8388608)*Math.pow(2,(h>>23&255)-127-23)},A.prototype.unpack_double=function(){var h=this.unpack_uint32(),C=this.unpack_uint32(),_=(h>>20&2047)-1023;return(h>>31==0?1:-1)*((1048575&h|1048576)*Math.pow(2,_-20)+C*Math.pow(2,_-52))},A.prototype.read=function(h){var C=this.index;if(C+h<=this.length)return this.dataView.subarray(C,C+h);throw new Error("BinaryPackFailure: read index out of range")},k.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},k.prototype.pack=function(h){var C=typeof h;if("string"===C)this.pack_string(h);else if("number"===C)Math.floor(h)===h?this.pack_integer(h):this.pack_double(h);else if("boolean"===C)!0===h?this.bufferBuilder.append(195):!1===h&&this.bufferBuilder.append(194);else if("undefined"===C)this.bufferBuilder.append(192);else{if("object"!==C)throw new Error('Type "'+C+'" not yet supported');if(null===h)this.bufferBuilder.append(192);else{var _=h.constructor;if(_==Array)this.pack_array(h);else if(_==Blob||_==File||h instanceof Blob||h instanceof File)this.pack_bin(h);else if(_==ArrayBuffer)this.pack_bin(D.useArrayBufferView?new Uint8Array(h):h);else if("BYTES_PER_ELEMENT"in h)this.pack_bin(D.useArrayBufferView?new Uint8Array(h.buffer):h.buffer);else if(_==Object||_.toString().startsWith("class"))this.pack_object(h);else if(_==Date)this.pack_string(h.toString());else{if("function"!=typeof h.toBinaryPack)throw new Error('Type "'+_.toString()+'" not yet supported');this.bufferBuilder.append(h.toBinaryPack())}}}this.bufferBuilder.flush()},k.prototype.pack_bin=function(h){var C=h.length||h.byteLength||h.size;if(C<=15)this.pack_uint8(160+C);else if(C<=65535)this.bufferBuilder.append(218),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_string=function(h){var C=function I(h){return h.length>600?new Blob([h]).size:h.replace(/[^\u0000-\u007F]/g,R).length}(h);if(C<=15)this.pack_uint8(176+C);else if(C<=65535)this.bufferBuilder.append(216),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_array=function(h){var C=h.length;if(C<=15)this.pack_uint8(144+C);else if(C<=65535)this.bufferBuilder.append(220),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(C)}for(var _=0;_<C;_++)this.pack(h[_])},k.prototype.pack_integer=function(h){if(h>=-32&&h<=127)this.bufferBuilder.append(255&h);else if(h>=0&&h<=255)this.bufferBuilder.append(204),this.pack_uint8(h);else if(h>=-128&&h<=127)this.bufferBuilder.append(208),this.pack_int8(h);else if(h>=0&&h<=65535)this.bufferBuilder.append(205),this.pack_uint16(h);else if(h>=-32768&&h<=32767)this.bufferBuilder.append(209),this.pack_int16(h);else if(h>=0&&h<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(h);else if(h>=-2147483648&&h<=2147483647)this.bufferBuilder.append(210),this.pack_int32(h);else if(h>=-0x8000000000000000&&h<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(h);else{if(!(h>=0&&h<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(h)}},k.prototype.pack_double=function(h){var C=0;h<0&&(C=1,h=-h);var _=Math.floor(Math.log(h)/Math.LN2),w=h/Math.pow(2,_)-1,E=Math.floor(w*Math.pow(2,52)),m=Math.pow(2,32),v=C<<31|_+1023<<20|E/m&1048575,p=E%m;this.bufferBuilder.append(203),this.pack_int32(v),this.pack_int32(p)},k.prototype.pack_object=function(h){var C=Object.keys(h).length;if(C<=15)this.pack_uint8(128+C);else if(C<=65535)this.bufferBuilder.append(222),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(C)}for(var _ in h)h.hasOwnProperty(_)&&(this.pack(_),this.pack(h[_]))},k.prototype.pack_uint8=function(h){this.bufferBuilder.append(h)},k.prototype.pack_uint16=function(h){this.bufferBuilder.append(h>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_uint32=function(h){var C=4294967295&h;this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C)},k.prototype.pack_uint64=function(h){var C=h/Math.pow(2,32),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)},k.prototype.pack_int8=function(h){this.bufferBuilder.append(255&h)},k.prototype.pack_int16=function(h){this.bufferBuilder.append((65280&h)>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int32=function(h){this.bufferBuilder.append(h>>>24&255),this.bufferBuilder.append((16711680&h)>>>16),this.bufferBuilder.append((65280&h)>>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int64=function(h){var C=Math.floor(h/Math.pow(2,32)),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(H,ie,L){"use strict";function D(d){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}Object.defineProperty(L,"__esModule",{value:!0}),L.extractVersion=k,L.wrapPeerConnectionEvent=function R(d,l,f){if(d.RTCPeerConnection){var b=d.RTCPeerConnection.prototype,O=b.addEventListener;b.addEventListener=function(N,j){if(N!==l)return O.apply(this,arguments);var B=function(V){var W=f(V);W&&(j.handleEvent?j.handleEvent(W):j(W))};return this._eventMap=this._eventMap||{},this._eventMap[l]||(this._eventMap[l]=new Map),this._eventMap[l].set(j,B),O.apply(this,[N,B])};var x=b.removeEventListener;b.removeEventListener=function(N,j){if(N!==l||!this._eventMap||!this._eventMap[l])return x.apply(this,arguments);if(!this._eventMap[l].has(j))return x.apply(this,arguments);var B=this._eventMap[l].get(j);return this._eventMap[l].delete(j),0===this._eventMap[l].size&&delete this._eventMap[l],0===Object.keys(this._eventMap).length&&delete this._eventMap,x.apply(this,[N,B])},Object.defineProperty(b,"on"+l,{get:function(){return this["_on"+l]},set:function(N){this["_on"+l]&&(this.removeEventListener(l,this["_on"+l]),delete this["_on"+l]),N&&this.addEventListener(l,this["_on"+l]=N)},enumerable:!0,configurable:!0})}},L.disableLog=function I(d){return"boolean"!=typeof d?new Error("Argument type: "+D(d)+". Please use a boolean."):(S=d,d?"adapter.js logging disabled":"adapter.js logging enabled")},L.disableWarnings=function h(d){return"boolean"!=typeof d?new Error("Argument type: "+D(d)+". Please use a boolean."):(A=!d,"adapter.js deprecation warnings "+(d?"disabled":"enabled"))},L.log=function C(){if("object"===("undefined"==typeof window?"undefined":D(window))){if(S)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},L.deprecated=function _(d,l){A&&console.warn(d+" is deprecated, please use "+l+" instead.")},L.detectBrowser=function w(d){var l={browser:null,version:null};if(void 0===d||!d.navigator)return l.browser="Not a browser.",l;var{navigator:f}=d;if(f.mozGetUserMedia)l.browser="firefox",l.version=k(f.userAgent,/Firefox\/(\d+)\./,1);else if(f.webkitGetUserMedia||!1===d.isSecureContext&&d.webkitRTCPeerConnection&&!d.RTCIceGatherer)l.browser="chrome",l.version=k(f.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(f.mediaDevices&&f.userAgent.match(/Edge\/(\d+).(\d+)$/))l.browser="edge",l.version=k(f.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!d.RTCPeerConnection||!f.userAgent.match(/AppleWebKit\/(\d+)\./))return l.browser="Not a supported browser.",l;l.browser="safari",l.version=k(f.userAgent,/AppleWebKit\/(\d+)\./,1),l.supportsUnifiedPlan=d.RTCRtpTransceiver&&"currentDirection"in d.RTCRtpTransceiver.prototype}return l},L.compactObject=function m(d){return E(d)?Object.keys(d).reduce(function(l,f){var b=E(d[f]),O=b?m(d[f]):d[f],x=b&&!Object.keys(O).length;return void 0===O||x?l:Object.assign(l,function P(d,l,f){return l in d?Object.defineProperty(d,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[l]=f,d}({},f,O))},{}):d},L.walkStats=v,L.filterStats=function p(d,l,f){var b=f?"outbound-rtp":"inbound-rtp",O=new Map;if(null===l)return O;var x=[];return d.forEach(function(N){"track"===N.type&&N.trackIdentifier===l.id&&x.push(N)}),x.forEach(function(N){d.forEach(function(j){j.type===b&&j.trackId===N.id&&v(d,j,O)})}),O};var S=!0,A=!0;function k(d,l,f){var b=d.match(l);return b&&b.length>=f&&parseInt(b[f],10)}function E(d){return"[object Object]"===Object.prototype.toString.call(d)}function v(d,l,f){l&&!f.has(l.id)&&(f.set(l.id,l),Object.keys(l).forEach(function(b){b.endsWith("Id")?v(d,d.get(l[b]),f):b.endsWith("Ids")&&l[b].forEach(function(O){v(d,d.get(O),f)})}))}},{}],s6SN:[function(H,ie,L){"use strict";function D(){if("function"!=typeof WeakMap)return null;var I=new WeakMap;return D=function(){return I},I}function A(I){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(I)}Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetUserMedia=function R(I,h){var C=I&&I.navigator;if(C.mediaDevices){var _=function(v){if("object"!==A(v)||v.mandatory||v.optional)return v;var p={};return Object.keys(v).forEach(function(d){if("require"!==d&&"advanced"!==d&&"mediaSource"!==d){var l="object"===A(v[d])?v[d]:{ideal:v[d]};void 0!==l.exact&&"number"==typeof l.exact&&(l.min=l.max=l.exact);var f=function(O,x){return O?O+x.charAt(0).toUpperCase()+x.slice(1):"deviceId"===x?"sourceId":x};if(void 0!==l.ideal){p.optional=p.optional||[];var b={};"number"==typeof l.ideal?(b[f("min",d)]=l.ideal,p.optional.push(b),(b={})[f("max",d)]=l.ideal,p.optional.push(b)):(b[f("",d)]=l.ideal,p.optional.push(b))}void 0!==l.exact&&"number"!=typeof l.exact?(p.mandatory=p.mandatory||{},p.mandatory[f("",d)]=l.exact):["min","max"].forEach(function(O){void 0!==l[O]&&(p.mandatory=p.mandatory||{},p.mandatory[f(O,d)]=l[O])})}}),v.advanced&&(p.optional=(p.optional||[]).concat(v.advanced)),p},w=function(v,p){if(h.version>=61)return p(v);if((v=JSON.parse(JSON.stringify(v)))&&"object"===A(v.audio)){var d=function(O,x,N){x in O&&!(N in O)&&(O[N]=O[x],delete O[x])};d((v=JSON.parse(JSON.stringify(v))).audio,"autoGainControl","googAutoGainControl"),d(v.audio,"noiseSuppression","googNoiseSuppression"),v.audio=_(v.audio)}if(v&&"object"===A(v.video)){var l=v.video.facingMode;l=l&&("object"===A(l)?l:{ideal:l});var f,b=h.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!C.mediaDevices.getSupportedConstraints||!C.mediaDevices.getSupportedConstraints().facingMode||b)&&(delete v.video.facingMode,"environment"===l.exact||"environment"===l.ideal?f=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(f=["front"]),f))return C.mediaDevices.enumerateDevices().then(function(O){var x=(O=O.filter(function(N){return"videoinput"===N.kind})).find(function(N){return f.some(function(j){return N.label.toLowerCase().includes(j)})});return!x&&O.length&&f.includes("back")&&(x=O[O.length-1]),x&&(v.video.deviceId=l.exact?{exact:x.deviceId}:{ideal:x.deviceId}),v.video=_(v.video),k("chrome: "+JSON.stringify(v)),p(v)});v.video=_(v.video)}return k("chrome: "+JSON.stringify(v)),p(v)},E=function(v){return h.version>=64?v:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[v.name]||v.name,message:v.message,constraint:v.constraint||v.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(C.getUserMedia=function(v,p,d){w(v,function(l){C.webkitGetUserMedia(l,p,function(f){d&&d(E(f))})})}.bind(C),C.mediaDevices.getUserMedia){var m=C.mediaDevices.getUserMedia.bind(C.mediaDevices);C.mediaDevices.getUserMedia=function(v){return w(v,function(p){return m(p).then(function(d){if(p.audio&&!d.getAudioTracks().length||p.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(function(l){l.stop()}),new DOMException("","NotFoundError");return d},function(d){return Promise.reject(E(d))})})}}}};var k=function S(I){if(I&&I.__esModule)return I;if(null===I||"object"!=typeof I&&"function"!=typeof I)return{default:I};var h=D();if(h&&h.has(I))return h.get(I);var C={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in I)if(Object.prototype.hasOwnProperty.call(I,w)){var E=_?Object.getOwnPropertyDescriptor(I,w):null;E&&(E.get||E.set)?Object.defineProperty(C,w,E):C[w]=I[w]}return C.default=I,h&&h.set(I,C),C}(H("../utils.js")).log},{"../utils.js":"iSxC"}],VHa8:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetDisplayMedia=function P(D,S){D.navigator.mediaDevices&&"getDisplayMedia"in D.navigator.mediaDevices||D.navigator.mediaDevices&&("function"==typeof S?D.navigator.mediaDevices.getDisplayMedia=function(A){return S(A).then(function(k){var R=A.video&&A.video.width,I=A.video&&A.video.height;return A.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:k,maxFrameRate:A.video&&A.video.frameRate||3}},R&&(A.video.mandatory.maxWidth=R),I&&(A.video.mandatory.maxHeight=I),D.navigator.mediaDevices.getUserMedia(A)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],uI5X:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimMediaStream=function h(l){l.MediaStream=l.MediaStream||l.webkitMediaStream},L.shimOnTrack=function C(l){if("object"!==I(l)||!l.RTCPeerConnection||"ontrack"in l.RTCPeerConnection.prototype)P.wrapPeerConnectionEvent(l,"track",function(b){return b.transceiver||Object.defineProperty(b,"transceiver",{value:{receiver:b.receiver}}),b});else{Object.defineProperty(l.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(b){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=b)},enumerable:!0,configurable:!0});var f=l.RTCPeerConnection.prototype.setRemoteDescription;l.RTCPeerConnection.prototype.setRemoteDescription=function(){var b=this;return this._ontrackpoly||(this._ontrackpoly=function(O){O.stream.addEventListener("addtrack",function(x){var N;N=l.RTCPeerConnection.prototype.getReceivers?b.getReceivers().find(function(B){return B.track&&B.track.id===x.track.id}):{track:x.track};var j=new Event("track");j.track=x.track,j.receiver=N,j.transceiver={receiver:N},j.streams=[O.stream],b.dispatchEvent(j)}),O.stream.getTracks().forEach(function(x){var N;N=l.RTCPeerConnection.prototype.getReceivers?b.getReceivers().find(function(B){return B.track&&B.track.id===x.id}):{track:x};var j=new Event("track");j.track=x,j.receiver=N,j.transceiver={receiver:N},j.streams=[O.stream],b.dispatchEvent(j)})},this.addEventListener("addstream",this._ontrackpoly)),f.apply(this,arguments)}}},L.shimGetSendersWithDtmf=function _(l){if("object"===I(l)&&l.RTCPeerConnection&&!("getSenders"in l.RTCPeerConnection.prototype)&&"createDTMFSender"in l.RTCPeerConnection.prototype){var f=function(B,V){return{track:V,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===V.kind?B.createDTMFSender(V):null),this._dtmf},_pc:B}};if(!l.RTCPeerConnection.prototype.getSenders){l.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var b=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(B,V){var W=b.apply(this,arguments);return W||(W=f(this,B),this._senders.push(W)),W};var O=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(B){O.apply(this,arguments);var V=this._senders.indexOf(B);-1!==V&&this._senders.splice(V,1)}}var x=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(B){var V=this;this._senders=this._senders||[],x.apply(this,[B]),B.getTracks().forEach(function(W){V._senders.push(f(V,W))})};var N=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(B){var V=this;this._senders=this._senders||[],N.apply(this,[B]),B.getTracks().forEach(function(W){var Z=V._senders.find(function(le){return le.track===W});Z&&V._senders.splice(V._senders.indexOf(Z),1)})}}else if("object"===I(l)&&l.RTCPeerConnection&&"getSenders"in l.RTCPeerConnection.prototype&&"createDTMFSender"in l.RTCPeerConnection.prototype&&l.RTCRtpSender&&!("dtmf"in l.RTCRtpSender.prototype)){var j=l.RTCPeerConnection.prototype.getSenders;l.RTCPeerConnection.prototype.getSenders=function(){var B=this,V=j.apply(this,[]);return V.forEach(function(W){return W._pc=B}),V},Object.defineProperty(l.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},L.shimGetStats=function w(l){if(l.RTCPeerConnection){var f=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){var b=this,[O,x,N]=arguments;if(arguments.length>0&&"function"==typeof O)return f.apply(this,arguments);if(0===f.length&&(0===arguments.length||"function"!=typeof O))return f.apply(this,[]);var j=function(V){var W={};return V.result().forEach(function(Z){var le={id:Z.id,timestamp:Z.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Z.type]||Z.type};Z.names().forEach(function(se){le[se]=Z.stat(se)}),W[le.id]=le}),W},B=function(V){return new Map(Object.keys(V).map(function(W){return[W,V[W]]}))};return arguments.length>=2?f.apply(this,[function(V){x(B(j(V)))},O]):new Promise(function(V,W){f.apply(b,[function(Z){V(B(j(Z)))},W])}).then(x,N)}}},L.shimSenderReceiverGetStats=function E(l){if("object"===I(l)&&l.RTCPeerConnection&&l.RTCRtpSender&&l.RTCRtpReceiver){if(!("getStats"in l.RTCRtpSender.prototype)){var f=l.RTCPeerConnection.prototype.getSenders;f&&(l.RTCPeerConnection.prototype.getSenders=function(){var N=this,j=f.apply(this,[]);return j.forEach(function(B){return B._pc=N}),j});var b=l.RTCPeerConnection.prototype.addTrack;b&&(l.RTCPeerConnection.prototype.addTrack=function(){var N=b.apply(this,arguments);return N._pc=this,N}),l.RTCRtpSender.prototype.getStats=function(){var N=this;return this._pc.getStats().then(function(j){return P.filterStats(j,N.track,!0)})}}if(!("getStats"in l.RTCRtpReceiver.prototype)){var O=l.RTCPeerConnection.prototype.getReceivers;O&&(l.RTCPeerConnection.prototype.getReceivers=function(){var N=this,j=O.apply(this,[]);return j.forEach(function(B){return B._pc=N}),j}),P.wrapPeerConnectionEvent(l,"track",function(N){return N.receiver._pc=N.srcElement,N}),l.RTCRtpReceiver.prototype.getStats=function(){var N=this;return this._pc.getStats().then(function(j){return P.filterStats(j,N.track,!1)})}}if("getStats"in l.RTCRtpSender.prototype&&"getStats"in l.RTCRtpReceiver.prototype){var x=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof l.MediaStreamTrack){var N,j,B,V=arguments[0];return this.getSenders().forEach(function(W){W.track===V&&(N?B=!0:N=W)}),this.getReceivers().forEach(function(W){return W.track===V&&(j?B=!0:j=W),W.track===V}),B||N&&j?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):N?N.getStats():j?j.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return x.apply(this,arguments)}}}},L.shimAddTrackRemoveTrackWithNative=m,L.shimAddTrackRemoveTrack=function v(l,f){if(l.RTCPeerConnection){if(l.RTCPeerConnection.prototype.addTrack&&f.version>=65)return m(l);var b=l.RTCPeerConnection.prototype.getLocalStreams;l.RTCPeerConnection.prototype.getLocalStreams=function(){var V=this,W=b.apply(this);return this._reverseStreams=this._reverseStreams||{},W.map(function(Z){return V._reverseStreams[Z.id]})};var O=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(V){var W=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},V.getTracks().forEach(function(le){if(W.getSenders().find(function(se){return se.track===le}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[V.id]){var Z=new l.MediaStream(V.getTracks());this._streams[V.id]=Z,this._reverseStreams[Z.id]=V,V=Z}O.apply(this,[V])};var x=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(V){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},x.apply(this,[this._streams[V.id]||V]),delete this._reverseStreams[this._streams[V.id]?this._streams[V.id].id:V.id],delete this._streams[V.id]},l.RTCPeerConnection.prototype.addTrack=function(V,W){var Z=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var le=[].slice.call(arguments,1);if(1!==le.length||!le[0].getTracks().find(function(He){return He===V}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(He){return He.track===V}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var se=this._streams[W.id];if(se)se.addTrack(V),Promise.resolve().then(function(){Z.dispatchEvent(new Event("negotiationneeded"))});else{var de=new l.MediaStream([V]);this._streams[W.id]=de,this._reverseStreams[de.id]=W,this.addStream(de)}return this.getSenders().find(function(He){return He.track===V})},["createOffer","createAnswer"].forEach(function(V){var W=l.RTCPeerConnection.prototype[V],Z=R({},V,function(){var le=this,se=arguments;return arguments.length&&"function"==typeof arguments[0]?W.apply(this,[function(de){var He=B(le,de);se[0].apply(null,[He])},function(de){se[1]&&se[1].apply(null,de)},arguments[2]]):W.apply(this,arguments).then(function(de){return B(le,de)})});l.RTCPeerConnection.prototype[V]=Z[V]});var N=l.RTCPeerConnection.prototype.setLocalDescription;l.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(V=this,Z=(W=arguments[0]).sdp,Object.keys(V._reverseStreams||[]).forEach(function(le){var se=V._reverseStreams[le],de=V._streams[se.id];Z=Z.replace(new RegExp(se.id,"g"),de.id)}),new RTCSessionDescription({type:W.type,sdp:Z})),N.apply(this,arguments)):N.apply(this,arguments);var V,W,Z};var j=Object.getOwnPropertyDescriptor(l.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(l.RTCPeerConnection.prototype,"localDescription",{get:function(){var V=j.get.apply(this);return""===V.type?V:B(this,V)}}),l.RTCPeerConnection.prototype.removeTrack=function(V){var W,Z=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!V._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(V._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(le){Z._streams[le].getTracks().find(function(se){return V.track===se})&&(W=Z._streams[le])}),W&&(1===W.getTracks().length?this.removeStream(this._reverseStreams[W.id]):W.removeTrack(V.track),this.dispatchEvent(new Event("negotiationneeded")))}}function B(V,W){var Z=W.sdp;return Object.keys(V._reverseStreams||[]).forEach(function(le){var se=V._reverseStreams[le];Z=Z.replace(new RegExp(V._streams[se.id].id,"g"),se.id)}),new RTCSessionDescription({type:W.type,sdp:Z})}},L.shimPeerConnection=function p(l,f){!l.RTCPeerConnection&&l.webkitRTCPeerConnection&&(l.RTCPeerConnection=l.webkitRTCPeerConnection),l.RTCPeerConnection&&f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var O=l.RTCPeerConnection.prototype[b],x=R({},b,function(){return arguments[0]=new("addIceCandidate"===b?l.RTCIceCandidate:l.RTCSessionDescription)(arguments[0]),O.apply(this,arguments)});l.RTCPeerConnection.prototype[b]=x[b]})},L.fixNegotiationNeeded=function d(l,f){P.wrapPeerConnectionEvent(l,"negotiationneeded",function(b){var O=b.target;if(!(f.version<72||O.getConfiguration&&"plan-b"===O.getConfiguration().sdpSemantics)||"stable"===O.signalingState)return b})},Object.defineProperty(L,"shimGetUserMedia",{enumerable:!0,get:function(){return D.shimGetUserMedia}}),Object.defineProperty(L,"shimGetDisplayMedia",{enumerable:!0,get:function(){return S.shimGetDisplayMedia}});var P=function k(l){if(l&&l.__esModule)return l;if(null===l||"object"!=typeof l&&"function"!=typeof l)return{default:l};var f=A();if(f&&f.has(l))return f.get(l);var b={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in l)if(Object.prototype.hasOwnProperty.call(l,x)){var N=O?Object.getOwnPropertyDescriptor(l,x):null;N&&(N.get||N.set)?Object.defineProperty(b,x,N):b[x]=l[x]}return b.default=l,f&&f.set(l,b),b}(H("../utils.js")),D=H("./getusermedia"),S=H("./getdisplaymedia");function A(){if("function"!=typeof WeakMap)return null;var l=new WeakMap;return A=function(){return l},l}function R(l,f,b){return f in l?Object.defineProperty(l,f,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[f]=b,l}function I(l){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function m(l){l.RTCPeerConnection.prototype.getLocalStreams=function(){var N=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(j){return N._shimmedLocalStreams[j][0]})};var f=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(N,j){if(!j)return f.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var B=f.apply(this,arguments);return this._shimmedLocalStreams[j.id]?-1===this._shimmedLocalStreams[j.id].indexOf(B)&&this._shimmedLocalStreams[j.id].push(B):this._shimmedLocalStreams[j.id]=[j,B],B};var b=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(N){var j=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},N.getTracks().forEach(function(W){if(j.getSenders().find(function(Z){return Z.track===W}))throw new DOMException("Track already exists.","InvalidAccessError")});var B=this.getSenders();b.apply(this,arguments);var V=this.getSenders().filter(function(W){return-1===B.indexOf(W)});this._shimmedLocalStreams[N.id]=[N].concat(V)};var O=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(N){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[N.id],O.apply(this,arguments)};var x=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(N){var j=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},N&&Object.keys(this._shimmedLocalStreams).forEach(function(B){var V=j._shimmedLocalStreams[B].indexOf(N);-1!==V&&j._shimmedLocalStreams[B].splice(V,1),1===j._shimmedLocalStreams[B].length&&delete j._shimmedLocalStreams[B]}),x.apply(this,arguments)}}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.filterIceServers=function A(k,R){var I=!1;return(k=JSON.parse(JSON.stringify(k))).filter(function(h){if(h&&(h.urls||h.url)){var C=h.urls||h.url;h.url&&!h.urls&&P.deprecated("RTCIceServer.url","RTCIceServer.urls");var _="string"==typeof C;return _&&(C=[C]),C=C.filter(function(w){if(0===w.indexOf("stun:"))return!1;var E=w.startsWith("turn")&&!w.startsWith("turn:[")&&w.includes("transport=udp");return E&&!I?(I=!0,!0):E&&!I}),delete h.url,h.urls=_?C[0]:C,!!C.length}})};var P=function S(k){if(k&&k.__esModule)return k;if(null===k||"object"!=typeof k&&"function"!=typeof k)return{default:k};var R=D();if(R&&R.has(k))return R.get(k);var I={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in k)if(Object.prototype.hasOwnProperty.call(k,C)){var _=h?Object.getOwnPropertyDescriptor(k,C):null;_&&(_.get||_.set)?Object.defineProperty(I,C,_):I[C]=k[C]}return I.default=k,R&&R.set(k,I),I}(H("../utils"));function D(){if("function"!=typeof WeakMap)return null;var k=new WeakMap;return D=function(){return k},k}},{"../utils":"iSxC"}],YHvh:[function(H,ie,L){"use strict";var P={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};P.localCName=P.generateIdentifier(),P.splitLines=function(D){return D.trim().split("\n").map(function(S){return S.trim()})},P.splitSections=function(D){return D.split("\nm=").map(function(S,A){return(A>0?"m="+S:S).trim()+"\r\n"})},P.getDescription=function(D){var S=P.splitSections(D);return S&&S[0]},P.getMediaSections=function(D){var S=P.splitSections(D);return S.shift(),S},P.matchPrefix=function(D,S){return P.splitLines(D).filter(function(A){return 0===A.indexOf(S)})},P.parseCandidate=function(D){for(var S,A={foundation:(S=0===D.indexOf("a=candidate:")?D.substring(12).split(" "):D.substring(10).split(" "))[0],component:parseInt(S[1],10),protocol:S[2].toLowerCase(),priority:parseInt(S[3],10),ip:S[4],address:S[4],port:parseInt(S[5],10),type:S[7]},k=8;k<S.length;k+=2)switch(S[k]){case"raddr":A.relatedAddress=S[k+1];break;case"rport":A.relatedPort=parseInt(S[k+1],10);break;case"tcptype":A.tcpType=S[k+1];break;case"ufrag":A.ufrag=S[k+1],A.usernameFragment=S[k+1];break;default:A[S[k]]=S[k+1]}return A},P.writeCandidate=function(D){var S=[];S.push(D.foundation),S.push(D.component),S.push(D.protocol.toUpperCase()),S.push(D.priority),S.push(D.address||D.ip),S.push(D.port);var A=D.type;return S.push("typ"),S.push(A),"host"!==A&&D.relatedAddress&&D.relatedPort&&(S.push("raddr"),S.push(D.relatedAddress),S.push("rport"),S.push(D.relatedPort)),D.tcpType&&"tcp"===D.protocol.toLowerCase()&&(S.push("tcptype"),S.push(D.tcpType)),(D.usernameFragment||D.ufrag)&&(S.push("ufrag"),S.push(D.usernameFragment||D.ufrag)),"candidate:"+S.join(" ")},P.parseIceOptions=function(D){return D.substr(14).split(" ")},P.parseRtpMap=function(D){var S=D.substr(9).split(" "),A={payloadType:parseInt(S.shift(),10)};return S=S[0].split("/"),A.name=S[0],A.clockRate=parseInt(S[1],10),A.channels=3===S.length?parseInt(S[2],10):1,A.numChannels=A.channels,A},P.writeRtpMap=function(D){var S=D.payloadType;void 0!==D.preferredPayloadType&&(S=D.preferredPayloadType);var A=D.channels||D.numChannels||1;return"a=rtpmap:"+S+" "+D.name+"/"+D.clockRate+(1!==A?"/"+A:"")+"\r\n"},P.parseExtmap=function(D){var S=D.substr(9).split(" ");return{id:parseInt(S[0],10),direction:S[0].indexOf("/")>0?S[0].split("/")[1]:"sendrecv",uri:S[1]}},P.writeExtmap=function(D){return"a=extmap:"+(D.id||D.preferredId)+(D.direction&&"sendrecv"!==D.direction?"/"+D.direction:"")+" "+D.uri+"\r\n"},P.parseFmtp=function(D){for(var S,A={},k=D.substr(D.indexOf(" ")+1).split(";"),R=0;R<k.length;R++)A[(S=k[R].trim().split("="))[0].trim()]=S[1];return A},P.writeFmtp=function(D){var S="",A=D.payloadType;if(void 0!==D.preferredPayloadType&&(A=D.preferredPayloadType),D.parameters&&Object.keys(D.parameters).length){var k=[];Object.keys(D.parameters).forEach(function(R){k.push(D.parameters[R]?R+"="+D.parameters[R]:R)}),S+="a=fmtp:"+A+" "+k.join(";")+"\r\n"}return S},P.parseRtcpFb=function(D){var S=D.substr(D.indexOf(" ")+1).split(" ");return{type:S.shift(),parameter:S.join(" ")}},P.writeRtcpFb=function(D){var S="",A=D.payloadType;return void 0!==D.preferredPayloadType&&(A=D.preferredPayloadType),D.rtcpFeedback&&D.rtcpFeedback.length&&D.rtcpFeedback.forEach(function(k){S+="a=rtcp-fb:"+A+" "+k.type+(k.parameter&&k.parameter.length?" "+k.parameter:"")+"\r\n"}),S},P.parseSsrcMedia=function(D){var S=D.indexOf(" "),A={ssrc:parseInt(D.substr(7,S-7),10)},k=D.indexOf(":",S);return k>-1?(A.attribute=D.substr(S+1,k-S-1),A.value=D.substr(k+1)):A.attribute=D.substr(S+1),A},P.parseSsrcGroup=function(D){var S=D.substr(13).split(" ");return{semantics:S.shift(),ssrcs:S.map(function(A){return parseInt(A,10)})}},P.getMid=function(D){var S=P.matchPrefix(D,"a=mid:")[0];if(S)return S.substr(6)},P.parseFingerprint=function(D){var S=D.substr(14).split(" ");return{algorithm:S[0].toLowerCase(),value:S[1]}},P.getDtlsParameters=function(D,S){return{role:"auto",fingerprints:P.matchPrefix(D+S,"a=fingerprint:").map(P.parseFingerprint)}},P.writeDtlsParameters=function(D,S){var A="a=setup:"+S+"\r\n";return D.fingerprints.forEach(function(k){A+="a=fingerprint:"+k.algorithm+" "+k.value+"\r\n"}),A},P.parseCryptoLine=function(D){var S=D.substr(9).split(" ");return{tag:parseInt(S[0],10),cryptoSuite:S[1],keyParams:S[2],sessionParams:S.slice(3)}},P.writeCryptoLine=function(D){return"a=crypto:"+D.tag+" "+D.cryptoSuite+" "+("object"==typeof D.keyParams?P.writeCryptoKeyParams(D.keyParams):D.keyParams)+(D.sessionParams?" "+D.sessionParams.join(" "):"")+"\r\n"},P.parseCryptoKeyParams=function(D){if(0!==D.indexOf("inline:"))return null;var S=D.substr(7).split("|");return{keyMethod:"inline",keySalt:S[0],lifeTime:S[1],mkiValue:S[2]?S[2].split(":")[0]:void 0,mkiLength:S[2]?S[2].split(":")[1]:void 0}},P.writeCryptoKeyParams=function(D){return D.keyMethod+":"+D.keySalt+(D.lifeTime?"|"+D.lifeTime:"")+(D.mkiValue&&D.mkiLength?"|"+D.mkiValue+":"+D.mkiLength:"")},P.getCryptoParameters=function(D,S){return P.matchPrefix(D+S,"a=crypto:").map(P.parseCryptoLine)},P.getIceParameters=function(D,S){var A=P.matchPrefix(D+S,"a=ice-ufrag:")[0],k=P.matchPrefix(D+S,"a=ice-pwd:")[0];return A&&k?{usernameFragment:A.substr(12),password:k.substr(10)}:null},P.writeIceParameters=function(D){return"a=ice-ufrag:"+D.usernameFragment+"\r\na=ice-pwd:"+D.password+"\r\n"},P.parseRtpParameters=function(D){for(var S={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},A=P.splitLines(D)[0].split(" "),k=3;k<A.length;k++){var R=A[k],I=P.matchPrefix(D,"a=rtpmap:"+R+" ")[0];if(I){var h=P.parseRtpMap(I),C=P.matchPrefix(D,"a=fmtp:"+R+" ");switch(h.parameters=C.length?P.parseFmtp(C[0]):{},h.rtcpFeedback=P.matchPrefix(D,"a=rtcp-fb:"+R+" ").map(P.parseRtcpFb),S.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":S.fecMechanisms.push(h.name.toUpperCase())}}}return P.matchPrefix(D,"a=extmap:").forEach(function(_){S.headerExtensions.push(P.parseExtmap(_))}),S},P.writeRtpDescription=function(D,S){var A="";A+="m="+D+" ",A+=S.codecs.length>0?"9":"0",A+=" UDP/TLS/RTP/SAVPF ",A+=S.codecs.map(function(R){return void 0!==R.preferredPayloadType?R.preferredPayloadType:R.payloadType}).join(" ")+"\r\n",A+="c=IN IP4 0.0.0.0\r\n",A+="a=rtcp:9 IN IP4 0.0.0.0\r\n",S.codecs.forEach(function(R){A+=P.writeRtpMap(R),A+=P.writeFmtp(R),A+=P.writeRtcpFb(R)});var k=0;return S.codecs.forEach(function(R){R.maxptime>k&&(k=R.maxptime)}),k>0&&(A+="a=maxptime:"+k+"\r\n"),A+="a=rtcp-mux\r\n",S.headerExtensions&&S.headerExtensions.forEach(function(R){A+=P.writeExtmap(R)}),A},P.parseRtpEncodingParameters=function(D){var S,A=[],k=P.parseRtpParameters(D),R=-1!==k.fecMechanisms.indexOf("RED"),I=-1!==k.fecMechanisms.indexOf("ULPFEC"),h=P.matchPrefix(D,"a=ssrc:").map(function(E){return P.parseSsrcMedia(E)}).filter(function(E){return"cname"===E.attribute}),C=h.length>0&&h[0].ssrc,_=P.matchPrefix(D,"a=ssrc-group:FID").map(function(E){return E.substr(17).split(" ").map(function(m){return parseInt(m,10)})});_.length>0&&_[0].length>1&&_[0][0]===C&&(S=_[0][1]),k.codecs.forEach(function(E){if("RTX"===E.name.toUpperCase()&&E.parameters.apt){var m={ssrc:C,codecPayloadType:parseInt(E.parameters.apt,10)};C&&S&&(m.rtx={ssrc:S}),A.push(m),R&&((m=JSON.parse(JSON.stringify(m))).fec={ssrc:C,mechanism:I?"red+ulpfec":"red"},A.push(m))}}),0===A.length&&C&&A.push({ssrc:C});var w=P.matchPrefix(D,"b=");return w.length&&(w=0===w[0].indexOf("b=TIAS:")?parseInt(w[0].substr(7),10):0===w[0].indexOf("b=AS:")?1e3*parseInt(w[0].substr(5),10)*.95-16e3:void 0,A.forEach(function(E){E.maxBitrate=w})),A},P.parseRtcpParameters=function(D){var S={},A=P.matchPrefix(D,"a=ssrc:").map(function(I){return P.parseSsrcMedia(I)}).filter(function(I){return"cname"===I.attribute})[0];A&&(S.cname=A.value,S.ssrc=A.ssrc);var k=P.matchPrefix(D,"a=rtcp-rsize");S.reducedSize=k.length>0,S.compound=0===k.length;var R=P.matchPrefix(D,"a=rtcp-mux");return S.mux=R.length>0,S},P.parseMsid=function(D){var S,A=P.matchPrefix(D,"a=msid:");if(1===A.length)return{stream:(S=A[0].substr(7).split(" "))[0],track:S[1]};var k=P.matchPrefix(D,"a=ssrc:").map(function(R){return P.parseSsrcMedia(R)}).filter(function(R){return"msid"===R.attribute});return k.length>0?{stream:(S=k[0].value.split(" "))[0],track:S[1]}:void 0},P.parseSctpDescription=function(D){var S,A=P.parseMLine(D),k=P.matchPrefix(D,"a=max-message-size:");k.length>0&&(S=parseInt(k[0].substr(19),10)),isNaN(S)&&(S=65536);var R=P.matchPrefix(D,"a=sctp-port:");if(R.length>0)return{port:parseInt(R[0].substr(12),10),protocol:A.fmt,maxMessageSize:S};if(P.matchPrefix(D,"a=sctpmap:").length>0){var I=P.matchPrefix(D,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(I[0],10),protocol:I[1],maxMessageSize:S}}},P.writeSctpDescription=function(D,S){var A=[];return A="DTLS/SCTP"!==D.protocol?["m="+D.kind+" 9 "+D.protocol+" "+S.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+S.port+"\r\n"]:["m="+D.kind+" 9 "+D.protocol+" "+S.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+S.port+" "+S.protocol+" 65535\r\n"],void 0!==S.maxMessageSize&&A.push("a=max-message-size:"+S.maxMessageSize+"\r\n"),A.join("")},P.generateSessionId=function(){return Math.random().toString().substr(2,21)},P.writeSessionBoilerplate=function(D,S,A){var k=void 0!==S?S:2;return"v=0\r\no="+(A||"thisisadapterortc")+" "+(D||P.generateSessionId())+" "+k+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},P.writeMediaSection=function(D,S,A,k){var R=P.writeRtpDescription(D.kind,S);if(R+=P.writeIceParameters(D.iceGatherer.getLocalParameters()),R+=P.writeDtlsParameters(D.dtlsTransport.getLocalParameters(),"offer"===A?"actpass":"active"),R+="a=mid:"+D.mid+"\r\n",R+=D.direction?"a="+D.direction+"\r\n":D.rtpSender&&D.rtpReceiver?"a=sendrecv\r\n":D.rtpSender?"a=sendonly\r\n":D.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",D.rtpSender){var I="msid:"+k.id+" "+D.rtpSender.track.id+"\r\n";R+="a="+I,R+="a=ssrc:"+D.sendEncodingParameters[0].ssrc+" "+I,D.sendEncodingParameters[0].rtx&&(R+="a=ssrc:"+D.sendEncodingParameters[0].rtx.ssrc+" "+I,R+="a=ssrc-group:FID "+D.sendEncodingParameters[0].ssrc+" "+D.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return R+="a=ssrc:"+D.sendEncodingParameters[0].ssrc+" cname:"+P.localCName+"\r\n",D.rtpSender&&D.sendEncodingParameters[0].rtx&&(R+="a=ssrc:"+D.sendEncodingParameters[0].rtx.ssrc+" cname:"+P.localCName+"\r\n"),R},P.getDirection=function(D,S){for(var A=P.splitLines(D),k=0;k<A.length;k++)switch(A[k]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return A[k].substr(2)}return S?P.getDirection(S):"sendrecv"},P.getKind=function(D){return P.splitLines(D)[0].split(" ")[0].substr(2)},P.isRejected=function(D){return"0"===D.split(" ",2)[1]},P.parseMLine=function(D){var S=P.splitLines(D)[0].substr(2).split(" ");return{kind:S[0],port:parseInt(S[1],10),protocol:S[2],fmt:S.slice(3).join(" ")}},P.parseOLine=function(D){var S=P.matchPrefix(D,"o=")[0].substr(2).split(" ");return{username:S[0],sessionId:S[1],sessionVersion:parseInt(S[2],10),netType:S[3],addressType:S[4],address:S[5]}},P.isValidSDP=function(D){if("string"!=typeof D||0===D.length)return!1;for(var S=P.splitLines(D),A=0;A<S.length;A++)if(S[A].length<2||"="!==S[A].charAt(1))return!1;return!0},"object"==typeof ie&&(ie.exports=P)},{}],NJ2u:[function(H,ie,L){"use strict";var P=H("sdp");function S(C,_,w,E,m){var v=P.writeRtpDescription(C.kind,_);if(v+=P.writeIceParameters(C.iceGatherer.getLocalParameters()),v+=P.writeDtlsParameters(C.dtlsTransport.getLocalParameters(),"offer"===w?"actpass":m||"active"),v+="a=mid:"+C.mid+"\r\n",v+=C.rtpSender&&C.rtpReceiver?"a=sendrecv\r\n":C.rtpSender?"a=sendonly\r\n":C.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",C.rtpSender){var p=C.rtpSender._initialTrackId||C.rtpSender.track.id;C.rtpSender._initialTrackId=p;var d="msid:"+(E?E.id:"-")+" "+p+"\r\n";v+="a="+d,v+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" "+d,C.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" "+d,v+="a=ssrc-group:FID "+C.sendEncodingParameters[0].ssrc+" "+C.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return v+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" cname:"+P.localCName+"\r\n",C.rtpSender&&C.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" cname:"+P.localCName+"\r\n"),v}function k(C,_){var w={codecs:[],headerExtensions:[],fecMechanisms:[]},E=function(v,p){v=parseInt(v,10);for(var d=0;d<p.length;d++)if(p[d].payloadType===v||p[d].preferredPayloadType===v)return p[d]},m=function(v,p,d,l){var f=E(v.parameters.apt,d),b=E(p.parameters.apt,l);return f&&b&&f.name.toLowerCase()===b.name.toLowerCase()};return C.codecs.forEach(function(v){for(var p=0;p<_.codecs.length;p++){var d=_.codecs[p];if(v.name.toLowerCase()===d.name.toLowerCase()&&v.clockRate===d.clockRate){if("rtx"===v.name.toLowerCase()&&v.parameters&&d.parameters.apt&&!m(v,d,C.codecs,_.codecs))continue;(d=JSON.parse(JSON.stringify(d))).numChannels=Math.min(v.numChannels,d.numChannels),w.codecs.push(d),d.rtcpFeedback=d.rtcpFeedback.filter(function(l){for(var f=0;f<v.rtcpFeedback.length;f++)if(v.rtcpFeedback[f].type===l.type&&v.rtcpFeedback[f].parameter===l.parameter)return!0;return!1});break}}}),C.headerExtensions.forEach(function(v){for(var p=0;p<_.headerExtensions.length;p++){var d=_.headerExtensions[p];if(v.uri===d.uri){w.headerExtensions.push(d);break}}}),w}function R(C,_,w){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[_][C].indexOf(w)}function I(C,_){var w=C.getRemoteCandidates().find(function(E){return _.foundation===E.foundation&&_.ip===E.ip&&_.port===E.port&&_.priority===E.priority&&_.protocol===E.protocol&&_.type===E.type});return w||C.addRemoteCandidate(_),!w}function h(C,_){var w=new Error(_);return w.name=C,w.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[C],w}ie.exports=function(C,_){function w(p,d){d.addTrack(p),d.dispatchEvent(new C.MediaStreamTrackEvent("addtrack",{track:p}))}function E(p,d,l,f){var b=new Event("track");b.track=d,b.receiver=l,b.transceiver={receiver:l},b.streams=f,C.setTimeout(function(){p._dispatchEvent("track",b)})}var m=function(p){var d=this,l=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(b){d[b]=l[b].bind(l)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",p=JSON.parse(JSON.stringify(p||{})),this.usingBundle="max-bundle"===p.bundlePolicy,"negotiate"===p.rtcpMuxPolicy)throw h("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(p.rtcpMuxPolicy||(p.rtcpMuxPolicy="require"),p.iceTransportPolicy){case"all":case"relay":break;default:p.iceTransportPolicy="all"}switch(p.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:p.bundlePolicy="balanced"}if(p.iceServers=function A(C,_){var w=!1;return(C=JSON.parse(JSON.stringify(C))).filter(function(E){if(E&&(E.urls||E.url)){var m=E.urls||E.url;E.url&&!E.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var v="string"==typeof m;return v&&(m=[m]),m=m.filter(function(p){return 0!==p.indexOf("turn:")||-1===p.indexOf("transport=udp")||-1!==p.indexOf("turn:[")||w?0===p.indexOf("stun:")&&_>=14393&&-1===p.indexOf("?transport=udp"):(w=!0,!0)}),delete E.url,E.urls=v?m[0]:m,!!m.length}})}(p.iceServers||[],_),this._iceGatherers=[],p.iceCandidatePoolSize)for(var f=p.iceCandidatePoolSize;f>0;f--)this._iceGatherers.push(new C.RTCIceGatherer({iceServers:p.iceServers,gatherPolicy:p.iceTransportPolicy}));else p.iceCandidatePoolSize=0;this._config=p,this.transceivers=[],this._sdpSessionId=P.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(m.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(m.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),m.prototype.onicecandidate=null,m.prototype.onaddstream=null,m.prototype.ontrack=null,m.prototype.onremovestream=null,m.prototype.onsignalingstatechange=null,m.prototype.oniceconnectionstatechange=null,m.prototype.onconnectionstatechange=null,m.prototype.onicegatheringstatechange=null,m.prototype.onnegotiationneeded=null,m.prototype.ondatachannel=null,m.prototype._dispatchEvent=function(p,d){this._isClosed||(this.dispatchEvent(d),"function"==typeof this["on"+p]&&this["on"+p](d))},m.prototype._emitGatheringStateChange=function(){var p=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",p)},m.prototype.getConfiguration=function(){return this._config},m.prototype.getLocalStreams=function(){return this.localStreams},m.prototype.getRemoteStreams=function(){return this.remoteStreams},m.prototype._createTransceiver=function(p,d){var f={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:p,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)f.iceTransport=this.transceivers[0].iceTransport,f.dtlsTransport=this.transceivers[0].dtlsTransport;else{var b=this._createIceAndDtlsTransports();f.iceTransport=b.iceTransport,f.dtlsTransport=b.dtlsTransport}return d||this.transceivers.push(f),f},m.prototype.addTrack=function(p,d){if(this._isClosed)throw h("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var l;if(this.transceivers.find(function(b){return b.track===p}))throw h("InvalidAccessError","Track already exists.");for(var f=0;f<this.transceivers.length;f++)this.transceivers[f].track||this.transceivers[f].kind!==p.kind||(l=this.transceivers[f]);return l||(l=this._createTransceiver(p.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(d)&&this.localStreams.push(d),l.track=p,l.stream=d,l.rtpSender=new C.RTCRtpSender(p,l.dtlsTransport),l.rtpSender},m.prototype.addStream=function(p){var d=this;if(_>=15025)p.getTracks().forEach(function(f){d.addTrack(f,p)});else{var l=p.clone();p.getTracks().forEach(function(f,b){var O=l.getTracks()[b];f.addEventListener("enabled",function(x){O.enabled=x.enabled})}),l.getTracks().forEach(function(f){d.addTrack(f,l)})}},m.prototype.removeTrack=function(p){if(this._isClosed)throw h("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(p instanceof C.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var d=this.transceivers.find(function(f){return f.rtpSender===p});if(!d)throw h("InvalidAccessError","Sender was not created by this connection.");var l=d.stream;d.rtpSender.stop(),d.rtpSender=null,d.track=null,d.stream=null,-1===this.transceivers.map(function(f){return f.stream}).indexOf(l)&&this.localStreams.indexOf(l)>-1&&this.localStreams.splice(this.localStreams.indexOf(l),1),this._maybeFireNegotiationNeeded()},m.prototype.removeStream=function(p){var d=this;p.getTracks().forEach(function(l){var f=d.getSenders().find(function(b){return b.track===l});f&&d.removeTrack(f)})},m.prototype.getSenders=function(){return this.transceivers.filter(function(p){return!!p.rtpSender}).map(function(p){return p.rtpSender})},m.prototype.getReceivers=function(){return this.transceivers.filter(function(p){return!!p.rtpReceiver}).map(function(p){return p.rtpReceiver})},m.prototype._createIceGatherer=function(p,d){var l=this;if(d&&p>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var f=new C.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(f,"state",{value:"new",writable:!0}),this.transceivers[p].bufferedCandidateEvents=[],this.transceivers[p].bufferCandidates=function(b){var O=!b.candidate||0===Object.keys(b.candidate).length;f.state=O?"completed":"gathering",null!==l.transceivers[p].bufferedCandidateEvents&&l.transceivers[p].bufferedCandidateEvents.push(b)},f.addEventListener("localcandidate",this.transceivers[p].bufferCandidates),f},m.prototype._gather=function(p,d){var l=this,f=this.transceivers[d].iceGatherer;if(!f.onlocalcandidate){var b=this.transceivers[d].bufferedCandidateEvents;this.transceivers[d].bufferedCandidateEvents=null,f.removeEventListener("localcandidate",this.transceivers[d].bufferCandidates),f.onlocalcandidate=function(O){if(!(l.usingBundle&&d>0)){var x=new Event("icecandidate");x.candidate={sdpMid:p,sdpMLineIndex:d};var N=O.candidate,j=!N||0===Object.keys(N).length;if(j)"new"!==f.state&&"gathering"!==f.state||(f.state="completed");else{"new"===f.state&&(f.state="gathering"),N.component=1,N.ufrag=f.getLocalParameters().usernameFragment;var B=P.writeCandidate(N);x.candidate=Object.assign(x.candidate,P.parseCandidate(B)),x.candidate.candidate=B,x.candidate.toJSON=function(){return{candidate:x.candidate.candidate,sdpMid:x.candidate.sdpMid,sdpMLineIndex:x.candidate.sdpMLineIndex,usernameFragment:x.candidate.usernameFragment}}}var V=P.getMediaSections(l._localDescription.sdp);V[x.candidate.sdpMLineIndex]+=j?"a=end-of-candidates\r\n":"a="+x.candidate.candidate+"\r\n",l._localDescription.sdp=P.getDescription(l._localDescription.sdp)+V.join("");var W=l.transceivers.every(function(Z){return Z.iceGatherer&&"completed"===Z.iceGatherer.state});"gathering"!==l.iceGatheringState&&(l.iceGatheringState="gathering",l._emitGatheringStateChange()),j||l._dispatchEvent("icecandidate",x),W&&(l._dispatchEvent("icecandidate",new Event("icecandidate")),l.iceGatheringState="complete",l._emitGatheringStateChange())}},C.setTimeout(function(){b.forEach(function(O){f.onlocalcandidate(O)})},0)}},m.prototype._createIceAndDtlsTransports=function(){var p=this,d=new C.RTCIceTransport(null);d.onicestatechange=function(){p._updateIceConnectionState(),p._updateConnectionState()};var l=new C.RTCDtlsTransport(d);return l.ondtlsstatechange=function(){p._updateConnectionState()},l.onerror=function(){Object.defineProperty(l,"state",{value:"failed",writable:!0}),p._updateConnectionState()},{iceTransport:d,dtlsTransport:l}},m.prototype._disposeIceAndDtlsTransports=function(p){var d=this.transceivers[p].iceGatherer;d&&(delete d.onlocalcandidate,delete this.transceivers[p].iceGatherer);var l=this.transceivers[p].iceTransport;l&&(delete l.onicestatechange,delete this.transceivers[p].iceTransport);var f=this.transceivers[p].dtlsTransport;f&&(delete f.ondtlsstatechange,delete f.onerror,delete this.transceivers[p].dtlsTransport)},m.prototype._transceive=function(p,d,l){var f=k(p.localCapabilities,p.remoteCapabilities);d&&p.rtpSender&&(f.encodings=p.sendEncodingParameters,f.rtcp={cname:P.localCName,compound:p.rtcpParameters.compound},p.recvEncodingParameters.length&&(f.rtcp.ssrc=p.recvEncodingParameters[0].ssrc),p.rtpSender.send(f)),l&&p.rtpReceiver&&f.codecs.length>0&&("video"===p.kind&&p.recvEncodingParameters&&_<15019&&p.recvEncodingParameters.forEach(function(b){delete b.rtx}),f.encodings=p.recvEncodingParameters.length?p.recvEncodingParameters:[{}],f.rtcp={compound:p.rtcpParameters.compound},p.rtcpParameters.cname&&(f.rtcp.cname=p.rtcpParameters.cname),p.sendEncodingParameters.length&&(f.rtcp.ssrc=p.sendEncodingParameters[0].ssrc),p.rtpReceiver.receive(f))},m.prototype.setLocalDescription=function(p){var d,l,f=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!R("setLocalDescription",p.type,f.signalingState)||f._isClosed)return Promise.reject(h("InvalidStateError","Can not set local "+p.type+" in state "+f.signalingState));if("offer"===p.type)d=P.splitSections(p.sdp),l=d.shift(),d.forEach(function(O,x){var N=P.parseRtpParameters(O);f.transceivers[x].localCapabilities=N}),f.transceivers.forEach(function(O,x){f._gather(O.mid,x)});else if("answer"===p.type){d=P.splitSections(f._remoteDescription.sdp),l=d.shift();var b=P.matchPrefix(l,"a=ice-lite").length>0;d.forEach(function(O,x){var N=f.transceivers[x],j=N.iceGatherer,B=N.iceTransport,V=N.dtlsTransport,W=N.localCapabilities,Z=N.remoteCapabilities;if(!(P.isRejected(O)&&0===P.matchPrefix(O,"a=bundle-only").length||N.rejected)){var le=P.getIceParameters(O,l),se=P.getDtlsParameters(O,l);b&&(se.role="server"),f.usingBundle&&0!==x||(f._gather(N.mid,x),"new"===B.state&&B.start(j,le,b?"controlling":"controlled"),"new"===V.state&&V.start(se));var de=k(W,Z);f._transceive(N,de.codecs.length>0,!1)}})}return f._localDescription={type:p.type,sdp:p.sdp},f._updateSignalingState("offer"===p.type?"have-local-offer":"stable"),Promise.resolve()},m.prototype.setRemoteDescription=function(p){var d=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!R("setRemoteDescription",p.type,d.signalingState)||d._isClosed)return Promise.reject(h("InvalidStateError","Can not set remote "+p.type+" in state "+d.signalingState));var l={};d.remoteStreams.forEach(function(B){l[B.id]=B});var f=[],b=P.splitSections(p.sdp),O=b.shift(),x=P.matchPrefix(O,"a=ice-lite").length>0,N=P.matchPrefix(O,"a=group:BUNDLE ").length>0;d.usingBundle=N;var j=P.matchPrefix(O,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!j&&j.substr(14).split(" ").indexOf("trickle")>=0,b.forEach(function(B,V){var W=P.splitLines(B),Z=P.getKind(B),le=P.isRejected(B)&&0===P.matchPrefix(B,"a=bundle-only").length,se=W[0].substr(2).split(" ")[2],de=P.getDirection(B,O),He=P.parseMsid(B),Ps=P.getMid(B)||P.generateIdentifier();if(le||"application"===Z&&("DTLS/SCTP"===se||"UDP/DTLS/SCTP"===se))d.transceivers[V]={mid:Ps,kind:Z,protocol:se,rejected:!0};else{var Se,Rs,We,ri,rn,et,Je,Pr,we;!le&&d.transceivers[V]&&d.transceivers[V].rejected&&(d.transceivers[V]=d._createTransceiver(Z,!0));var ii,xc,co=P.parseRtpParameters(B);le||(ii=P.getIceParameters(B,O),(xc=P.getDtlsParameters(B,O)).role="client"),Je=P.parseRtpEncodingParameters(B);var kc=P.parseRtcpParameters(B),Nc=P.matchPrefix(B,"a=end-of-candidates",O).length>0,Rr=P.matchPrefix(B,"a=candidate:").map(function(Mt){return P.parseCandidate(Mt)}).filter(function(Mt){return 1===Mt.component});if(("offer"===p.type||"answer"===p.type)&&!le&&N&&V>0&&d.transceivers[V]&&(d._disposeIceAndDtlsTransports(V),d.transceivers[V].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[V].iceTransport=d.transceivers[0].iceTransport,d.transceivers[V].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[V].rtpSender&&d.transceivers[V].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[V].rtpReceiver&&d.transceivers[V].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==p.type||le)"answer"===p.type&&!le&&(Rs=(Se=d.transceivers[V]).iceGatherer,We=Se.iceTransport,ri=Se.dtlsTransport,rn=Se.rtpReceiver,et=Se.sendEncodingParameters,Pr=Se.localCapabilities,d.transceivers[V].recvEncodingParameters=Je,d.transceivers[V].remoteCapabilities=co,d.transceivers[V].rtcpParameters=kc,Rr.length&&"new"===We.state&&(!x&&!Nc||N&&0!==V?Rr.forEach(function(Mt){I(Se.iceTransport,Mt)}):We.setRemoteCandidates(Rr)),N&&0!==V||("new"===We.state&&We.start(Rs,ii,"controlling"),"new"===ri.state&&ri.start(xc)),!k(Se.localCapabilities,Se.remoteCapabilities).codecs.filter(function(Mt){return"rtx"===Mt.name.toLowerCase()}).length&&Se.sendEncodingParameters[0].rtx&&delete Se.sendEncodingParameters[0].rtx,d._transceive(Se,"sendrecv"===de||"recvonly"===de,"sendrecv"===de||"sendonly"===de),!rn||"sendrecv"!==de&&"sendonly"!==de?delete Se.rtpReceiver:(we=rn.track,He?(l[He.stream]||(l[He.stream]=new C.MediaStream),w(we,l[He.stream]),f.push([we,rn,l[He.stream]])):(l.default||(l.default=new C.MediaStream),w(we,l.default),f.push([we,rn,l.default]))));else{(Se=d.transceivers[V]||d._createTransceiver(Z)).mid=Ps,Se.iceGatherer||(Se.iceGatherer=d._createIceGatherer(V,N)),Rr.length&&"new"===Se.iceTransport.state&&(!Nc||N&&0!==V?Rr.forEach(function(Mt){I(Se.iceTransport,Mt)}):Se.iceTransport.setRemoteCandidates(Rr)),Pr=C.RTCRtpReceiver.getCapabilities(Z),_<15019&&(Pr.codecs=Pr.codecs.filter(function(Mt){return"rtx"!==Mt.name})),et=Se.sendEncodingParameters||[{ssrc:1001*(2*V+2)}];var Or,uo=!1;"sendrecv"===de||"sendonly"===de?(uo=!Se.rtpReceiver,rn=Se.rtpReceiver||new C.RTCRtpReceiver(Se.dtlsTransport,Z),uo&&(we=rn.track,He&&"-"===He.stream||(He?(l[He.stream]||(l[He.stream]=new C.MediaStream,Object.defineProperty(l[He.stream],"id",{get:function(){return He.stream}})),Object.defineProperty(we,"id",{get:function(){return He.track}}),Or=l[He.stream]):(l.default||(l.default=new C.MediaStream),Or=l.default)),Or&&(w(we,Or),Se.associatedRemoteMediaStreams.push(Or)),f.push([we,rn,Or]))):Se.rtpReceiver&&Se.rtpReceiver.track&&(Se.associatedRemoteMediaStreams.forEach(function(Mt){var oi,Fc,lo=Mt.getTracks().find(function(Lc){return Lc.id===Se.rtpReceiver.track.id});lo&&((Fc=Mt).removeTrack(oi=lo),Fc.dispatchEvent(new C.MediaStreamTrackEvent("removetrack",{track:oi})))}),Se.associatedRemoteMediaStreams=[]),Se.localCapabilities=Pr,Se.remoteCapabilities=co,Se.rtpReceiver=rn,Se.rtcpParameters=kc,Se.sendEncodingParameters=et,Se.recvEncodingParameters=Je,d._transceive(d.transceivers[V],!1,uo)}}}),void 0===d._dtlsRole&&(d._dtlsRole="offer"===p.type?"active":"passive"),d._remoteDescription={type:p.type,sdp:p.sdp},d._updateSignalingState("offer"===p.type?"have-remote-offer":"stable"),Object.keys(l).forEach(function(B){var V=l[B];if(V.getTracks().length){if(-1===d.remoteStreams.indexOf(V)){d.remoteStreams.push(V);var W=new Event("addstream");W.stream=V,C.setTimeout(function(){d._dispatchEvent("addstream",W)})}f.forEach(function(Z){V.id===Z[2].id&&E(d,Z[0],Z[1],[V])})}}),f.forEach(function(B){B[2]||E(d,B[0],B[1],[])}),C.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(B){B.iceTransport&&"new"===B.iceTransport.state&&B.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),B.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},m.prototype.close=function(){this.transceivers.forEach(function(p){p.iceTransport&&p.iceTransport.stop(),p.dtlsTransport&&p.dtlsTransport.stop(),p.rtpSender&&p.rtpSender.stop(),p.rtpReceiver&&p.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},m.prototype._updateSignalingState=function(p){this.signalingState=p;var d=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",d)},m.prototype._maybeFireNegotiationNeeded=function(){var p=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,C.setTimeout(function(){if(p.needNegotiation){p.needNegotiation=!1;var d=new Event("negotiationneeded");p._dispatchEvent("negotiationneeded",d)}},0))},m.prototype._updateIceConnectionState=function(){var p,d={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&!f.rejected&&d[f.iceTransport.state]++}),p="new",d.failed>0?p="failed":d.checking>0?p="checking":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0?p="connected":d.completed>0&&(p="completed"),p!==this.iceConnectionState){this.iceConnectionState=p;var l=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",l)}},m.prototype._updateConnectionState=function(){var p,d={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&f.dtlsTransport&&!f.rejected&&(d[f.iceTransport.state]++,d[f.dtlsTransport.state]++)}),d.connected+=d.completed,p="new",d.failed>0?p="failed":d.connecting>0?p="connecting":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0&&(p="connected"),p!==this.connectionState){this.connectionState=p;var l=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",l)}},m.prototype.createOffer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createOffer after close"));var d=p.transceivers.filter(function(x){return"audio"===x.kind}).length,l=p.transceivers.filter(function(x){return"video"===x.kind}).length,f=arguments[0];if(f){if(f.mandatory||f.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==f.offerToReceiveAudio&&(d=!0===f.offerToReceiveAudio?1:!1===f.offerToReceiveAudio?0:f.offerToReceiveAudio),void 0!==f.offerToReceiveVideo&&(l=!0===f.offerToReceiveVideo?1:!1===f.offerToReceiveVideo?0:f.offerToReceiveVideo)}for(p.transceivers.forEach(function(x){"audio"===x.kind?--d<0&&(x.wantReceive=!1):"video"===x.kind&&--l<0&&(x.wantReceive=!1)});d>0||l>0;)d>0&&(p._createTransceiver("audio"),d--),l>0&&(p._createTransceiver("video"),l--);var b=P.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.transceivers.forEach(function(x,N){var j=x.track,B=x.kind,V=x.mid||P.generateIdentifier();x.mid=V,x.iceGatherer||(x.iceGatherer=p._createIceGatherer(N,p.usingBundle));var W=C.RTCRtpSender.getCapabilities(B);_<15019&&(W.codecs=W.codecs.filter(function(le){return"rtx"!==le.name})),W.codecs.forEach(function(le){"H264"===le.name&&void 0===le.parameters["level-asymmetry-allowed"]&&(le.parameters["level-asymmetry-allowed"]="1"),x.remoteCapabilities&&x.remoteCapabilities.codecs&&x.remoteCapabilities.codecs.forEach(function(se){le.name.toLowerCase()===se.name.toLowerCase()&&le.clockRate===se.clockRate&&(le.preferredPayloadType=se.payloadType)})}),W.headerExtensions.forEach(function(le){(x.remoteCapabilities&&x.remoteCapabilities.headerExtensions||[]).forEach(function(se){le.uri===se.uri&&(le.id=se.id)})});var Z=x.sendEncodingParameters||[{ssrc:1001*(2*N+1)}];j&&_>=15019&&"video"===B&&!Z[0].rtx&&(Z[0].rtx={ssrc:Z[0].ssrc+1}),x.wantReceive&&(x.rtpReceiver=new C.RTCRtpReceiver(x.dtlsTransport,B)),x.localCapabilities=W,x.sendEncodingParameters=Z}),"max-compat"!==p._config.bundlePolicy&&(b+="a=group:BUNDLE "+p.transceivers.map(function(x){return x.mid}).join(" ")+"\r\n"),b+="a=ice-options:trickle\r\n",p.transceivers.forEach(function(x,N){b+=S(x,x.localCapabilities,"offer",x.stream,p._dtlsRole),b+="a=rtcp-rsize\r\n",!x.iceGatherer||"new"===p.iceGatheringState||0!==N&&p.usingBundle||(x.iceGatherer.getLocalCandidates().forEach(function(j){j.component=1,b+="a="+P.writeCandidate(j)+"\r\n"}),"completed"===x.iceGatherer.state&&(b+="a=end-of-candidates\r\n"))});var O=new C.RTCSessionDescription({type:"offer",sdp:b});return Promise.resolve(O)},m.prototype.createAnswer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==p.signalingState&&"have-local-pranswer"!==p.signalingState)return Promise.reject(h("InvalidStateError","Can not call createAnswer in signalingState "+p.signalingState));var d=P.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.usingBundle&&(d+="a=group:BUNDLE "+p.transceivers.map(function(b){return b.mid}).join(" ")+"\r\n"),d+="a=ice-options:trickle\r\n";var l=P.getMediaSections(p._remoteDescription.sdp).length;p.transceivers.forEach(function(b,O){if(!(O+1>l)){if(b.rejected)return"application"===b.kind?d+="DTLS/SCTP"===b.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+b.protocol+" webrtc-datachannel\r\n":"audio"===b.kind?d+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===b.kind&&(d+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(d+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+b.mid+"\r\n");var x;b.stream&&("audio"===b.kind?x=b.stream.getAudioTracks()[0]:"video"===b.kind&&(x=b.stream.getVideoTracks()[0]),x&&_>=15019&&"video"===b.kind&&!b.sendEncodingParameters[0].rtx&&(b.sendEncodingParameters[0].rtx={ssrc:b.sendEncodingParameters[0].ssrc+1}));var N=k(b.localCapabilities,b.remoteCapabilities);!N.codecs.filter(function(j){return"rtx"===j.name.toLowerCase()}).length&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,d+=S(b,N,"answer",b.stream,p._dtlsRole),b.rtcpParameters&&b.rtcpParameters.reducedSize&&(d+="a=rtcp-rsize\r\n")}});var f=new C.RTCSessionDescription({type:"answer",sdp:d});return Promise.resolve(f)},m.prototype.addIceCandidate=function(p){var d,l=this;return p&&void 0===p.sdpMLineIndex&&!p.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(f,b){if(!l._remoteDescription)return b(h("InvalidStateError","Can not add ICE candidate without a remote description"));if(p&&""!==p.candidate){var O=p.sdpMLineIndex;if(p.sdpMid)for(var x=0;x<l.transceivers.length;x++)if(l.transceivers[x].mid===p.sdpMid){O=x;break}var N=l.transceivers[O];if(!N)return b(h("OperationError","Can not add ICE candidate"));if(N.rejected)return f();var j=Object.keys(p.candidate).length>0?P.parseCandidate(p.candidate):{};if("tcp"===j.protocol&&(0===j.port||9===j.port)||j.component&&1!==j.component)return f();if((0===O||O>0&&N.iceTransport!==l.transceivers[0].iceTransport)&&!I(N.iceTransport,j))return b(h("OperationError","Can not add ICE candidate"));var B=p.candidate.trim();0===B.indexOf("a=")&&(B=B.substr(2)),(d=P.getMediaSections(l._remoteDescription.sdp))[O]+="a="+(j.type?B:"end-of-candidates")+"\r\n",l._remoteDescription.sdp=P.getDescription(l._remoteDescription.sdp)+d.join("")}else for(var V=0;V<l.transceivers.length&&(l.transceivers[V].rejected||(l.transceivers[V].iceTransport.addRemoteCandidate({}),(d=P.getMediaSections(l._remoteDescription.sdp))[V]+="a=end-of-candidates\r\n",l._remoteDescription.sdp=P.getDescription(l._remoteDescription.sdp)+d.join(""),!l.usingBundle));V++);f()})},m.prototype.getStats=function(p){if(p&&p instanceof C.MediaStreamTrack){var d=null;if(this.transceivers.forEach(function(f){f.rtpSender&&f.rtpSender.track===p?d=f.rtpSender:f.rtpReceiver&&f.rtpReceiver.track===p&&(d=f.rtpReceiver)}),!d)throw h("InvalidAccessError","Invalid selector.");return d.getStats()}var l=[];return this.transceivers.forEach(function(f){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(b){f[b]&&l.push(f[b].getStats())})}),Promise.all(l).then(function(f){var b=new Map;return f.forEach(function(O){O.forEach(function(x){b.set(x.id,x)})}),b})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(p){var d=C[p];if(d&&d.prototype&&d.prototype.getStats){var l=d.prototype.getStats;d.prototype.getStats=function(){return l.apply(this).then(function(f){var b=new Map;return Object.keys(f).forEach(function(O){f[O].type=function D(C){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[C.type]||C.type}(f[O]),b.set(O,f[O])}),b})}}});var v=["createOffer","createAnswer"];return v.forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[0]||"function"==typeof l[1]?d.apply(this,[arguments[2]]).then(function(f){"function"==typeof l[0]&&l[0].apply(null,[f])},function(f){"function"==typeof l[1]&&l[1].apply(null,[f])}):d.apply(this,arguments)}}),(v=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]||"function"==typeof l[2]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)},function(f){"function"==typeof l[2]&&l[2].apply(null,[f])}):d.apply(this,arguments)}}),["getStats"].forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)}):d.apply(this,arguments)}}),m}},{sdp:"YHvh"}],YdKx:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetUserMedia=function P(D){var S=D&&D.navigator,A=S.mediaDevices.getUserMedia.bind(S.mediaDevices);S.mediaDevices.getUserMedia=function(k){return A(k).catch(function(R){return Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[(I=R).name]||I.name,message:I.message,constraint:I.constraint,toString:function(){return this.name}});var I})}}},{}],P3bV:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetDisplayMedia=function P(D){"getDisplayMedia"in D.navigator&&D.navigator.mediaDevices&&(D.navigator.mediaDevices&&"getDisplayMedia"in D.navigator.mediaDevices||(D.navigator.mediaDevices.getDisplayMedia=D.navigator.getDisplayMedia.bind(D.navigator)))}},{}],XRic:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimPeerConnection=function C(w,E){if(w.RTCIceGatherer&&(w.RTCIceCandidate||(w.RTCIceCandidate=function(p){return p}),w.RTCSessionDescription||(w.RTCSessionDescription=function(p){return p}),E.version<15025)){var m=Object.getOwnPropertyDescriptor(w.MediaStreamTrack.prototype,"enabled");Object.defineProperty(w.MediaStreamTrack.prototype,"enabled",{set:function(p){m.set.call(this,p);var d=new Event("enabled");d.enabled=p,this.dispatchEvent(d)}})}!w.RTCRtpSender||"dtmf"in w.RTCRtpSender.prototype||Object.defineProperty(w.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new w.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),w.RTCDtmfSender&&!w.RTCDTMFSender&&(w.RTCDTMFSender=w.RTCDtmfSender);var v=(0,S.default)(w,E.version);w.RTCPeerConnection=function(p){return p&&p.iceServers&&(p.iceServers=(0,D.filterIceServers)(p.iceServers,E.version),P.log("ICE servers after filtering:",p.iceServers)),new v(p)},w.RTCPeerConnection.prototype=v.prototype},L.shimReplaceTrack=function _(w){!w.RTCRtpSender||"replaceTrack"in w.RTCRtpSender.prototype||(w.RTCRtpSender.prototype.replaceTrack=w.RTCRtpSender.prototype.setTrack)},Object.defineProperty(L,"shimGetUserMedia",{enumerable:!0,get:function(){return A.shimGetUserMedia}}),Object.defineProperty(L,"shimGetDisplayMedia",{enumerable:!0,get:function(){return k.shimGetDisplayMedia}});var P=function h(w){if(w&&w.__esModule)return w;if(null===w||"object"!=typeof w&&"function"!=typeof w)return{default:w};var E=I();if(E&&E.has(w))return E.get(w);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in w)if(Object.prototype.hasOwnProperty.call(w,p)){var d=v?Object.getOwnPropertyDescriptor(w,p):null;d&&(d.get||d.set)?Object.defineProperty(m,p,d):m[p]=w[p]}return m.default=w,E&&E.set(w,m),m}(H("../utils")),D=H("./filtericeservers"),S=function R(w){return w&&w.__esModule?w:{default:w}}(H("rtcpeerconnection-shim")),A=H("./getusermedia"),k=H("./getdisplaymedia");function I(){if("function"!=typeof WeakMap)return null;var w=new WeakMap;return I=function(){return w},w}},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetUserMedia=function k(R,I){var h=R&&R.navigator,C=R&&R.MediaStreamTrack;if(h.getUserMedia=function(v,p,d){P.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),h.mediaDevices.getUserMedia(v).then(p,d)},!(I.version>55&&"autoGainControl"in h.mediaDevices.getSupportedConstraints())){var _=function(v,p,d){p in v&&!(d in v)&&(v[d]=v[p],delete v[p])},w=h.mediaDevices.getUserMedia.bind(h.mediaDevices);if(h.mediaDevices.getUserMedia=function(v){return"object"===A(v)&&"object"===A(v.audio)&&(v=JSON.parse(JSON.stringify(v)),_(v.audio,"autoGainControl","mozAutoGainControl"),_(v.audio,"noiseSuppression","mozNoiseSuppression")),w(v)},C&&C.prototype.getSettings){var E=C.prototype.getSettings;C.prototype.getSettings=function(){var v=E.apply(this,arguments);return _(v,"mozAutoGainControl","autoGainControl"),_(v,"mozNoiseSuppression","noiseSuppression"),v}}if(C&&C.prototype.applyConstraints){var m=C.prototype.applyConstraints;C.prototype.applyConstraints=function(v){return"audio"===this.kind&&"object"===A(v)&&(v=JSON.parse(JSON.stringify(v)),_(v,"autoGainControl","mozAutoGainControl"),_(v,"noiseSuppression","mozNoiseSuppression")),m.apply(this,[v])}}}};var P=function S(R){if(R&&R.__esModule)return R;if(null===R||"object"!=typeof R&&"function"!=typeof R)return{default:R};var I=D();if(I&&I.has(R))return I.get(R);var h={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in R)if(Object.prototype.hasOwnProperty.call(R,_)){var w=C?Object.getOwnPropertyDescriptor(R,_):null;w&&(w.get||w.set)?Object.defineProperty(h,_,w):h[_]=R[_]}return h.default=R,I&&I.set(R,h),h}(H("../utils"));function D(){if("function"!=typeof WeakMap)return null;var R=new WeakMap;return D=function(){return R},R}function A(R){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(R)}},{"../utils":"iSxC"}],UuGU:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimGetDisplayMedia=function P(D,S){D.navigator.mediaDevices&&"getDisplayMedia"in D.navigator.mediaDevices||D.navigator.mediaDevices&&(D.navigator.mediaDevices.getDisplayMedia=function(A){if(!A||!A.video){var k=new DOMException("getDisplayMedia without video constraints is undefined");return k.name="NotFoundError",k.code=8,Promise.reject(k)}return!0===A.video?A.video={mediaSource:S}:A.video.mediaSource=S,D.navigator.mediaDevices.getUserMedia(A)})}},{}],Fzdr:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimOnTrack=function h(f){"object"===I(f)&&f.RTCTrackEvent&&"receiver"in f.RTCTrackEvent.prototype&&!("transceiver"in f.RTCTrackEvent.prototype)&&Object.defineProperty(f.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},L.shimPeerConnection=function C(f,b){if("object"===I(f)&&(f.RTCPeerConnection||f.mozRTCPeerConnection)){!f.RTCPeerConnection&&f.mozRTCPeerConnection&&(f.RTCPeerConnection=f.mozRTCPeerConnection),b.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(N){var j=f.RTCPeerConnection.prototype[N],B=function R(f,b,O){return b in f?Object.defineProperty(f,b,{value:O,enumerable:!0,configurable:!0,writable:!0}):f[b]=O,f}({},N,function(){return arguments[0]=new("addIceCandidate"===N?f.RTCIceCandidate:f.RTCSessionDescription)(arguments[0]),j.apply(this,arguments)});f.RTCPeerConnection.prototype[N]=B[N]});var O={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},x=f.RTCPeerConnection.prototype.getStats;f.RTCPeerConnection.prototype.getStats=function(){var[N,j,B]=arguments;return x.apply(this,[N||null]).then(function(V){if(b.version<53&&!j)try{V.forEach(function(W){W.type=O[W.type]||W.type})}catch(W){if("TypeError"!==W.name)throw W;V.forEach(function(Z,le){V.set(le,Object.assign({},Z,{type:O[Z.type]||Z.type}))})}return V}).then(j,B)}}},L.shimSenderGetStats=function _(f){if("object"===I(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpSender.prototype))){var b=f.RTCPeerConnection.prototype.getSenders;b&&(f.RTCPeerConnection.prototype.getSenders=function(){var x=this,N=b.apply(this,[]);return N.forEach(function(j){return j._pc=x}),N});var O=f.RTCPeerConnection.prototype.addTrack;O&&(f.RTCPeerConnection.prototype.addTrack=function(){var x=O.apply(this,arguments);return x._pc=this,x}),f.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},L.shimReceiverGetStats=function w(f){if("object"===I(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpReceiver.prototype))){var b=f.RTCPeerConnection.prototype.getReceivers;b&&(f.RTCPeerConnection.prototype.getReceivers=function(){var O=this,x=b.apply(this,[]);return x.forEach(function(N){return N._pc=O}),x}),P.wrapPeerConnectionEvent(f,"track",function(O){return O.receiver._pc=O.srcElement,O}),f.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},L.shimRemoveStream=function E(f){!f.RTCPeerConnection||"removeStream"in f.RTCPeerConnection.prototype||(f.RTCPeerConnection.prototype.removeStream=function(b){var O=this;P.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(x){x.track&&b.getTracks().includes(x.track)&&O.removeTrack(x)})})},L.shimRTCDataChannel=function m(f){f.DataChannel&&!f.RTCDataChannel&&(f.RTCDataChannel=f.DataChannel)},L.shimAddTransceiver=function v(f){if("object"===I(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.addTransceiver;b&&(f.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var O=arguments[1],x=O&&"sendEncodings"in O;x&&O.sendEncodings.forEach(function(V){if("rid"in V&&!/^[a-z0-9]{0,16}$/i.test(V.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in V&&!(parseFloat(V.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in V&&!(parseFloat(V.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var N=b.apply(this,arguments);if(x){var{sender:j}=N,B=j.getParameters();"encodings"in B&&(1!==B.encodings.length||0!==Object.keys(B.encodings[0]).length)||(B.encodings=O.sendEncodings,j.sendEncodings=O.sendEncodings,this.setParametersPromises.push(j.setParameters(B).then(function(){delete j.sendEncodings}).catch(function(){delete j.sendEncodings})))}return N})}},L.shimGetParameters=function p(f){if("object"===I(f)&&f.RTCRtpSender){var b=f.RTCRtpSender.prototype.getParameters;b&&(f.RTCRtpSender.prototype.getParameters=function(){var O=b.apply(this,arguments);return"encodings"in O||(O.encodings=[].concat(this.sendEncodings||[{}])),O})}},L.shimCreateOffer=function d(f){if("object"===I(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.createOffer;f.RTCPeerConnection.prototype.createOffer=function(){var O=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return b.apply(x,O)}).finally(function(){x.setParametersPromises=[]}):b.apply(this,arguments)}}},L.shimCreateAnswer=function l(f){if("object"===I(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.createAnswer;f.RTCPeerConnection.prototype.createAnswer=function(){var O=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return b.apply(x,O)}).finally(function(){x.setParametersPromises=[]}):b.apply(this,arguments)}}},Object.defineProperty(L,"shimGetUserMedia",{enumerable:!0,get:function(){return D.shimGetUserMedia}}),Object.defineProperty(L,"shimGetDisplayMedia",{enumerable:!0,get:function(){return S.shimGetDisplayMedia}});var P=function k(f){if(f&&f.__esModule)return f;if(null===f||"object"!=typeof f&&"function"!=typeof f)return{default:f};var b=A();if(b&&b.has(f))return b.get(f);var O={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in f)if(Object.prototype.hasOwnProperty.call(f,N)){var j=x?Object.getOwnPropertyDescriptor(f,N):null;j&&(j.get||j.set)?Object.defineProperty(O,N,j):O[N]=f[N]}return O.default=f,b&&b.set(f,O),O}(H("../utils")),D=H("./getusermedia"),S=H("./getdisplaymedia");function A(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return A=function(){return f},f}function I(f){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimLocalStreamsAPI=function k(v){if("object"===A(v)&&v.RTCPeerConnection){if("getLocalStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in v.RTCPeerConnection.prototype)){var p=v.RTCPeerConnection.prototype.addTrack;v.RTCPeerConnection.prototype.addStream=function(d){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(d)||this._localStreams.push(d),d.getAudioTracks().forEach(function(f){return p.call(l,f,d)}),d.getVideoTracks().forEach(function(f){return p.call(l,f,d)})},v.RTCPeerConnection.prototype.addTrack=function(d){for(var l=this,f=arguments.length,b=new Array(f>1?f-1:0),O=1;O<f;O++)b[O-1]=arguments[O];return b&&b.forEach(function(x){l._localStreams?l._localStreams.includes(x)||l._localStreams.push(x):l._localStreams=[x]}),p.apply(this,arguments)}}"removeStream"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.removeStream=function(d){var l=this;this._localStreams||(this._localStreams=[]);var f=this._localStreams.indexOf(d);if(-1!==f){this._localStreams.splice(f,1);var b=d.getTracks();this.getSenders().forEach(function(O){b.includes(O.track)&&l.removeTrack(O)})}})}},L.shimRemoteStreamsAPI=function R(v){if("object"===A(v)&&v.RTCPeerConnection&&("getRemoteStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in v.RTCPeerConnection.prototype))){Object.defineProperty(v.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(d){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=d),this.addEventListener("track",this._onaddstreampoly=function(f){f.streams.forEach(function(b){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(b)){l._remoteStreams.push(b);var O=new Event("addstream");O.stream=b,l.dispatchEvent(O)}})})}});var p=v.RTCPeerConnection.prototype.setRemoteDescription;v.RTCPeerConnection.prototype.setRemoteDescription=function(){var d=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(f){if(d._remoteStreams||(d._remoteStreams=[]),!(d._remoteStreams.indexOf(f)>=0)){d._remoteStreams.push(f);var b=new Event("addstream");b.stream=f,d.dispatchEvent(b)}})}),p.apply(d,arguments)}}},L.shimCallbacksAPI=function I(v){if("object"===A(v)&&v.RTCPeerConnection){var p=v.RTCPeerConnection.prototype,d=p.createOffer,l=p.createAnswer,f=p.setLocalDescription,b=p.setRemoteDescription,O=p.addIceCandidate;p.createOffer=function(N,j){var B=arguments.length>=2?arguments[2]:arguments[0],V=d.apply(this,[B]);return j?(V.then(N,j),Promise.resolve()):V},p.createAnswer=function(N,j){var B=arguments.length>=2?arguments[2]:arguments[0],V=l.apply(this,[B]);return j?(V.then(N,j),Promise.resolve()):V};var x=function(N,j,B){var V=f.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V};p.setLocalDescription=x,p.setRemoteDescription=x=function(N,j,B){var V=b.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V},p.addIceCandidate=x=function(N,j,B){var V=O.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V}}},L.shimGetUserMedia=function h(v){var p=v&&v.navigator;if(p.mediaDevices&&p.mediaDevices.getUserMedia){var d=p.mediaDevices,l=d.getUserMedia.bind(d);p.mediaDevices.getUserMedia=function(f){return l(C(f))}}!p.getUserMedia&&p.mediaDevices&&p.mediaDevices.getUserMedia&&(p.getUserMedia=function(f,b,O){p.mediaDevices.getUserMedia(f).then(b,O)}.bind(p))},L.shimConstraints=C,L.shimRTCIceServerUrls=function _(v){if(v.RTCPeerConnection){var p=v.RTCPeerConnection;v.RTCPeerConnection=function(d,l){if(d&&d.iceServers){for(var f=[],b=0;b<d.iceServers.length;b++){var O=d.iceServers[b];!O.hasOwnProperty("urls")&&O.hasOwnProperty("url")?(P.deprecated("RTCIceServer.url","RTCIceServer.urls"),(O=JSON.parse(JSON.stringify(O))).urls=O.url,delete O.url,f.push(O)):f.push(d.iceServers[b])}d.iceServers=f}return new p(d,l)},v.RTCPeerConnection.prototype=p.prototype,"generateCertificate"in p&&Object.defineProperty(v.RTCPeerConnection,"generateCertificate",{get:function(){return p.generateCertificate}})}},L.shimTrackEventTransceiver=function w(v){"object"===A(v)&&v.RTCTrackEvent&&"receiver"in v.RTCTrackEvent.prototype&&!("transceiver"in v.RTCTrackEvent.prototype)&&Object.defineProperty(v.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},L.shimCreateOfferLegacy=function E(v){var p=v.RTCPeerConnection.prototype.createOffer;v.RTCPeerConnection.prototype.createOffer=function(d){if(d){void 0!==d.offerToReceiveAudio&&(d.offerToReceiveAudio=!!d.offerToReceiveAudio);var l=this.getTransceivers().find(function(b){return"audio"===b.receiver.track.kind});!1===d.offerToReceiveAudio&&l?"sendrecv"===l.direction?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":"recvonly"===l.direction&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):!0!==d.offerToReceiveAudio||l||this.addTransceiver("audio"),void 0!==d.offerToReceiveVideo&&(d.offerToReceiveVideo=!!d.offerToReceiveVideo);var f=this.getTransceivers().find(function(b){return"video"===b.receiver.track.kind});!1===d.offerToReceiveVideo&&f?"sendrecv"===f.direction?f.setDirection?f.setDirection("sendonly"):f.direction="sendonly":"recvonly"===f.direction&&(f.setDirection?f.setDirection("inactive"):f.direction="inactive"):!0!==d.offerToReceiveVideo||f||this.addTransceiver("video")}return p.apply(this,arguments)}},L.shimAudioContext=function m(v){"object"!==A(v)||v.AudioContext||(v.AudioContext=v.webkitAudioContext)};var P=function S(v){if(v&&v.__esModule)return v;if(null===v||"object"!=typeof v&&"function"!=typeof v)return{default:v};var p=D();if(p&&p.has(v))return p.get(v);var d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var b=l?Object.getOwnPropertyDescriptor(v,f):null;b&&(b.get||b.set)?Object.defineProperty(d,f,b):d[f]=v[f]}return d.default=v,p&&p.set(v,d),d}(H("../utils"));function D(){if("function"!=typeof WeakMap)return null;var v=new WeakMap;return D=function(){return v},v}function A(v){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function C(v){return v&&void 0!==v.video?Object.assign({},v,{video:P.compactObject(v.video)}):v}},{"../utils":"iSxC"}],GOQK:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.shimRTCIceCandidate=function I(m){if(m.RTCIceCandidate&&(!m.RTCIceCandidate||!("foundation"in m.RTCIceCandidate.prototype))){var v=m.RTCIceCandidate;m.RTCIceCandidate=function(p){if("object"===R(p)&&p.candidate&&0===p.candidate.indexOf("a=")&&((p=JSON.parse(JSON.stringify(p))).candidate=p.candidate.substr(2)),p.candidate&&p.candidate.length){var d=new v(p),l=P.default.parseCandidate(p.candidate),f=Object.assign(d,l);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new v(p)},m.RTCIceCandidate.prototype=v.prototype,D.wrapPeerConnectionEvent(m,"icecandidate",function(p){return p.candidate&&Object.defineProperty(p,"candidate",{value:new m.RTCIceCandidate(p.candidate),writable:"false"}),p})}},L.shimMaxMessageSize=function h(m,v){if(m.RTCPeerConnection){"sctp"in m.RTCPeerConnection.prototype||Object.defineProperty(m.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===v.browser&&v.version>=76){var{sdpSemantics:d}=this.getConfiguration();"plan-b"===d&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(B){if(!B||!B.sdp)return!1;var V=P.default.splitSections(B.sdp);return V.shift(),V.some(function(W){var Z=P.default.parseMLine(W);return Z&&"application"===Z.kind&&-1!==Z.protocol.indexOf("SCTP")})}(arguments[0])){var l,f=function(B){var V=B.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===V||V.length<2)return-1;var W=parseInt(V[1],10);return W!=W?-1:W}(arguments[0]),b=(N=f,j=65536,"firefox"===v.browser&&(j=v.version<57?-1===N?16384:2147483637:v.version<60?57===v.version?65535:65536:2147483637),j),O=function(B,V){var W=65536;"firefox"===v.browser&&57===v.version&&(W=65535);var Z=P.default.matchPrefix(B.sdp,"a=max-message-size:");return Z.length>0?W=parseInt(Z[0].substr(19),10):"firefox"===v.browser&&-1!==V&&(W=2147483637),W}(arguments[0],f);l=0===b&&0===O?Number.POSITIVE_INFINITY:0===b||0===O?Math.max(b,O):Math.min(b,O);var x={};Object.defineProperty(x,"maxMessageSize",{get:function(){return l}}),this._sctp=x}var N,j;return p.apply(this,arguments)}}},L.shimSendThrowTypeError=function C(m){if(m.RTCPeerConnection&&"createDataChannel"in m.RTCPeerConnection.prototype){var v=m.RTCPeerConnection.prototype.createDataChannel;m.RTCPeerConnection.prototype.createDataChannel=function(){var d=v.apply(this,arguments);return p(d,this),d},D.wrapPeerConnectionEvent(m,"datachannel",function(d){return p(d.channel,d.target),d})}function p(d,l){var f=d.send;d.send=function(){var b=arguments[0],O=b.length||b.size||b.byteLength;if("open"===d.readyState&&l.sctp&&O>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return f.apply(d,arguments)}}},L.shimConnectionState=function _(m){if(m.RTCPeerConnection&&!("connectionState"in m.RTCPeerConnection.prototype)){var v=m.RTCPeerConnection.prototype;Object.defineProperty(v,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(v,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(p){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),p&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=p)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(p){var d=v[p];v[p]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(l){var f=l.target;if(f._lastConnectionState!==f.connectionState){f._lastConnectionState=f.connectionState;var b=new Event("connectionstatechange",l);f.dispatchEvent(b)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),d.apply(this,arguments)}})}},L.removeExtmapAllowMixed=function w(m,v){if(m.RTCPeerConnection&&!("chrome"===v.browser&&v.version>=71||"safari"===v.browser&&v.version>=605)){var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(d){if(d&&d.sdp&&-1!==d.sdp.indexOf("\na=extmap-allow-mixed")){var l=d.sdp.split("\n").filter(function(f){return"a=extmap-allow-mixed"!==f.trim()}).join("\n");m.RTCSessionDescription&&d instanceof m.RTCSessionDescription?arguments[0]=new m.RTCSessionDescription({type:d.type,sdp:l}):d.sdp=l}return p.apply(this,arguments)}}},L.shimAddIceCandidateNullOrEmpty=function E(m,v){if(m.RTCPeerConnection&&m.RTCPeerConnection.prototype){var p=m.RTCPeerConnection.prototype.addIceCandidate;p&&0!==p.length&&(m.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===v.browser&&v.version<78||"firefox"===v.browser&&v.version<68||"safari"===v.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():p.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}};var P=function k(m){return m&&m.__esModule?m:{default:m}}(H("sdp")),D=function A(m){if(m&&m.__esModule)return m;if(null===m||"object"!=typeof m&&"function"!=typeof m)return{default:m};var v=S();if(v&&v.has(m))return v.get(m);var p={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in m)if(Object.prototype.hasOwnProperty.call(m,l)){var f=d?Object.getOwnPropertyDescriptor(m,l):null;f&&(f.get||f.set)?Object.defineProperty(p,l,f):p[l]=m[l]}return p.default=m,v&&v.set(m,p),p}(H("./utils"));function S(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return S=function(){return m},m}function R(m){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.adapterFactory=function C(){var{window:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},E=P.log,m=P.detectBrowser(_),v={browserDetails:m,commonShim:R,extractVersion:P.extractVersion,disableLog:P.disableLog,disableWarnings:P.disableWarnings};switch(m.browser){case"chrome":if(!D||!D.shimPeerConnection||!w.shimChrome)return E("Chrome shim is not included in this adapter release."),v;if(null===m.version)return E("Chrome shim can not determine version, not shimming."),v;E("adapter.js shimming chrome."),v.browserShim=D,R.shimAddIceCandidateNullOrEmpty(_,m),D.shimGetUserMedia(_,m),D.shimMediaStream(_,m),D.shimPeerConnection(_,m),D.shimOnTrack(_,m),D.shimAddTrackRemoveTrack(_,m),D.shimGetSendersWithDtmf(_,m),D.shimGetStats(_,m),D.shimSenderReceiverGetStats(_,m),D.fixNegotiationNeeded(_,m),R.shimRTCIceCandidate(_,m),R.shimConnectionState(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m),R.removeExtmapAllowMixed(_,m);break;case"firefox":if(!A||!A.shimPeerConnection||!w.shimFirefox)return E("Firefox shim is not included in this adapter release."),v;E("adapter.js shimming firefox."),v.browserShim=A,R.shimAddIceCandidateNullOrEmpty(_,m),A.shimGetUserMedia(_,m),A.shimPeerConnection(_,m),A.shimOnTrack(_,m),A.shimRemoveStream(_,m),A.shimSenderGetStats(_,m),A.shimReceiverGetStats(_,m),A.shimRTCDataChannel(_,m),A.shimAddTransceiver(_,m),A.shimGetParameters(_,m),A.shimCreateOffer(_,m),A.shimCreateAnswer(_,m),R.shimRTCIceCandidate(_,m),R.shimConnectionState(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m);break;case"edge":if(!S||!S.shimPeerConnection||!w.shimEdge)return E("MS edge shim is not included in this adapter release."),v;E("adapter.js shimming edge."),v.browserShim=S,S.shimGetUserMedia(_,m),S.shimGetDisplayMedia(_,m),S.shimPeerConnection(_,m),S.shimReplaceTrack(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m);break;case"safari":if(!k||!w.shimSafari)return E("Safari shim is not included in this adapter release."),v;E("adapter.js shimming safari."),v.browserShim=k,R.shimAddIceCandidateNullOrEmpty(_,m),k.shimRTCIceServerUrls(_,m),k.shimCreateOfferLegacy(_,m),k.shimCallbacksAPI(_,m),k.shimLocalStreamsAPI(_,m),k.shimRemoteStreamsAPI(_,m),k.shimTrackEventTransceiver(_,m),k.shimGetUserMedia(_,m),k.shimAudioContext(_,m),R.shimRTCIceCandidate(_,m),R.shimMaxMessageSize(_,m),R.shimSendThrowTypeError(_,m),R.removeExtmapAllowMixed(_,m);break;default:E("Unsupported browser!")}return v};var P=h(H("./utils")),D=h(H("./chrome/chrome_shim")),S=h(H("./edge/edge_shim")),A=h(H("./firefox/firefox_shim")),k=h(H("./safari/safari_shim")),R=h(H("./common_shim"));function I(){if("function"!=typeof WeakMap)return null;var _=new WeakMap;return I=function(){return _},_}function h(_){if(_&&_.__esModule)return _;if(null===_||"object"!=typeof _&&"function"!=typeof _)return{default:_};var w=I();if(w&&w.has(_))return w.get(_);var E={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in _)if(Object.prototype.hasOwnProperty.call(_,v)){var p=m?Object.getOwnPropertyDescriptor(_,v):null;p&&(p.get||p.set)?Object.defineProperty(E,v,p):E[v]=_[v]}return E.default=_,w&&w.set(_,E),E}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var D=(0,H("./adapter_factory.js").adapterFactory)({window:"undefined"==typeof window?void 0:window});L.default=D},{"./adapter_factory.js":"KtlG"}],sXtV:[function(H,ie,L){"use strict";var P=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(L,"__esModule",{value:!0}),L.webRTCAdapter=void 0;var D=P(H("webrtc-adapter"));L.webRTCAdapter=D.default},{"webrtc-adapter":"tI1X"}],I31f:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.Supports=void 0;var P=H("./adapter");L.Supports=new(function(){function D(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return D.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},D.prototype.isBrowserSupported=function(){var S=this.getBrowser(),A=this.getVersion();return!!this.supportedBrowsers.includes(S)&&("chrome"===S?A>=this.minChromeVersion:"firefox"===S?A>=this.minFirefoxVersion:"safari"===S&&!this.isIOS&&A>=this.minSafariVersion)},D.prototype.getBrowser=function(){return P.webRTCAdapter.browserDetails.browser},D.prototype.getVersion=function(){return P.webRTCAdapter.browserDetails.version||0},D.prototype.isUnifiedPlanSupported=function(){var S,A=this.getBrowser(),k=P.webRTCAdapter.browserDetails.version||0;if("chrome"===A&&k<72)return!1;if("firefox"===A&&k>=59)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var R=!1;try{(S=new RTCPeerConnection).addTransceiver("audio"),R=!0}catch(I){}finally{S&&S.close()}return R},D.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},D}())},{"./adapter":"sXtV"}],BHXf:[function(H,ie,L){"use strict";var P=this&&this.__createBinding||(Object.create?function(I,h,C,_){void 0===_&&(_=C),Object.defineProperty(I,_,{enumerable:!0,get:function(){return h[C]}})}:function(I,h,C,_){void 0===_&&(_=C),I[_]=h[C]}),D=this&&this.__setModuleDefault||(Object.create?function(I,h){Object.defineProperty(I,"default",{enumerable:!0,value:h})}:function(I,h){I.default=h}),S=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var h={};if(null!=I)for(var C in I)"default"!==C&&Object.prototype.hasOwnProperty.call(I,C)&&P(h,I,C);return D(h,I),h};Object.defineProperty(L,"__esModule",{value:!0}),L.util=void 0;var A=S(H("peerjs-js-binarypack")),k=H("./supports"),R={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};L.util=new(function(){function I(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=R,this.browser=k.Supports.getBrowser(),this.browserVersion=k.Supports.getVersion(),this.supports=function(){var h,C={browser:k.Supports.isBrowserSupported(),webRTC:k.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!C.webRTC)return C;try{h=new RTCPeerConnection(R),C.audioVideo=!0;var _=void 0;try{_=h.createDataChannel("_PEERJSTEST",{ordered:!0}),C.data=!0,C.reliable=!!_.ordered;try{_.binaryType="blob",C.binaryBlob=!k.Supports.isIOS}catch(w){}}catch(w){}finally{_&&_.close()}}catch(w){}finally{h&&h.close()}return C}(),this.pack=A.pack,this.unpack=A.unpack,this._dataCount=1}return I.prototype.noop=function(){},I.prototype.validateId=function(h){return!h||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(h)},I.prototype.chunk=function(h){for(var C=[],_=h.size,w=Math.ceil(_/L.util.chunkedMTU),E=0,m=0;m<_;){var v=Math.min(_,m+L.util.chunkedMTU),p=h.slice(m,v);C.push({__peerData:this._dataCount,n:E,data:p,total:w}),m=v,E++}return this._dataCount++,C},I.prototype.blobToArrayBuffer=function(h,C){var _=new FileReader;return _.onload=function(w){w.target&&C(w.target.result)},_.readAsArrayBuffer(h),_},I.prototype.binaryStringToArrayBuffer=function(h){for(var C=new Uint8Array(h.length),_=0;_<h.length;_++)C[_]=255&h.charCodeAt(_);return C.buffer},I.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},I.prototype.isSecure=function(){return"https:"===location.protocol},I}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(H,ie,L){"use strict";var P=Object.prototype.hasOwnProperty,D="~";function S(){}function A(h,C,_){this.fn=h,this.context=C,this.once=_||!1}function k(h,C,_,w,E){if("function"!=typeof _)throw new TypeError("The listener must be a function");var m=new A(_,w||h,E),v=D?D+C:C;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],m]:h._events[v].push(m):(h._events[v]=m,h._eventsCount++),h}function R(h,C){0==--h._eventsCount?h._events=new S:delete h._events[C]}function I(){this._events=new S,this._eventsCount=0}Object.create&&(S.prototype=Object.create(null),(new S).__proto__||(D=!1)),I.prototype.eventNames=function(){var h,C,_=[];if(0===this._eventsCount)return _;for(C in h=this._events)P.call(h,C)&&_.push(D?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(h)):_},I.prototype.listeners=function(h){var _=this._events[D?D+h:h];if(!_)return[];if(_.fn)return[_.fn];for(var w=0,E=_.length,m=new Array(E);w<E;w++)m[w]=_[w].fn;return m},I.prototype.listenerCount=function(h){var _=this._events[D?D+h:h];return _?_.fn?1:_.length:0},I.prototype.emit=function(h,C,_,w,E,m){var v=D?D+h:h;if(!this._events[v])return!1;var p,d,l=this._events[v],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(h,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,C),!0;case 3:return l.fn.call(l.context,C,_),!0;case 4:return l.fn.call(l.context,C,_,w),!0;case 5:return l.fn.call(l.context,C,_,w,E),!0;case 6:return l.fn.call(l.context,C,_,w,E,m),!0}for(d=1,p=new Array(f-1);d<f;d++)p[d-1]=arguments[d];l.fn.apply(l.context,p)}else{var b,O=l.length;for(d=0;d<O;d++)switch(l[d].once&&this.removeListener(h,l[d].fn,void 0,!0),f){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,C);break;case 3:l[d].fn.call(l[d].context,C,_);break;case 4:l[d].fn.call(l[d].context,C,_,w);break;default:if(!p)for(b=1,p=new Array(f-1);b<f;b++)p[b-1]=arguments[b];l[d].fn.apply(l[d].context,p)}}return!0},I.prototype.on=function(h,C,_){return k(this,h,C,_,!1)},I.prototype.once=function(h,C,_){return k(this,h,C,_,!0)},I.prototype.removeListener=function(h,C,_,w){var E=D?D+h:h;if(!this._events[E])return this;if(!C)return R(this,E),this;var m=this._events[E];if(m.fn)m.fn!==C||w&&!m.once||_&&m.context!==_||R(this,E);else{for(var v=0,p=[],d=m.length;v<d;v++)(m[v].fn!==C||w&&!m[v].once||_&&m[v].context!==_)&&p.push(m[v]);p.length?this._events[E]=1===p.length?p[0]:p:R(this,E)}return this},I.prototype.removeAllListeners=function(h){var C;return h?this._events[C=D?D+h:h]&&R(this,C):(this._events=new S,this._eventsCount=0),this},I.prototype.off=I.prototype.removeListener,I.prototype.addListener=I.prototype.on,I.prefixed=D,I.EventEmitter=I,void 0!==ie&&(ie.exports=I)},{}],WOs9:[function(H,ie,L){"use strict";var P=this&&this.__read||function(R,I){var h="function"==typeof Symbol&&R[Symbol.iterator];if(!h)return R;var C,_,w=h.call(R),E=[];try{for(;(void 0===I||I-- >0)&&!(C=w.next()).done;)E.push(C.value)}catch(m){_={error:m}}finally{try{C&&!C.done&&(h=w.return)&&h.call(w)}finally{if(_)throw _.error}}return E},D=this&&this.__spreadArray||function(R,I){for(var h=0,C=I.length,_=R.length;h<C;h++,_++)R[_]=I[h];return R};Object.defineProperty(L,"__esModule",{value:!0}),L.LogLevel=void 0;var S,R,A="PeerJS: ";(R=S=L.LogLevel||(L.LogLevel={}))[R.Disabled=0]="Disabled",R[R.Errors=1]="Errors",R[R.Warnings=2]="Warnings",R[R.All=3]="All";var k=function(){function R(){this._logLevel=S.Disabled}return Object.defineProperty(R.prototype,"logLevel",{get:function(){return this._logLevel},set:function(I){this._logLevel=I},enumerable:!1,configurable:!0}),R.prototype.log=function(){for(var I=[],h=0;h<arguments.length;h++)I[h]=arguments[h];this._logLevel>=S.All&&this._print.apply(this,D([S.All],P(I)))},R.prototype.warn=function(){for(var I=[],h=0;h<arguments.length;h++)I[h]=arguments[h];this._logLevel>=S.Warnings&&this._print.apply(this,D([S.Warnings],P(I)))},R.prototype.error=function(){for(var I=[],h=0;h<arguments.length;h++)I[h]=arguments[h];this._logLevel>=S.Errors&&this._print.apply(this,D([S.Errors],P(I)))},R.prototype.setLogFunction=function(I){this._print=I},R.prototype._print=function(I){for(var h=[],C=1;C<arguments.length;C++)h[C-1]=arguments[C];var _=D([A],P(h));for(var w in _)_[w]instanceof Error&&(_[w]="("+_[w].name+") "+_[w].message);I>=S.All?console.log.apply(console,D([],P(_))):I>=S.Warnings?console.warn.apply(console,D(["WARNING"],P(_))):I>=S.Errors&&console.error.apply(console,D(["ERROR"],P(_)))},R}();L.default=new k},{}],ZRYf:[function(H,ie,L){"use strict";var h;Object.defineProperty(L,"__esModule",{value:!0}),L.ServerMessageType=L.SocketEventType=L.SerializationType=L.PeerErrorType=L.PeerEventType=L.ConnectionType=L.ConnectionEventType=void 0,(h=L.ConnectionEventType||(L.ConnectionEventType={})).Open="open",h.Stream="stream",h.Data="data",h.Close="close",h.Error="error",h.IceStateChanged="iceStateChanged",function(h){h.Data="data",h.Media="media"}(L.ConnectionType||(L.ConnectionType={})),function(h){h.Open="open",h.Close="close",h.Connection="connection",h.Call="call",h.Disconnected="disconnected",h.Error="error"}(L.PeerEventType||(L.PeerEventType={})),function(h){h.BrowserIncompatible="browser-incompatible",h.Disconnected="disconnected",h.InvalidID="invalid-id",h.InvalidKey="invalid-key",h.Network="network",h.PeerUnavailable="peer-unavailable",h.SslUnavailable="ssl-unavailable",h.ServerError="server-error",h.SocketError="socket-error",h.SocketClosed="socket-closed",h.UnavailableID="unavailable-id",h.WebRTC="webrtc"}(L.PeerErrorType||(L.PeerErrorType={})),function(h){h.Binary="binary",h.BinaryUTF8="binary-utf8",h.JSON="json"}(L.SerializationType||(L.SerializationType={})),function(h){h.Message="message",h.Disconnected="disconnected",h.Error="error",h.Close="close"}(L.SocketEventType||(L.SocketEventType={})),function(h){h.Heartbeat="HEARTBEAT",h.Candidate="CANDIDATE",h.Offer="OFFER",h.Answer="ANSWER",h.Open="OPEN",h.Error="ERROR",h.IdTaken="ID-TAKEN",h.InvalidKey="INVALID-KEY",h.Leave="LEAVE",h.Expire="EXPIRE"}(L.ServerMessageType||(L.ServerMessageType={}))},{}],wJlv:[function(H,ie,L){"use strict";var _,P=this&&this.__extends||(_=function(w,E){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])})(w,E)},function(w,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function m(){this.constructor=w}_(w,E),w.prototype=null===E?Object.create(E):(m.prototype=E.prototype,new m)}),D=this&&this.__read||function(_,w){var E="function"==typeof Symbol&&_[Symbol.iterator];if(!E)return _;var m,v,p=E.call(_),d=[];try{for(;(void 0===w||w-- >0)&&!(m=p.next()).done;)d.push(m.value)}catch(l){v={error:l}}finally{try{m&&!m.done&&(E=p.return)&&E.call(p)}finally{if(v)throw v.error}}return d},S=this&&this.__spreadArray||function(_,w){for(var E=0,m=w.length,v=_.length;E<m;E++,v++)_[v]=w[E];return _},A=this&&this.__values||function(_){var w="function"==typeof Symbol&&Symbol.iterator,E=w&&_[w],m=0;if(E)return E.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&m>=_.length&&(_=void 0),{value:_&&_[m++],done:!_}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},k=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(L,"__esModule",{value:!0}),L.Socket=void 0;var R=H("eventemitter3"),I=k(H("./logger")),h=H("./enums"),C=function(_){function w(E,m,v,p,d,l){void 0===l&&(l=5e3);var f=_.call(this)||this;return f.pingInterval=l,f._disconnected=!0,f._messagesQueue=[],f._baseUrl=(E?"wss://":"ws://")+m+":"+v+p+"peerjs?key="+d,f}return P(w,_),w.prototype.start=function(E,m){var v=this;this._id=E,!this._socket&&this._disconnected&&(this._socket=new WebSocket(this._baseUrl+"&id="+E+"&token="+m),this._disconnected=!1,this._socket.onmessage=function(d){var l;try{l=JSON.parse(d.data),I.default.log("Server message received:",l)}catch(f){return void I.default.log("Invalid server message",d.data)}v.emit(h.SocketEventType.Message,l)},this._socket.onclose=function(d){v._disconnected||(I.default.log("Socket closed.",d),v._cleanup(),v._disconnected=!0,v.emit(h.SocketEventType.Disconnected))},this._socket.onopen=function(){v._disconnected||(v._sendQueuedMessages(),I.default.log("Socket open"),v._scheduleHeartbeat())})},w.prototype._scheduleHeartbeat=function(){var E=this;this._wsPingTimer=setTimeout(function(){E._sendHeartbeat()},this.pingInterval)},w.prototype._sendHeartbeat=function(){if(this._wsOpen()){var E=JSON.stringify({type:h.ServerMessageType.Heartbeat});this._socket.send(E),this._scheduleHeartbeat()}else I.default.log("Cannot send heartbeat, because socket closed")},w.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},w.prototype._sendQueuedMessages=function(){var E,m,v=S([],D(this._messagesQueue));this._messagesQueue=[];try{for(var p=A(v),d=p.next();!d.done;d=p.next())this.send(d.value)}catch(f){E={error:f}}finally{try{d&&!d.done&&(m=p.return)&&m.call(p)}finally{if(E)throw E.error}}},w.prototype.send=function(E){if(!this._disconnected)if(this._id)if(E.type){if(this._wsOpen()){var m=JSON.stringify(E);this._socket.send(m)}}else this.emit(h.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(E)},w.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},w.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},w}(R.EventEmitter);L.Socket=C},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(H,ie,L){"use strict";var P=this&&this.__assign||function(){return(P=Object.assign||function(C){for(var _,w=1,E=arguments.length;w<E;w++)for(var m in _=arguments[w])Object.prototype.hasOwnProperty.call(_,m)&&(C[m]=_[m]);return C}).apply(this,arguments)},D=this&&this.__awaiter||function(C,_,w,E){return new(w||(w=Promise))(function(m,v){function p(f){try{l(E.next(f))}catch(b){v(b)}}function d(f){try{l(E.throw(f))}catch(b){v(b)}}function l(f){var b;f.done?m(f.value):(b=f.value,b instanceof w?b:new w(function(O){O(b)})).then(p,d)}l((E=E.apply(C,_||[])).next())})},S=this&&this.__generator||function(C,_){var w,E,m,v,p={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return v={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function d(l){return function(f){return function(b){if(w)throw new TypeError("Generator is already executing.");for(;p;)try{if(w=1,E&&(m=2&b[0]?E.return:b[0]?E.throw||((m=E.return)&&m.call(E),0):E.next)&&!(m=m.call(E,b[1])).done)return m;switch(E=0,m&&(b=[2&b[0],m.value]),b[0]){case 0:case 1:m=b;break;case 4:return p.label++,{value:b[1],done:!1};case 5:p.label++,E=b[1],b=[0];continue;case 7:b=p.ops.pop(),p.trys.pop();continue;default:if(!(m=(m=p.trys).length>0&&m[m.length-1])&&(6===b[0]||2===b[0])){p=0;continue}if(3===b[0]&&(!m||b[1]>m[0]&&b[1]<m[3])){p.label=b[1];break}if(6===b[0]&&p.label<m[1]){p.label=m[1],m=b;break}if(m&&p.label<m[2]){p.label=m[2],p.ops.push(b);break}m[2]&&p.ops.pop(),p.trys.pop();continue}b=_.call(C,p)}catch(O){b=[6,O],E=0}finally{w=m=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([l,f])}}},A=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(L,"__esModule",{value:!0}),L.Negotiator=void 0;var k=H("./util"),R=A(H("./logger")),I=H("./enums"),h=function(){function C(_){this.connection=_}return C.prototype.startConnection=function(_){var w=this._startPeerConnection();if(this.connection.peerConnection=w,this.connection.type===I.ConnectionType.Media&&_._stream&&this._addTracksToConnection(_._stream,w),_.originator){if(this.connection.type===I.ConnectionType.Data){var E=this.connection,v=w.createDataChannel(E.label,{ordered:!!_.reliable});E.initialize(v)}this._makeOffer()}else this.handleSDP("OFFER",_.sdp)},C.prototype._startPeerConnection=function(){R.default.log("Creating RTCPeerConnection.");var _=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(_),_},C.prototype._setupListeners=function(_){var w=this,E=this.connection.peer,m=this.connection.connectionId,v=this.connection.type,p=this.connection.provider;R.default.log("Listening for ICE candidates."),_.onicecandidate=function(d){d.candidate&&d.candidate.candidate&&(R.default.log("Received ICE candidates for "+E+":",d.candidate),p.socket.send({type:I.ServerMessageType.Candidate,payload:{candidate:d.candidate,type:v,connectionId:m},dst:E}))},_.oniceconnectionstatechange=function(){switch(_.iceConnectionState){case"failed":R.default.log("iceConnectionState is failed, closing connections to "+E),w.connection.emit(I.ConnectionEventType.Error,new Error("Negotiation of connection to "+E+" failed.")),w.connection.close();break;case"closed":R.default.log("iceConnectionState is closed, closing connections to "+E),w.connection.emit(I.ConnectionEventType.Error,new Error("Connection to "+E+" closed.")),w.connection.close();break;case"disconnected":R.default.log("iceConnectionState changed to disconnected on the connection with "+E);break;case"completed":_.onicecandidate=k.util.noop}w.connection.emit(I.ConnectionEventType.IceStateChanged,_.iceConnectionState)},R.default.log("Listening for data channel"),_.ondatachannel=function(d){R.default.log("Received data channel");var l=d.channel;p.getConnection(E,m).initialize(l)},R.default.log("Listening for remote stream"),_.ontrack=function(d){R.default.log("Received remote stream");var l=d.streams[0],f=p.getConnection(E,m);f.type===I.ConnectionType.Media&&w._addStreamToMediaConnection(l,f)}},C.prototype.cleanup=function(){R.default.log("Cleaning up PeerConnection to "+this.connection.peer);var _=this.connection.peerConnection;if(_){this.connection.peerConnection=null,_.onicecandidate=_.oniceconnectionstatechange=_.ondatachannel=_.ontrack=function(){};var E=!1;if(this.connection.type===I.ConnectionType.Data){var m=this.connection.dataChannel;m&&(E=!!m.readyState&&"closed"!==m.readyState)}("closed"!==_.signalingState||E)&&_.close()}},C.prototype._makeOffer=function(){return D(this,void 0,Promise,function(){var _,w,E,m,v,p,d;return S(this,function(l){switch(l.label){case 0:_=this.connection.peerConnection,w=this.connection.provider,l.label=1;case 1:return l.trys.push([1,7,,8]),[4,_.createOffer(this.connection.options.constraints)];case 2:E=l.sent(),R.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return l.sent(),R.default.log("Set localDescription:",E,"for:"+this.connection.peer),m={sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:k.util.browser},this.connection.type===I.ConnectionType.Data&&(v=this.connection,m=P(P({},m),{label:v.label,reliable:v.reliable,serialization:v.serialization})),w.socket.send({type:I.ServerMessageType.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(p=l.sent())&&(w.emitError(I.PeerErrorType.WebRTC,p),R.default.log("Failed to setLocalDescription, ",p)),[3,6];case 6:return[3,8];case 7:return d=l.sent(),w.emitError(I.PeerErrorType.WebRTC,d),R.default.log("Failed to createOffer, ",d),[3,8];case 8:return[2]}})})},C.prototype._makeAnswer=function(){return D(this,void 0,Promise,function(){var _,w,E,m,v;return S(this,function(p){switch(p.label){case 0:_=this.connection.peerConnection,w=this.connection.provider,p.label=1;case 1:return p.trys.push([1,7,,8]),[4,_.createAnswer()];case 2:E=p.sent(),R.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),p.label=3;case 3:return p.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return p.sent(),R.default.log("Set localDescription:",E,"for:"+this.connection.peer),w.socket.send({type:I.ServerMessageType.Answer,payload:{sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,browser:k.util.browser},dst:this.connection.peer}),[3,6];case 5:return m=p.sent(),w.emitError(I.PeerErrorType.WebRTC,m),R.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return v=p.sent(),w.emitError(I.PeerErrorType.WebRTC,v),R.default.log("Failed to create answer, ",v),[3,8];case 8:return[2]}})})},C.prototype.handleSDP=function(_,w){return D(this,void 0,Promise,function(){var E,m,v,p;return S(this,function(d){switch(d.label){case 0:w=new RTCSessionDescription(w),E=this.connection.peerConnection,m=this.connection.provider,R.default.log("Setting remote description",w),v=this,d.label=1;case 1:return d.trys.push([1,5,,6]),[4,E.setRemoteDescription(w)];case 2:return d.sent(),R.default.log("Set remoteDescription:"+_+" for:"+this.connection.peer),"OFFER"!==_?[3,4]:[4,v._makeAnswer()];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:return p=d.sent(),m.emitError(I.PeerErrorType.WebRTC,p),R.default.log("Failed to setRemoteDescription, ",p),[3,6];case 6:return[2]}})})},C.prototype.handleCandidate=function(_){return D(this,void 0,Promise,function(){var w,E,m,v,p,d;return S(this,function(l){switch(l.label){case 0:R.default.log("handleCandidate:",_),w=_.candidate,E=_.sdpMLineIndex,m=_.sdpMid,v=this.connection.peerConnection,p=this.connection.provider,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,v.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:E,candidate:w}))];case 2:return l.sent(),R.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return d=l.sent(),p.emitError(I.PeerErrorType.WebRTC,d),R.default.log("Failed to handleCandidate, ",d),[3,4];case 4:return[2]}})})},C.prototype._addTracksToConnection=function(_,w){if(R.default.log("add tracks from stream "+_.id+" to peer connection"),!w.addTrack)return R.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");_.getTracks().forEach(function(E){w.addTrack(E,_)})},C.prototype._addStreamToMediaConnection=function(_,w){R.default.log("add stream "+_.id+" to media connection "+w.connectionId),w.addStream(_)},C}();L.Negotiator=h},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(H,ie,L){"use strict";var A,P=this&&this.__extends||(A=function(k,R){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,h){I.__proto__=h}||function(I,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(I[C]=h[C])})(k,R)},function(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=k}A(k,R),k.prototype=null===R?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(L,"__esModule",{value:!0}),L.BaseConnection=void 0;var S=function(A){function k(R,I,h){var C=A.call(this)||this;return C.peer=R,C.provider=I,C.options=h,C._open=!1,C.metadata=h.metadata,C}return P(k,A),Object.defineProperty(k.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),k}(H("eventemitter3").EventEmitter);L.BaseConnection=S},{eventemitter3:"JJlS"}],dbHP:[function(H,ie,L){"use strict";var w,P=this&&this.__extends||(w=function(E,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(v[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=E}w(E,m),E.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)}),D=this&&this.__assign||function(){return(D=Object.assign||function(w){for(var E,m=1,v=arguments.length;m<v;m++)for(var p in E=arguments[m])Object.prototype.hasOwnProperty.call(E,p)&&(w[p]=E[p]);return w}).apply(this,arguments)},S=this&&this.__values||function(w){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&w[E],v=0;if(m)return m.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&v>=w.length&&(w=void 0),{value:w&&w[v++],done:!w}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(L,"__esModule",{value:!0}),L.MediaConnection=void 0;var k=H("./util"),R=A(H("./logger")),I=H("./negotiator"),h=H("./enums"),_=function(w){function E(m,v,p){var d=w.call(this,m,v,p)||this;return d._localStream=d.options._stream,d.connectionId=d.options.connectionId||E.ID_PREFIX+k.util.randomToken(),d._negotiator=new I.Negotiator(d),d._localStream&&d._negotiator.startConnection({_stream:d._localStream,originator:!0}),d}return P(E,w),Object.defineProperty(E.prototype,"type",{get:function(){return h.ConnectionType.Media},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),E.prototype.addStream=function(m){R.default.log("Receiving stream",m),this._remoteStream=m,w.prototype.emit.call(this,h.ConnectionEventType.Stream,m)},E.prototype.handleMessage=function(m){var v=m.type,p=m.payload;switch(m.type){case h.ServerMessageType.Answer:this._negotiator.handleSDP(v,p.sdp),this._open=!0;break;case h.ServerMessageType.Candidate:this._negotiator.handleCandidate(p.candidate);break;default:R.default.warn("Unrecognized message type:"+v+" from peer:"+this.peer)}},E.prototype.answer=function(m,v){var p,d;if(void 0===v&&(v={}),this._localStream)R.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=m,v&&v.sdpTransform&&(this.options.sdpTransform=v.sdpTransform),this._negotiator.startConnection(D(D({},this.options._payload),{_stream:m}));var l=this.provider._getMessages(this.connectionId);try{for(var f=S(l),b=f.next();!b.done;b=f.next())this.handleMessage(b.value)}catch(x){p={error:x}}finally{try{b&&!b.done&&(d=f.return)&&d.call(f)}finally{if(p)throw p.error}}this._open=!0}},E.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,w.prototype.emit.call(this,h.ConnectionEventType.Close))},E.ID_PREFIX="mc_",E}(H("./baseconnection").BaseConnection);L.MediaConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(H,ie,L){"use strict";var R,P=this&&this.__extends||(R=function(I,h){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,_){C.__proto__=_}||function(C,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(C[w]=_[w])})(I,h)},function(I,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function C(){this.constructor=I}R(I,h),I.prototype=null===h?Object.create(h):(C.prototype=h.prototype,new C)}),D=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(L,"__esModule",{value:!0}),L.EncodingQueue=void 0;var S=H("eventemitter3"),A=D(H("./logger")),k=function(R){function I(){var h=R.call(this)||this;return h.fileReader=new FileReader,h._queue=[],h._processing=!1,h.fileReader.onload=function(C){h._processing=!1,C.target&&h.emit("done",C.target.result),h.doNextTask()},h.fileReader.onerror=function(C){A.default.error("EncodingQueue error:",C),h._processing=!1,h.destroy(),h.emit("error",C)},h}return P(I,R),Object.defineProperty(I.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),I.prototype.enque=function(h){this.queue.push(h),this.processing||this.doNextTask()},I.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},I.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},I}(S.EventEmitter);L.EncodingQueue=k},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(H,ie,L){"use strict";var w,P=this&&this.__extends||(w=function(E,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(v[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=E}w(E,m),E.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)}),D=this&&this.__values||function(w){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&w[E],v=0;if(m)return m.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&v>=w.length&&(w=void 0),{value:w&&w[v++],done:!w}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},S=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(L,"__esModule",{value:!0}),L.DataConnection=void 0;var A=H("./util"),k=S(H("./logger")),R=H("./negotiator"),I=H("./enums"),h=H("./baseconnection"),C=H("./encodingQueue"),_=function(w){function E(m,v,p){var d=w.call(this,m,v,p)||this;return d.stringify=JSON.stringify,d.parse=JSON.parse,d._buffer=[],d._bufferSize=0,d._buffering=!1,d._chunkedData={},d._encodingQueue=new C.EncodingQueue,d.connectionId=d.options.connectionId||E.ID_PREFIX+A.util.randomToken(),d.label=d.options.label||d.connectionId,d.serialization=d.options.serialization||I.SerializationType.Binary,d.reliable=!!d.options.reliable,d._encodingQueue.on("done",function(l){d._bufferedSend(l)}),d._encodingQueue.on("error",function(){k.default.error("DC#"+d.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),d.close()}),d._negotiator=new R.Negotiator(d),d._negotiator.startConnection(d.options._payload||{originator:!0}),d}return P(E,w),Object.defineProperty(E.prototype,"type",{get:function(){return I.ConnectionType.Data},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),E.prototype.initialize=function(m){this._dc=m,this._configureDataChannel()},E.prototype._configureDataChannel=function(){var m=this;A.util.supports.binaryBlob&&!A.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){k.default.log("DC#"+m.connectionId+" dc connection success"),m._open=!0,m.emit(I.ConnectionEventType.Open)},this.dataChannel.onmessage=function(v){k.default.log("DC#"+m.connectionId+" dc onmessage:",v.data),m._handleDataMessage(v)},this.dataChannel.onclose=function(){k.default.log("DC#"+m.connectionId+" dc closed for:",m.peer),m.close()}},E.prototype._handleDataMessage=function(m){var v=this,p=m.data,d=p.constructor,l=p;if(this.serialization===I.SerializationType.Binary||this.serialization===I.SerializationType.BinaryUTF8){if(d===Blob)return void A.util.blobToArrayBuffer(p,function(b){var O=A.util.unpack(b);v.emit(I.ConnectionEventType.Data,O)});if(d===ArrayBuffer)l=A.util.unpack(p);else if(d===String){var f=A.util.binaryStringToArrayBuffer(p);l=A.util.unpack(f)}}else this.serialization===I.SerializationType.JSON&&(l=this.parse(p));l.__peerData?this._handleChunk(l):w.prototype.emit.call(this,I.ConnectionEventType.Data,l)},E.prototype._handleChunk=function(m){var v=m.__peerData,p=this._chunkedData[v]||{data:[],count:0,total:m.total};if(p.data[m.n]=m.data,p.count++,this._chunkedData[v]=p,p.total===p.count){delete this._chunkedData[v];var d=new Blob(p.data);this._handleDataMessage({data:d})}},E.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,w.prototype.emit.call(this,I.ConnectionEventType.Close))},E.prototype.send=function(m,v){if(this.open)if(this.serialization===I.SerializationType.JSON)this._bufferedSend(this.stringify(m));else if(this.serialization===I.SerializationType.Binary||this.serialization===I.SerializationType.BinaryUTF8){var p=A.util.pack(m);if(!v&&p.size>A.util.chunkedMTU)return void this._sendChunks(p);A.util.supports.binaryBlob?this._bufferedSend(p):this._encodingQueue.enque(p)}else this._bufferedSend(m);else w.prototype.emit.call(this,I.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},E.prototype._bufferedSend=function(m){!this._buffering&&this._trySend(m)||(this._buffer.push(m),this._bufferSize=this._buffer.length)},E.prototype._trySend=function(m){var v=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>E.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){v._buffering=!1,v._tryBuffer()},50),!1;try{this.dataChannel.send(m)}catch(p){return k.default.error("DC#:"+this.connectionId+" Error when sending:",p),this._buffering=!0,this.close(),!1}return!0},E.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},E.prototype._sendChunks=function(m){var v,p,d=A.util.chunk(m);k.default.log("DC#"+this.connectionId+" Try to send "+d.length+" chunks...");try{for(var l=D(d),f=l.next();!f.done;f=l.next())this.send(f.value,!0)}catch(O){v={error:O}}finally{try{f&&!f.done&&(p=l.return)&&p.call(l)}finally{if(v)throw v.error}}},E.prototype.handleMessage=function(m){var v=m.payload;switch(m.type){case I.ServerMessageType.Answer:this._negotiator.handleSDP(m.type,v.sdp);break;case I.ServerMessageType.Candidate:this._negotiator.handleCandidate(v.candidate);break;default:k.default.warn("Unrecognized message type:",m.type,"from peer:",this.peer)}},E.ID_PREFIX="dc_",E.MAX_BUFFERED_AMOUNT=8388608,E}(h.BaseConnection);L.DataConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(H,ie,L){"use strict";var P=this&&this.__awaiter||function(I,h,C,_){return new(C||(C=Promise))(function(w,E){function m(d){try{p(_.next(d))}catch(l){E(l)}}function v(d){try{p(_.throw(d))}catch(l){E(l)}}function p(d){var l;d.done?w(d.value):(l=d.value,l instanceof C?l:new C(function(f){f(l)})).then(m,v)}p((_=_.apply(I,h||[])).next())})},D=this&&this.__generator||function(I,h){var C,_,w,E,m={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return E={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function v(p){return function(d){return function(l){if(C)throw new TypeError("Generator is already executing.");for(;m;)try{if(C=1,_&&(w=2&l[0]?_.return:l[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,l[1])).done)return w;switch(_=0,w&&(l=[2&l[0],w.value]),l[0]){case 0:case 1:w=l;break;case 4:return m.label++,{value:l[1],done:!1};case 5:m.label++,_=l[1],l=[0];continue;case 7:l=m.ops.pop(),m.trys.pop();continue;default:if(!(w=(w=m.trys).length>0&&w[w.length-1])&&(6===l[0]||2===l[0])){m=0;continue}if(3===l[0]&&(!w||l[1]>w[0]&&l[1]<w[3])){m.label=l[1];break}if(6===l[0]&&m.label<w[1]){m.label=w[1],w=l;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(l);break}w[2]&&m.ops.pop(),m.trys.pop();continue}l=h.call(I,m)}catch(f){l=[6,f],_=0}finally{C=w=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([p,d])}}},S=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(L,"__esModule",{value:!0}),L.API=void 0;var A=H("./util"),k=S(H("./logger")),R=function(){function I(h){this._options=h}return I.prototype._buildUrl=function(h){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+h+"?ts="+(new Date).getTime()+Math.random()},I.prototype.retrieveId=function(){return P(this,void 0,Promise,function(){var h,C,_,w;return D(this,function(E){switch(E.label){case 0:h=this._buildUrl("id"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw new Error("Error. Status:"+C.status);return[2,C.text()];case 3:throw _=E.sent(),k.default.error("Error retrieving ID",_),w="","/"===this._options.path&&this._options.host!==A.util.CLOUD_HOST&&(w=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+w);case 4:return[2]}})})},I.prototype.listAllPeers=function(){return P(this,void 0,Promise,function(){var h,C,w;return D(this,function(E){switch(E.label){case 0:h=this._buildUrl("peers"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw 401===C.status?new Error("It doesn't look like you have permission to list peers IDs. "+(this._options.host===A.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.")):new Error("Error. Status:"+C.status);return[2,C.json()];case 3:throw w=E.sent(),k.default.error("Error retrieving list peers",w),new Error("Could not get list peers from the server."+w);case 4:return[2]}})})},I}();L.API=R},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(H,ie,L){"use strict";var d,P=this&&this.__extends||(d=function(l,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,O){b.__proto__=O}||function(b,O){for(var x in O)Object.prototype.hasOwnProperty.call(O,x)&&(b[x]=O[x])})(l,f)},function(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=l}d(l,f),l.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}),D=this&&this.__assign||function(){return(D=Object.assign||function(d){for(var l,f=1,b=arguments.length;f<b;f++)for(var O in l=arguments[f])Object.prototype.hasOwnProperty.call(l,O)&&(d[O]=l[O]);return d}).apply(this,arguments)},S=this&&this.__values||function(d){var l="function"==typeof Symbol&&Symbol.iterator,f=l&&d[l],b=0;if(f)return f.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&b>=d.length&&(d=void 0),{value:d&&d[b++],done:!d}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__read||function(d,l){var f="function"==typeof Symbol&&d[Symbol.iterator];if(!f)return d;var b,O,x=f.call(d),N=[];try{for(;(void 0===l||l-- >0)&&!(b=x.next()).done;)N.push(b.value)}catch(j){O={error:j}}finally{try{b&&!b.done&&(f=x.return)&&f.call(x)}finally{if(O)throw O.error}}return N},k=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(L,"__esModule",{value:!0}),L.Peer=void 0;var R=H("eventemitter3"),I=H("./util"),h=k(H("./logger")),C=H("./socket"),_=H("./mediaconnection"),w=H("./dataconnection"),E=H("./enums"),m=H("./api"),p=function(d){function l(f,b){var O,x=d.call(this)||this;return x._id=null,x._lastServerId=null,x._destroyed=!1,x._disconnected=!1,x._open=!1,x._connections=new Map,x._lostMessages=new Map,f&&f.constructor==Object?b=f:f&&(O=f.toString()),b=D({debug:0,host:I.util.CLOUD_HOST,port:I.util.CLOUD_PORT,path:"/",key:l.DEFAULT_KEY,token:I.util.randomToken(),config:I.util.defaultConfig},b),x._options=b,"/"===x._options.host&&(x._options.host=window.location.hostname),x._options.path&&("/"!==x._options.path[0]&&(x._options.path="/"+x._options.path),"/"!==x._options.path[x._options.path.length-1]&&(x._options.path+="/")),void 0===x._options.secure&&x._options.host!==I.util.CLOUD_HOST?x._options.secure=I.util.isSecure():x._options.host==I.util.CLOUD_HOST&&(x._options.secure=!0),x._options.logFunction&&h.default.setLogFunction(x._options.logFunction),h.default.logLevel=x._options.debug||0,x._api=new m.API(b),x._socket=x._createServerConnection(),I.util.supports.audioVideo||I.util.supports.data?O&&!I.util.validateId(O)?(x._delayedAbort(E.PeerErrorType.InvalidID,'ID "'+O+'" is invalid'),x):(O?x._initialize(O):x._api.retrieveId().then(function(N){return x._initialize(N)}).catch(function(N){return x._abort(E.PeerErrorType.ServerError,N)}),x):(x._delayedAbort(E.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),x)}return P(l,d),Object.defineProperty(l.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"connections",{get:function(){var f,b,O=Object.create(null);try{for(var x=S(this._connections),N=x.next();!N.done;N=x.next()){var j=A(N.value,2);O[j[0]]=j[1]}}catch(W){f={error:W}}finally{try{N&&!N.done&&(b=x.return)&&b.call(x)}finally{if(f)throw f.error}}return O},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),l.prototype._createServerConnection=function(){var f=this,b=new C.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return b.on(E.SocketEventType.Message,function(O){f._handleMessage(O)}),b.on(E.SocketEventType.Error,function(O){f._abort(E.PeerErrorType.SocketError,O)}),b.on(E.SocketEventType.Disconnected,function(){f.disconnected||(f.emitError(E.PeerErrorType.Network,"Lost connection to server."),f.disconnect())}),b.on(E.SocketEventType.Close,function(){f.disconnected||f._abort(E.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),b},l.prototype._initialize=function(f){this._id=f,this.socket.start(f,this._options.token)},l.prototype._handleMessage=function(f){var b,O,x=f.type,N=f.payload,j=f.src;switch(x){case E.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(E.PeerEventType.Open,this.id);break;case E.ServerMessageType.Error:this._abort(E.PeerErrorType.ServerError,N.msg);break;case E.ServerMessageType.IdTaken:this._abort(E.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case E.ServerMessageType.InvalidKey:this._abort(E.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case E.ServerMessageType.Leave:h.default.log("Received leave message from "+j),this._cleanupPeer(j),this._connections.delete(j);break;case E.ServerMessageType.Expire:this.emitError(E.PeerErrorType.PeerUnavailable,"Could not connect to peer "+j);break;case E.ServerMessageType.Offer:var B=N.connectionId;if((se=this.getConnection(j,B))&&(se.close(),h.default.warn("Offer received for existing Connection ID:"+B)),N.type===E.ConnectionType.Media)se=new _.MediaConnection(j,this,{connectionId:B,_payload:N,metadata:N.metadata}),this._addConnection(j,se),this.emit(E.PeerEventType.Call,se);else{if(N.type!==E.ConnectionType.Data)return void h.default.warn("Received malformed connection type:"+N.type);se=new w.DataConnection(j,this,{connectionId:B,_payload:N,metadata:N.metadata,label:N.label,serialization:N.serialization,reliable:N.reliable}),this._addConnection(j,se),this.emit(E.PeerEventType.Connection,se)}var V=this._getMessages(B);try{for(var W=S(V),Z=W.next();!Z.done;Z=W.next())se.handleMessage(Z.value)}catch(de){b={error:de}}finally{try{Z&&!Z.done&&(O=W.return)&&O.call(W)}finally{if(b)throw b.error}}break;default:if(!N)return void h.default.warn("You received a malformed message from "+j+" of type "+x);var se;(se=this.getConnection(j,B=N.connectionId))&&se.peerConnection?se.handleMessage(f):B?this._storeMessage(B,f):h.default.warn("You received an unrecognized message:",f)}},l.prototype._storeMessage=function(f,b){this._lostMessages.has(f)||this._lostMessages.set(f,[]),this._lostMessages.get(f).push(b)},l.prototype._getMessages=function(f){var b=this._lostMessages.get(f);return b?(this._lostMessages.delete(f),b):[]},l.prototype.connect=function(f,b){if(void 0===b&&(b={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var O=new w.DataConnection(f,this,b);return this._addConnection(f,O),O},l.prototype.call=function(f,b,O){if(void 0===O&&(O={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(b){O._stream=b;var x=new _.MediaConnection(f,this,O);return this._addConnection(f,x),x}h.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},l.prototype._addConnection=function(f,b){h.default.log("add connection "+b.type+":"+b.connectionId+" to peerId:"+f),this._connections.has(f)||this._connections.set(f,[]),this._connections.get(f).push(b)},l.prototype._removeConnection=function(f){var b=this._connections.get(f.peer);if(b){var O=b.indexOf(f);-1!==O&&b.splice(O,1)}this._lostMessages.delete(f.connectionId)},l.prototype.getConnection=function(f,b){var O,x,N=this._connections.get(f);if(!N)return null;try{for(var j=S(N),B=j.next();!B.done;B=j.next()){var V=B.value;if(V.connectionId===b)return V}}catch(W){O={error:W}}finally{try{B&&!B.done&&(x=j.return)&&x.call(j)}finally{if(O)throw O.error}}return null},l.prototype._delayedAbort=function(f,b){var O=this;setTimeout(function(){O._abort(f,b)},0)},l.prototype._abort=function(f,b){h.default.error("Aborting!"),this.emitError(f,b),this._lastServerId?this.disconnect():this.destroy()},l.prototype.emitError=function(f,b){var O;h.default.error("Error:",b),(O="string"==typeof b?new Error(b):b).type=f,this.emit(E.PeerEventType.Error,O)},l.prototype.destroy=function(){this.destroyed||(h.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(E.PeerEventType.Close))},l.prototype._cleanup=function(){var f,b;try{for(var O=S(this._connections.keys()),x=O.next();!x.done;x=O.next()){var N=x.value;this._cleanupPeer(N),this._connections.delete(N)}}catch(j){f={error:j}}finally{try{x&&!x.done&&(b=O.return)&&b.call(O)}finally{if(f)throw f.error}}this.socket.removeAllListeners()},l.prototype._cleanupPeer=function(f){var b,O,x=this._connections.get(f);if(x)try{for(var N=S(x),j=N.next();!j.done;j=N.next())j.value.close()}catch(B){b={error:B}}finally{try{j&&!j.done&&(O=N.return)&&O.call(N)}finally{if(b)throw b.error}}},l.prototype.disconnect=function(){if(!this.disconnected){var f=this.id;h.default.log("Disconnect peer with ID:"+f),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=f,this._id=null,this.emit(E.PeerEventType.Disconnected,f)}},l.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)h.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");h.default.error("In a hurry? We're still trying to make the initial connection!")}},l.prototype.listAllPeers=function(f){var b=this;void 0===f&&(f=function(O){}),this._api.listAllPeers().then(function(O){return f(O)}).catch(function(O){return b._abort(E.PeerErrorType.ServerError,O)})},l.DEFAULT_KEY="peerjs",l}(R.EventEmitter);L.Peer=p},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(H,ie,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.peerjs=void 0;var P=H("./util"),D=H("./peer");L.peerjs={Peer:D.Peer,util:P.util},L.default=D.Peer,window.peerjs=L.peerjs,window.Peer=D.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])},784:Ir=>{function zn(Ar){var H=new Error("Cannot find module '"+Ar+"'");throw H.code="MODULE_NOT_FOUND",H}zn.keys=()=>[],zn.resolve=zn,zn.id=784,Ir.exports=zn}},Ir=>{Ir(Ir.s=542)}]);